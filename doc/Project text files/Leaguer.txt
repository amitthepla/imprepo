Virtual host configuration:
------------------------------------------
Can you run this command: apache2ctl -S

apache2ctl -S

Jes Amy G: You have two options -- you can configure your load balancer for ssl termination, putting your ssl certificate on the load balancer.
Jes Amy G: Or, you will need another load balancer with a cloned IP that is enabled for port 443.
You: is the first option is secure?
Jes Amy G: It is, but I am not sure that you would be able to use a wildcard/self-signed certificate with the first option.


VirtualHost configuration:
209.20.68.40:80        is a NameVirtualHost
         default server tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:1)
         port 80 namevhost tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:1)
209.20.68.40:443       is a NameVirtualHost
         default server tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:10)
         port 443 namevhost tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:10)
wildcard NameVirtualHosts and _default_ servers:
*:80                   sordemo.com (/etc/apache2/sites-enabled/001_sordemo.include:2)
*:443                  sordemo.com (/etc/apache2/sites-enabled/001_sordemo.include:78)
Syntax OK


/etc/apache2/ssl/sordemo/sordemo.pem


========================================================================================================
ssl + loadbalancer

1. loadbalancer setup issue fix
	>> Found some configuration issue in apache. (Apache was responding, but it was not serving the proper content to the load balancer.)
	>> To see vhost configuration by command "apache2ctl -S"
	>> Changed the top line to *:80 rather than 209.20.68.40:80
	>> And the same thing for SSL -- *:443
		

2. loadbalancer with ssl
	There are two options to handle ssl with load balancer

	1. We can configure your load balancer for ssl termination, putting your ssl certificate on the load balancer. ($0.05/hour)
	2. We need another load balancer with a cloned IP that is enabled for port 443. ($0.01/hour)

	We integrated the second option for sordemo.com

	http://docs.rackspace.com/loadbalancers/api/v1.0/clb-devguide/content/SSLTermination-d1e2479.html
	http://www.rackspace.com/knowledge_center/product-faq/cloud-load-balancers

=============================================================================================================
VirtualHost configuration: 209.20.68.40:80 is a NameVirtualHost default server sordemo.com (/etc/apache2/sites-enabled/001_sordemo.include:1) port 80 namevhost sordemo.com (/etc/apache2/sites-enabled/001_sordemo.include:1) port 80 namevhost tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:1)
 
 
Yes. It does seem to be an issue within the apache configuration. Apache is responding, but it is not serving the proper content to the load balancer.

apache2ctl -S

So you will need to change the top line to *:80 rather than 209.20.68.40:80

And the same thing for SSL -- *:443
 
VirtualHost configuration:
209.20.68.40:80        is a NameVirtualHost
         default server tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:1)
         port 80 namevhost tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:1)
209.20.68.40:443       is a NameVirtualHost
         default server tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:10)
         port 443 namevhost tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:10)
wildcard NameVirtualHosts and _default_ servers:
*:80                   sordemo.com (/etc/apache2/sites-enabled/001_sordemo.include:2)
*:443                  sordemo.com (/etc/apache2/sites-enabled/001_sordemo.include:78)
----------------------------------------------------------------------------------------------------------------


/etc/httpd/conf.d/leaguerprod.com.conf

Production
----------
phizzed.com

Checklist
==========
Crontab
-------
bundle update whenever chronic (if time related )
/usr/local/rvm/environments/ruby-2.1.5@leguer215
whenever --update-crontab SportsOnRails --set environment='production'
whenever --clear-crontab SportsOnRails --set environment='production'


> mailer configuration
> default host change in respective environments
> files inside public folder
> verify the creds in yml files
> crontab setup
> redis host changes
> Change cache store in config/environments/*.rb
	config.cache_store = :file_store, "/var/www/html/Jenkins/workspace/SportOnRails/tmp/cache" 
>> full permission to public/tmp
>> symlink
	database.yml amazon_fps.yml twitter.yml facebook.yml bitly.yml paypal_adaptive.yml shutterfly.yml


Server commands
=================
ps aux | grep sidekiq
pkill -f sidekiq
bundle exec sidekiq -d -e staging -L log/sidekiq.log

Crontab
=======
54.175.30.189 => crontab + redis
54.88.138.116 => application


Production sever login
============================
ssh with carmen@leaguer.org and password robotwar

http://brooklynvolleyball.com/

cd /var/www/vhosts/sor/current/log
then you can look at the production.log file
you can see we split the log after a certain amount of time and have archived versions of older parts of the log

Staging 
=========
carmenb@sordemo.com
then cd /var/www/vhosts/sor/current/log

Amazon Creds
=============
If you go to https://payments-sandbox.amazon.com
men Bellavia: you can log in with admin@sportsonrails.com

Sidekiq
=========
bundle exec sidekiq -d -L log/sidekiq.log
pkill -f sidekiq
ps aux | grep sidekiq

Errors
======
https://github.com/errbit/errbit
https://github.com/gshutler/browser_details


vagrant package --base MyDev_default_1430732923731_79975 --output E:\SW

Facebook
=========
https://developers.facebook.com/docs/facebook-login/permissions/v2.3#permissions (Search for "your app can be used by people other than the app's developers")
https://developers.facebook.com/docs/apps/review
https://developers.facebook.com/policy



Sidekiq
=========
Sidekiq.configure_server do |config|
 config.redis = { :url => 'redis://leaguer.qw0xld.0001.use1.cache.amazonaws.com:6379' }
end

Sidekiq.configure_client do |config|
 config.redis = { :url => 'redis://leaguer.qw0xld.0001.use1.cache.amazonaws.com:6379' }
end

Mysql dump
==========
mysqldump -h leaguer.cf5aqt8ebn9n.us-east-1.rds.amazonaws.com -u admin -p sportsdev > sportsdev_428.sql
mysql -h localhost -u root -p sportsdev < sportsdev_824.sql

LegD#guer*!2


mysql -h 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com -u admin -p sportsdev < sportsonrails_demo_2015-07-13.sql
LegD#guer*!2


mysqldump -h 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com -u admin -p sportsdev > sportsonrails_demo_2015-07-13.sql




development: &leaguerdemo
  adapter: mysql2
  database: sportsdev
  username: admin
  password: LegD#guer*!2
  port: 3306
  host: 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com
  encoding: utf8
  timeout: 5000
  #socket: /var/lib/mysql/mysql.sock


staging:
  <<: *leaguerdemo
  
mysqldump -h 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com -u admin -p sportsdev > sportsonrails_demo_2015-06.sql





mysql -h 5977090134f378be5da808d5e2982afbb477ff44.rackspaceclouddb.com -u leaguerprod -p sportsdev < sportsonrails_demo_2015-07-13.sql

mysql -h localhost -u root -p sportsdev < sportsonrails_demo_2015-06-29


Remove lock file in vagrant
============================
C:\HashiCorp\Vagrant\bin

https://github.com/activerecord-hackery/ransack

http://erniemiller.org/2011/08/31/rails-3-1-and-the-future-of-metawhere-and-metasearch/#more-978

Autoloading fixes
==================
http://urbanautomaton.com/blog/2013/08/27/rails-autoloading-hell/

http://edgeguides.rubyonrails.org/autoloading_and_reloading_constants.html#require-dependency


======================


 @file = File.new("#{Rails.root}/log/today_task.log", "a")
                       @file.puts 'Notification for today task to users' + ' ' + "executed on" + ' ' + Time.zone.now.to_s 
                       @file.puts "Date:" + Time.zone.now.strftime("%m/%d/%Y").to_s
                       @file.puts "user---->" + ' :' + user.id.to_s + " First name:" +(user.first_name.present? ? user.first_name : '')
  	                   @file.close



http://emaxime.com/2014/adding-a-staging-environment-to-rails.html

Mailcatcher
============

mailcatcher  --http-ip=0.0.0.0


Enter MailCatcher

MailCatcher is a ruby gem that runs a local SMTP server on your machine. Any email message sent to this SMTP server will be captured and not sent out.

https://github.com/sj26/mailcatcher/issues/182


Delayed Job
===========
ruby lib/background_job.rb start
ruby lib/background_job.rb stop

https://github.com/collectiveidea/delayed_job


Links
=====
http://rishabh23.blogspot.in/2012/11/prototypelegacyhelper-for-rails-309.html


Start cmd prompt:
--------------------
D:/SportOnRails/vagrant up
			vagrant ssh
			
putty login
127.0.0.1:2222

cd /vagrant/SportOnRails

vagrant stop/exit
-----------------
vagrant halt

=========================================================================================================================
http://fernandomarcelo.com/2012/05/paperclip-how-to-move-existing-attachments-to-a-new-path/

rake task for moving data


http://railscasts.com/episodes/282-upgrading-to-rails-3-1?view=asciicast

Leaguer is free, easy to use league management software that enables you to manage all aspects of your team, club or league.  
Leaguer makes it easy to update the content on your website, manage online registration and broadcast game changes.  
Leaguer also integrates with leading social websites, meaning you can post announcements on your website, facebook page and twitter feeds as well as send email and text messages simultaneously with a single click.

live db
=========
54.88.138.116

http://52.6.155.139/index.php
username: admin
password: LegD#guer*!2


//192.168.2.218
putty - root/andola
cd /var/www/html/SportsOnRails3
rvm use ruby-2.0.0-p598@leaguer3
rails s

http://softball.lvh.me:3000

admin - admin@leaguer.org/test1234
user - johntest@andolasoft.com/test1234

http://192.168.2.218:81/phpmyadmin/
root
andola123
===============================
Here is a link to a demo site
http://softball.sordemo.com
You can log in with:
email address: jim@sportsonrails.com
password: password

https://gist.github.com/1301199/a19adcb7687f2adfc927c9e8da3d716960833797

----- BEGIN LICENSE -----  Alexander Single User License EA7E-814345 51F47F09 4EAB1285 7827EFF0 8B1207DC A76A6EA3 E1A1CA7A DC1F2703 14,897,784 8EDC1C82 3F2A58B9 1C0C8B24 67686432 281245B3 6233DE5C ADC5C2F9 61FB8A04 171B63EF 86BA423F 6AC884FD 3273A7AA 5F50A6DB CE7859AE D62D2B37 AEEDD8C2 078A8A20 70EEA791 84F48C1E 8ABA7DEB 0B3907C0 C9A3523B 0091A045 6F67AED8 ------ END LICENSE ------ 

Source: http://vatkurnote.blogspot.in/2013/02/sublime-text-2-with-license-key.html

http://softball.sordemo.com/

tail -f /var/log/httpd/error_log

Modules
========
Site builder
Files
Photos
Pages
Products
Activities

http://softball.sordemo.com/

The superuser account on sordemo.com is

admin@leaguer.org/leaguer123

Normal user
==============

email address: jim@sportsonrails.com
password: password


Major issues
---------------
mac javascript slowness
tinymce editor
deprecated methods

Environment setup with ruby 2 and rails 3
Gem depedency issues
upgrade router syntax
upgrade model syntax

Deprecated RAILS_ENV, RAILS_ROOT, RAILS_DEFAULT_LOGGER

http://blog.x-aeon.com/2012/12/19/migrating-big-applications-from-rails-2-to-rails-3/#MRAFR2TR3_Changing


admin >> customers >> click on name
admin >> settings >> administrator >> Add an administrator

Issues found:
=======================
URL: http://softball.lvh.me:3000/administration/activities/new
ActiveModel::MassAssignmentSecurity::Error in Administration/activities#new 
Showing /var/www/html/SportsOnRails3/app/views/administration/activities/new.html.erb where line #7 raised: 
-----------------------------------------------
Admin >> Pages 
double form submit issue
permalink issue
routing issue
routing issue in page create

1. Contact us >> loader issue




----------------------------------------------

DT: Mar 19, 2015
-----------------
Admin login >> Manage sites >> Files
http://softball.lvh.me:3000/administration/assets

mysql2 statement 'type' cannot be null while saving the file 

NoMethodError (undefined method `%' for #<Pathname:/public/assets/%d/>):
app/models/organization.rb
app/models/assets/asset.rb

DT: Mar 20, 2015
-----------------

Manage Site >> Pages

Fixing the tinymce issue in new page
Fixing the inherit widget tree list issue for "Inherit Widgets From" field
Fix the create folder popup page displaying issue
Fixing the tinymce issue in edit page in admin >> page section

app\views\pages\_new.html.erb
app\controllers\pages_controller.rb
app\views\pages\_edit.html.erb
app\controllers\administration
app\views\pages\_index_tree_container.html.erb
app\views\pages\_index_tree.html.erb
app\assets\javascripts\tree\tree.js
app\views\pages\_page_tree_node.html.erb
app\views\pages\_edit.html.erb


Administration >> Page Management

1.New page WIP
  Tinymce Done
  Tree - directory Done
  Create folder - WIP
2.Publish/Un-publish Done
3.Archive Done
4.Batch Edit
5.Edit Sort Order
6.Page Actions


Next week plan of action (23rd Mar - 27th Mar)

Admin >> Manage site  >> page section
					  >> Scheduler
					  >> product
					  >> page
					  >> photo
					  >> Activities
	  >> Cart
	  >> My Account
					  
					  




Processing PagesController#create (for 192.168.2.245 at 2015-03-20 17:01:07) [POST]
  Parameters: {"controller"=>"pages", "context"=>"new_folder", "action"=>"create", "_"=>"", "commit"=>"Publish", "id"=>"2", "current_page_id"=>"7", "authenticity_token"=>"2irPjuy27KuQRGvwZNF0ZaF0hzu0acVNjCVnY0S8pBU=", "page"=>{"theme_id"=>"3", "parent_page_id"=>"7", "title"=>"ss", "publish"=>"true", "layout_id"=>"3"}}
  
  
  {"utf8"=>"â", "authenticity_token"=>"c7mJZH9eeTmRHrZCEci/fV9kCVcvgSv/AFXnotjSXrA=", "folder"=>{"layout_id"=>"3", "theme_id"=>"3", "parent_page_id"=>"7", "publish"=>"true", "title"=>"545"}, "commit"=>"Publish", "context"=>"new_folder", "current_page_id"=>"7", "id"=>"2", "action"=>"create", "controller"=>"pages"}


DT: Mar 23, 2015
-----------------

Admin >> page >> Create folder 
Admin >> My Account >> Settings


<form id="new_folder" class="new_folder" method="post" data-remote="true" action="/pages?context=new_folder&current_page_id=4472&id=2" accept-charset="UTF-8">

<form onsubmit="new Ajax.Request('/pages/create/2?context=new_folder&current_page_id=4472', {asynchronous:true, evalScripts:true, parameters:Form.serialize(this)}); return false;" method="post" action="/pages/create/2?context=new_folder&current_page_id=4472">


{"utf8"=>"â", "authenticity_token"=>"W8w6mEDjJnEWocU6iNQ5PpMMx9VEQcy/jiFlZQlGxfg=", "folder"=>{"layout_id"=>"3", "theme_id"=>"3", "parent_page_id"=>"7", "publish"=>"true", "title"=>"kadali"}, "commit"=>"Publish", "context"=>"new_folder", "current_page_id"=>"7", "id"=>"2", "action"=>"create", "controller"=>"pages"}

Parameters: {"context"=>"new_folder", "current_page_id"=>"4472", "authenticity_token"=>"QAe4AlDb5Bs/LlCFFZjLWrzMnwyXSNDCIQzhuTarsiA=", "controller"=>"pages", "action"=>"create", "id"=>"2", "page"=>{"parent_page_id"=>"4472", "theme_id"=>"3", "title"=>"fs", "layout_id"=>"3", "publish"=>"true"}, "commit"=>"Publish"}


Fix the page break issue while creating folder in admin page section.
Fix the form initialize issue with page object in create folder page.
Fix the page break issue while updating a page under admin page section.
Fix the "undefined method `has_key?' for #<UserPerson:0x11ea0158>" in edit account details page admin section.
Fix the validation issue while changing password in admin section.


app\controllers\pages_controller.rb
app\views\pages\_new.html.erb
app\views\pages\_edit.html.erb
app\views\pages\_new_folder.html.erb
app\views\account\settings\edit.html.erb
app\controllers\account\settings_controller.rb
app\models\widgets\page_title.rb
app\models\page_widget.rb
app\models\widgets\page_content.rb
app\models\widgets\inherited_group.rb
app\models\page.rb
app\views\account\settings\edit.html.erb


NoMethodError (undefined method `has_role?' for nil:NilClass):
  app/controllers/administration/photos_controller.rb:10:in `new'


DT: Mar 24, 2015
-----------------

I can view the home page and simple content pages: http://softball.lth.me:3030/page/gallery
I can view product pages, but can’t add a product to my cart: http://softball.lth.me:3030/page/soccer-jersey
I’m unable to view an activity page: http://softball.lth.me:3030/page/2014-girls-travel-team
I can’t sign in to the application in order to view the administration area: http://softball.lth.me:3030/account/login



Questions:

Q1.
we have changed default host "DEFAULT_HOST = (SERVER_TYPE == 'phusion_passenger') ? 'sportsonrails.com' : 'leaguerdemo.com'" in config/environments/development.rb.

But still the default page is displayed.
http://leaguerdemo.com:3000/

http://54.88.138.116:3000/

Can you give us any subdomain url for our use in AWS dev environment.


Q2. You have used 2 extra plugins for tinymce.we got the first plugin for image. what is the second plugin?


DT: Mar 25, 2015
-----------------
phpmyadmin in VM
wildcard setup in apache on AWS server


Fix issue with file section
page section 
create a site

Modified Files
---------------
D:\AMIT_GIT\SportsOnRails\app\controllers\account_controller.rb


Fixed "Errno::ENOENT: No such file or directory" issue while creating file with administration file section in aws server.
Added the condition to use SSL only in production environment in aws server
Fixed the "undefined method id" issue while updating profile with my accounts setting section in aws server.
Fixed the "undefined method `has_key?' for #<UserPerson:0x11ea0158>" in edit account details page admin section in aws server.

Modified files


Next plan of action

To fix the routing issue while creating a page under admin pages section
To fix issues with admin photo section

DT: Mar 25, 2015
-----------------

Fixed the "undefined method id" issue

ANM
---
>> Page
>> tinyme => 2plugins
	1. picture
	2. linkup

Krs
---
>> Product
Fixed the double submit issue while creating page and folder popup in admin page section
Fixed the page break issue while creating folder in admin page section
Fixed the permalink issue while creating page in admin page section
Fixed  the folder publish/save issue in admin page section
Fixed the undefined method `is_numeric?' for batch edit under pages section
Modified the image path for products listing page
Fixed the issues on edit sort order in admin pages section
Fixed the select a category tree listing under admin products section
Modified routes for photo accounts under create new category >> select images products section
Pushed all the changed to "andola-leaguer" branch in github

Modified Files

app/controllers/administration/pages_controller.rb

Next plan of action
To fix "html_escape" issue while uploading photo to album



AMT
---
>> Photo


DT: Mar 26, 2015
-----------------


https://github.com/timcharper/role_requirement
http://kconrails.com/ruby-gems-plugins-restful_roles

#51: Administration - Entering an administration URL causes an error when not signed in

Main issue
==============
prototype_ujs.js is conflicting with jquery_ujs.js
form_for :remote=>true is not creating ajax events


Hi Carmen,

Fixed the html_escape issue in admin photo section
Fixed "SWFUpload" initialize issue in admin photo section
Fixed the model validation displaying issues while creating album in admin photo section
Fixed the "Invalid UTF-8 Byte sequence" while calling the swfupload.js for admin photo section
Fixed the auto update tree widget issue while creating a folder in admin page section
Modified the form_tag for batch edit in the admin products section
Modified routes for add an option in the admin products section
Pushed all the changes to the "andola-leaguer" branch in github

Next plan of action
To fix page break issue while creating product
To fix the photo upload into album in admin photo section
To fix the js conflict issue while submitting any form with remote true option.

Modified Files
app\views\administration\photos\_new.html.erb
app\assets\javascripts\application.js
app\assets\javascripts\swfupload\swfupload.js
app\views\administration\products\actions\_batch_edit.html.erb
app\assets\javascripts\app_public.js
app\assets\stylesheets\ui_components\tree\tree.css
app\views\administration\photos\_new.html.erb
app\views\administration\products\_page_row_item.html.erb
app\views\administration\products\actions\_batch_edit.html.erb
app\views\administration\products\actions\_batch_edit_page_row.html.erb
app\views\pages\_new_copy.html.erb
app\views\products\_brand_selector.html.erb

Here are the list of completed sections so far

Files Administration	
	Add File
	Delete File

Products Administration
	Action Buttons
		Publish
		Unpublish
		Archive
		Unarchive
	Batch Edit
		Price
		Cost
		Publish Status
		For Sale Status
		SKU
		Save and Continue
		Save & Close
		Close
	Edit Sort Order
	Export to CSV
	
	Product Search
		Search by each of the filters
		Test reset link

Front End User actions
    My Account (Excluding FB Connect)

Please verify and let us know if any issues found.

Best,
Anurag


DT: Mar 27, 2015
-----------------
"require_role" deprecated
Add tinymce plugin (picture and link)





Order Administration

Orders Area

    Action Buttons

        New Order
        Export to CSV
        Send Payment Request
        Add item to selected orders
        Add selected customers to a group

    Search

        Test that all filters work
        test reset link works

    Order line items

        Test pagination
        Click on order number to view order details (See View Order Page)
        Click on balance due to admin payment page

Order Details area

Donations - We can remove this section

Team Payments - Not critical

All Payments

    Search

        Make sure all filters work
        Make sure reset link works

    Export results

View Order Details Page

    Action Buttons

        Apply Payment
        Process Refund

            For a WePay payment
            For a PayPal Payment 
            For an amazon payment
            For an offline payment

        Adjust Price

            Discount price adjustment
            Surcharge price adjustment

        Send Payment Request
        Add comment
        Add item
        Add Fee
        Cancel Order

    Order line item actions (Registration Line item)

        Cancel registration
        Edit registration
        Switch registration

    Order Line item actions (Product line item)

        Cancel item
        Edit (quantity and comment)

Admin Payments Page

    Add a credit card 
    Delete a credit card
    Make a partial payment (WePay Payment only)
    Pay outstanding balance amount (WePay Payment only)

Registration Administration

Registration area

    Action Buttons

        Export to CSV
        Adjust Price
        Move to Waitlist
        Switch Registrations
        Add selected registrants to a group

    Filters

        Select an activity (Results should filter automatically and a new Registration Option dropdown will display
        Click the include past leagues to see both archived and unarchived activities in the dropdown list
        Select a registration option

    Registration line items

        Edit registration
        Verify all the links work (Activity, Paid, participant, email, registered by, order #

Waitlist area

    Action Buttons

        Extend invitation (make sure email notification gets sent)

            Add new team
            add multiple teams
            create divisions
            make sure email gets sent

        Approve registration (confirm email sent)
        Cancel Registration
        Export
        Add Selected registrants to a group

    Search

        Verify all filters work
        Verify reset link works

    Waitlist row items

        Make sure links work (Name, activity, order#, contact info)

Pending Invitations Area

    Action Buttons

        Return to waitlist
        Resend Invitation Email
        Set Expiration Date
        Hold a Spot (Confirm email sent)
        Adjust Price
        Cancel Registration
        Export
        Add Selected Registrants to a group

Teams Administration

League Summary

    Summary Page

        Make sure pagination works
        Make sure an activity can be selected from dropdown or by clicking on the activity name

    Action buttons (These display after an activity is selected)

        Add Teams 

            Add multiple teams
            Add divisions

        Edit Selected
        Add Players (Make sure email sent if an email is entered)
        Publish All
        Unpublish All
        Set Roster lock date
        Set Rankings
        Export to CSV
        Email Teams

            General Email
            Team assignment notification
            Team Registration Reminder

        Move Selected Teams
        Generate Custom Team Pages
        Add Team members to a group

    Search filters

        Team, Division, Roster, Coordinator

    Details area

        Click on “There are XX Individuals not assigned to a team” to expand the list of people not on a team
        Assign selected people to a team button

    Team Row items

        Action Icons

            Archive/Unarchive
            Publish/Unpublish
            Lock Roster/Unlock Roster
            Edit (See Edit team outline below)
            Arrow to view public team page

Roster Report

    Unassigned individuals

        Assign selected people to a team
        remove people from the league

    Make sure report show all team rosters
    Action Icons

        Archive/Unarchive
        Publish/Unpublish
        Lock Roster/Unlock Roster
        Edit (See Edit team outline below)
        Arrow to view public team page

    Team Coordinator Actions

        edit
        delete

    Roster member actions

        edit
        click on money icon to go to admin payments page

Team Builder

    Action Buttons

        Add Teams
        Assign selected people to a team
        Add Players
        Export to CSV

    Search

        Verify filters work
        verify reset filters works

Divisions

Schedules Administration (Note if an activity is selected in the teams area and you click on schedules, the same activity should be selected)

    Summary page (No activity Selected0

        Action button- Add Games/Matches
        Make sure pagination works
        Make sure you can click on an activity to view the scheduled events
        Make sure you can click on any of the column totals to take you to prefiltered results: All Events, Published, Upcoming, With Scores, Pending Scores, Today)

    Schedule Page (After an activity is selected)

        Action Buttons

            New Event

                Make sure can add new locations
                When a location is selected, make sure the venue dropdown becomes visible and that new venues can be created

            Add Games/Matches

                Make sure you can add teams, divisions, venues and officials from this dialog

            Edit Selected

                Make sure you can add teams, divisions, venues and officials from this dialog

            Batch Edit
            Enter Results
            Publish
            Unpublish
            General Email
            Reschedule (make sure notifications sent)
            Postpone (make sure notifications sent)
            Cancel (Make sure notifications sent)
            Delete
            Swap Teams
            Import/Export

                Import Schedule
                Export to CSV
                Export to PDF

            Click on green arrow next to the name of the activity to view the public schedule page

        Event Row Actions

            Publish/unpublish Event
            Edit Event
            Click on team name to view team details page
            Hover over results to delete results
            Click on venue to view google map

Member Administration

Customer Management Tab

    Action Buttons

        Create a new customer
        Export to CSV
        Add Selected Members to a Group

    Search/Filters

        Test that each filter works
        Test that reset filter works

    Customer Rows

        Name - Links to customer detail page
        Shadow - only available to admin@leaguer.org account - allow admin to log in as the customer and see the customer’s account

Member Group Management Tab

    Action Buttons

        Create a new customer
        Create a new group

    Group row actions

        Click on Group name to view group details
        Delete Group

Group Detail Page

    Action buttons

        Edit 

            Edit name
            Change password

        Send Email
        Remove Selected Members

    Row Actions

        Click on Name to view customer detail page
        Shadow
        Remove From group

Customer Detail Page

    Action Buttons

        Create (Remove button)
        Send Email
        New Order

    Customer Details

        Shadow this customer link
        Clear settings button
        Make sure Sections display correctly

            Cart
            Current Activities
            Past Activities
            Order history

News Administration

    Pagination
    Delete News
    Edit News

        Note: editing news posting will not re-post to Facebook and twitter
        Add/edit pictures
        Add/edit link
        Add/Edit keywords

Post News

    Add Photos
    Add link
    Add news article
    Post to news feed, twitter and Facebook
    Send as email & Text message
    Add keywords

Forms Administration

    Action Buttons

        New Form

    Row actions

        Edit
        report
        delete

Settings

    Site

        Site Details
        Payments
        Donations (This can be removed)
        Facebook & Twitter
        Shutterfly
        Design
        Layout Manager

    Activities

        Types
        Seasons
        Sports/Categories

    Registration

        Payment Instructions
        Custom Fields
        Waivers
        Defaults

    Products

        Options

    General

        Locations
        Venues
        Officials
        Adminstrators
        Defaults
        Team Page Defaults

    News

        Auto Archive
        Keywords
		
		
Hi Anurag,

I tested the settings in the administration area (everything except officials) and logged my findings and gave links to videos in Orange scrum.  I think most of the issues I found were really the same bug and will get resolved when you fix the JS issues with moving things from prototype to JQuery.

Please let me know if there is a section you would like me to test and report issues on and I’ll start working on that section ASAP.

Thanks,
Carmen




Here are the list of completed sections so far,

    Files Administration
        Add File
        Delete File
    Products Administration
        Action Buttons
            Publish
            Unpublish
            Archive
            Unarchive
        Batch Edit
            Price
            Cost
            Publish Status
            For Sale Status
            SKU
            Save and Continue
            Save & Close
            Close
        Edit Sort Order
        Export to CSV
        Product Search
            Search by each of the filters
            Test reset link
    Front End User actions
        My Account (Excluding FB Connect)



"require_role" ==> "admin"



DT: Mar 31, 2015
-----------------

ANM
====
redirect issue after login
Admin >> Form section
Default site >> "Create a site"
tinymce custom plugin


Done R & D with prototype.js and jquery_ujs
Tried to find out the reason for form not submitting through Ajax
Tested with different ujs files
Changed the form tag for fixing the remote true error
Tried with simple Ajax submit for a form
Modified create.js.ujs file with create.js.erb syntax

Forms Administration

    Action Buttons

        New Form

    Row actions

        Edit
        report
        delete
		
		
	
We use 
 >> jquery 1.11.1
 >> jquery_ujs
 >> prototype 1.7.1(upgraded)
 >> remove prototype_ujs
 
>> Called a fuction to serialize form data on submit
>> Convert create.js.ujs to create.js.erb in admin page section

assets/javascripts/photo_uploader.js
model/asset/photo.rb
model/asset/asset.rb
controller/administration/photos_controller.rb
Gem file



Hi Carmen,

Please find the updates as follows.

Modified the "application.js" file to use only jquery(1.11.1), jquery_ujs and prototype(1.7.1)
Created function "submitpage()" in "application.js" to serialize form data on submit
Modified "create.js.ujs" to "create.js.erb" in admin page section
Fixed the page validation display issue after creating folder in admin page section
Fixed the popup close issue after save/publish a folder in admin page section
Modified "before_save" method in the "custom_form" model to fix error while save form
Fixing page break issue for tinymce init in admin forms section
Modified the tinymce yml file for tinymce editor in the admin form section
Pushed all the changes to the "andola-leaguer" branch in github

Modified files list:
app/models/custom_form.rb
app/views/administration/custom_forms/_new_edit_shared_form_fields.html.erb
app/views/extensions/custom_form_fields/_edit_fields.html.erb
config/tinymce.yml
app/controllers/administration/custom_forms_controller.rb
app/assets/javascripts/application.js
app/assets/javascripts/prototype.js
app/controllers/pages_controller.rb
app/models/usergroup.rb
app/views/pages/_index.html.erb
app/views/pages/_new_action_buttons.erb
app/views/pages/create.js.erb
app/views/pages/index_dialog/_new_page_buttons.html.erb
app/views/pages/_new.html.erb


Next plan of Action:
To fix the issue while create a new product in admin products section
To fix the paperclip save issue according organization in admin photo section
To fix the redirection issues after login


Please verify the "new page" functionality in admin page section and let us know your feedback on the same

http://softball.leaguerdemo.com/administration/pages

Best,
Anurag

DT: Apr 1, 2015
-----------------
>> page
>> product
>> photo

DT: Apr 2, 2015
-----------------
Fixed the "create folder" issue in new page popup
Modified the syntax in routes for subdomain.
Created a rake task for updating those missing permalink for pages.

DT: Apr 3, 2015
---------------
News Posting Module - Features that need to work 

#72: Page Administration - New Page: Page does NOT publish

http://screencast.com/t/c0tnWaBLXR
I may not have been clear in my other task, but when I create a page and click the publish button, the page does NOT publish.


DT: Apr 3, 2015
---------------
Date translation missing: en.activerecord.errors.models.album.attributes.date.not_a_date



ANM
----
Fix the redirection issue
Fix the auto complete issue while adding admin


----------------------------> remove_dir <-------------------------
<Photo id: 1838, type: "Photo", target_file_name: nil, description: "", target_content_type: nil, t
rget_file_size: nil, uploader_id: 1, organization_id: 6, created_at: "2015-04-03 09:47:31", updated
at: "2015-04-03 09:47:31", target_updated_at: nil, title: nil, position: nil, asset_group_id: 156,
eleted_at: "2015-04-03 10:08:17", user_id: nil>
---------------> <----------------------
 #<Photo id: 1838, type: "Photo", target_file_name: "Tulips.jpg", description: "", target_content
pe: "image/jpeg", target_file_size: 620888, uploader_id: nil, organization_id: nil, created_at: "
5-04-03 09:47:31", updated_at: "2015-04-03 09:47:31", target_updated_at: "2015-04-03 09:47:30", t
e: nil, position: nil, asset_group_id: 156, deleted_at: nil, user_id: nil>
.0-p598 :002 > 



Photo
 >> Create Album
 >> upload photo 
 >> Edit Album info
 >> Delete Album
 
 
Known issues
  Time format issue
  
  
Major issues in page 
----------------------

<%= link_to "ss" , :update => "##########"%>

this is not working "update"

we are trying to override it after getting server response



DT: Apr 4, 2015
---------------

http://stackoverflow.com/questions/5511787/rails-2-to-rails-3-using-link-to-instead-of-link-to-remote-including-remote-a

https://github.com/rails/prototype_legacy_helper

http://simonecarletti.com/blog/2010/06/unobtrusive-javascript-in-rails-3/


Gemfile                                            |    3 ++-
app/assets/javascripts/application.js              |   16 ++++++++++++++--
.../administration/pages/actions/_publish.html.erb |    5 ++++-
.../pages/actions/_unpublish.html.erb              |    2 +-



Hi Carmen,

Please find the updates as follows

Fixed the swfupload button upload issue in admin photo section (staging server)
Fixed the photo upload functionality in album detail page admin section (staging server)
Fixed the album delete issue in admin photo section (staging server)
Fixed the photo delete issue inside album from the saved directory inside public folder in admin photo section (staging server)
Fixed the "TypeError: undefined is not a function" for "fancybox" by upgrading the version to "2.0" in admin photo section (staging server)
Fixed the archive/unarchive issue in individual page section (staging server)
Fixed the publish/unpublish issue in individual page section (staging server)
Fixed the issue to publish or save when a page is newly created in admin page section (staging server)
Fixed the batch edit in administration page section (staging server)
Fixed the batch sort order in administration page section (staging server)
Fixed the filter issue when a click on the names of the children in admin page section (staging server)
Fixed to display the add link and functionality in popup under admin news section (local server)
Fixed to display the Add new keyword and functionality in popup under admin news section (local server)
Fixed the edit/delete functionality under admin news section (local server)


Known issues

Admin Photo section
  Displaying of current date(also in american format) for date field in "create album" popup page

Admin Page Section
  Tinymce initialize issue in 2x attempt
  Copy page functionality is not working as expected
  Filter with "Folder" option is not working as expected

Here are the completed sections so far,

Photos administration
	Create a new album
	Edit Album details
	Delete Album
	Upload photos
	View Album photos
		Edit Album infö
		Reorder photos
		edit caption
		Delete image
		Delete Album

Files Administration
	Add File
	Delete File

Pages administration
	Action Buttons
		New Page
		Publish
		Unpublish
		Archive
		Unarchive
		Batch Edit
			Folder
			Publish Status
			Archive Status
			Layout
			Theme
			Custom CSS Class
			Meta Description
			Page Security
		Edit sort Order
	Search
		Make sure each of the search options works (Title,  Content, etc.) (Filter with "Folder" option is not working)
	Individual Page Actions
		Publish/Unpublish icon
		View live page icon
		Archive/Unarchive Icon
		Lighting bold Actions
			Edit Page
			Edit using site builder (link is working)
		Click on the name of the page to edit the page details
		Click on the names of the children to filter the results
		Delete a page


Please verify and let us know your feedback.

Best,
Anurag

DT: Apr 6, 2015
---------------

app/models/news_item.rb                              | 6 ++++--
app/views/administration/news_items/_form.html.erb   | 4 ++--
app/views/administration/news_items/_new.html.erb    | 3 ++-
app/views/teams/_teams_tree_node.html.erb            | 4 ++--
app/views/utilities/_live_field_link_dialog.html.erb | 8 ++++----
app/views/widgets/news_feed/_content.html.erb        | 4 ++--
config/environments/development.rb                   | 2 +-
config/routes.rb      


ANM
----
Fix the redirection issue
Fix the auto complete issue while adding admin


Sitebuilder
=============

Headline section >> html tags are being displayed
click on publish button >> page break occures
click on unpublish button >> page break occures
click on Edit details button >> page break occures
click on coopy button >> page break occures
create button with page, folder etc... >> page break occures
Sitemap >> click on puzzle icon >> all widgets of that page is not displayed (http://screencast.com/t/0qVYineK)
Sitebuilder - Upload photos: Uploading photos from site builder doesn't work (http://screencast.com/t/yZhTysrIS54)
Widgets & Photo and video tab is not working properly
Photos & Videos tab is not working properly >> http://screencast.com/t/GA8gQUJ3I4pd
Click on puzzle icon (aside page name in sitemap)>> nothing is displayed
Hide , Edit and remove widget is not working



Hi Carmen,

Please find the updates as follows
Added condition to use ssl only in production mode for "Create a customer" link in admin customer section
Fixed the "undefined method `[]' for nil:NilClass" while creating a new customer in admin customer section
Fixed the autocomplete issue during search by name & email in admin cutomer section
Fixed the "NoMethodError (undefined method `users' for nil:NilClass)" while assigning new group name to a customer in admin customer section
Modified the route file to fix the "Post news" url issue 
Fixed the issues while create a "Post News" without select an image 
Fixed the issues to display the "Add a link" and functionality under Post news section  
Fixed the issues to to display "Add new keyword" and functionality under Post news section 
All the changes are pushed to aws staging server

Next plan of action
To fix the routing issue while click on "shadow" link in admin customer section
To fix the issue while create a "Post news" with select an image
To fix the page break issue while copying a page.


Best,
Anurag


DT: Apr 7, 2015
---------------

ANM
----
Fix the redirection issue
Tinymce plugin


softball.sordemo.com/administration/administration/new_shadow_user/9259

ActionDispatch::Cookies::CookieOverflow in SiteController#index


https://docs.google.com/a/andolasoft.co.in/document/d/1Wr3tz4SqmWuIRAm50k9kgoQbjfcesGDH8etWes7NRwY/edit



Added ssl in aws staging server
Fixed the page break issue while add
Fix the displaying of "Send Email" popup in memeber group detail page


Member Administration
Customer Management Tab ------------- DONE  (Except shadow)
	•	Action Buttons
		o	Create a new customer
		o	Export to CSV
		o	Add Selected Members to a Group
	•	Search/Filters
		o	Test that each filter works
		o	Test that reset filter works
	•	Customer Rows
		o	Name - Links to customer detail page
		o	Shadow - only available to admin@leaguer.org account - allow admin to log in as the customer and see the customer’s account
Member Group Management Tab  ------------- DONE
	•	Action Buttons
		o	Create a new customer
		o	Create a new group
	•	Group row actions
		o	Click on Group name to view group details
		o	Delete Group

Group Detail Page  ------------- WIP
Customer Detail Page ----------- TBD

==========================================================================================================================================

News Administration
	•	Pagination
	•	Delete News
	•	Edit News
		o	Note: editing news posting will not re-post to Facebook and twitter
		o	Add/edit pictures
		o	Add/edit link
		o	Add/Edit keywords
Post News
	•	Add Photos
	•	Add link
	•	Add news article
	•	Post to news feed, twitter and Facebook
	•	Send as email & Text message
	•	Add keywords

===============================================================================================
Issue facing in http://softball.sordemo.com/

1. login https://softball.sordemo.com/account/login

    admin@leaguer.org
	leaguer123
	
2. https://softball.sordemo.com/administration/members

3. Click on "shadow" link in customer list

4. password : leaguer123

when trying to logout, got the following error (need to clear browser cache)

ActiveRecord::ReadOnlyRecord in AccountController#logout
ActiveRecord::ReadOnlyRecord

unable to logout from the application.

Hi Carmen,

Please find updates as follows:

Integrated ssl in aws staging server
Fixed the "copy page" functionality in admin page section
Fixed the functionality for "create a new" form under admin forms section
Fixed the edit functionality under admin forms section
Fixed the delete functionality under admin forms section
Fixed the export csv functionality under admin forms section
Fixed the page break issue while adding a group under "Member Group Management Tab" in admin customer section
Pushed all the changes to aws staging server

Here are the completed sections ready for test so far,

Pages administration
	Individual Page Actions
		copy page

Forms Administration
	Action Buttons
		New Form
	Row actions
		Edit
		report
		delete
		
Member Administration
Customer Management Tab 
	Action Buttons
		Create a new customer
		Export to CSV
		Add Selected Members to a Group
	Search/Filters
		Test that each filter works
		Test that reset filter works
	Customer Rows
		Name - Links to customer detail page


Please verify the above sections and let us know if any issues found.
		
Best,
Amit


=========================================================================================
admin news section:


Fixed the undefined method 'first_with_destroyed' in the "app/models/service_account.rb"
Fixed the uninitialized constant ActionController::UrlWriter in the "app/structs/news_item_notification_job.rb"
Modified the before save method for admin news section
Replaced the "delayed_job" gem with "delayed_job_active_record" in gemfile and ran bundle install
Fixed the undefined method queue by upgraded the delayed job

To fix the issue while edit a news with image

Fixed the routing issue during "Copy layout" functionality



DT: Apr 8, 2015
---------------

Member Administration
Customer Management Tab
	Customer Rows
		Shadow - only available to admin@leaguer.org account - allow admin to log in as the customer and see the customer’s account

		
Member Group Management Tab				
	Action Buttons			
		Create a new customer		
		Create a new group		
	Group row actions			
		Click on Group name to view group details		
		Delete Group		



49	Settings - Site Details - Edit: Logo and Background images not saving correctly 

Admin >> settings
===================

Hi Carmen,

Please find the updates as follows:

Fixed the undefined method 'first_with_destroyed' in the "app/models/service_account.rb"
Fixed the uninitialized constant ActionController::UrlWriter in the "app/structs/news_item_notification_job.rb"
Modified the before save method for admin news section
Replaced the "delayed_job" gem with "delayed_job_active_record" in gemfile and ran bundle install
Fixed the undefined method queue by upgraded the delayed job
Modified the routes for admin setting site detail edit page
Fixed the directory create issue while saving logo and background image
Fixed the page break issue while removing the file from "/images/logo" folder
Fixed the loader display issue while submitting the "Edit Site Detail" form
Fixed the add/edit functionality while admin post news with select an image
Fixed the delete functionality for news with an image under admin news section
Pushed all the changes to aws staging server.

Here are the completed sections ready for test so far,


Member Group Management Tab	
	Action Buttons					
		Create a new customer	
		Create a new group		
	Group row actions					
		Click on Group name to view group detail
		Delete Group		
Group Detail Page						
	Action buttons					
		Edit 				
			Edit name	
			Change password

News Administration						
	Pagination			
	Delete News			
	Edit News					
		Add/edit pictures
		Add/edit link	
		Add/Edit keywords
Post News						
	Add Photos		
	Add link		
	Add news article		
	Add keywords	

Settings						
	Site					
		Site Details

Known issues: 

Customer Administration

Member Group Management Tab >> Group row actions >> Delete Group (If group having no user, then error page is displayed ) 

News Administration	

tinymce initialization issue in 2X attempt and custom plugin for link and image
Insert Album, Picure or Video for Flickr, Facebook & Shutterfly is not working as expected
Checkboxes are not by default selected for the field "Post news to" in post news form

===============================================================

DT: Apr 9, 2015
---------------
News section
---------------
>> Questions on News 
>> verify send email and text message
>> requirement on news sections

Customer section
------------------
shadow ----> amt/anm
page break issue in notification profile



1. "Shutterfly" link is not displaying while select "Insert Album, Picture or Video" for post news in the "softball.sordemo.com"
But in staging server it is displaying and while click on that got page break such as no such file or directory "shutterfly.yml"


	We will be requiring shutterfly.yml for testing purpose.
	  >> We have only "shutterfly.yml.example"
	As we have for others like
	  >> twitter.yml.example
	  >> twitter.yml
  
2.	Can we use the same creds for "shutterfly" in aws staging server.

3.

Post News >>  Photo(s)/Video(s) (Optional) >> "Shutterfly" link is not displaying in the "softball.sordemo.com" >> So we will keep it or remove it ?
Post News >>  Photo(s)/Video(s) (Optional) >> Click on select >>  Add a new account >> Need clarification on different accounts like picasa, SmugBug, Flickr, Youtube

4. We fixed the page break issue in admin settings payment page

https://softball.leaguerdemo.com/administration/settings/payments

Need more clarification this page.
Will we use the existing creds in *.yml ?


Mail-cacher URL: http://54.88.138.116:1080/


Settings
	Site
		Site Details  DONE
		Payments  (Need more clarification how it works)
		Facebook & Twitter  (Waiting for Dev App)
		Shutterfly 
		Design  DONE
		Layout Manager DONE
	Activities
		Types DONE
		Seasons DONE
		Sports/Categories DONE
	Registration
		Payment Instructions DONE
		Custom Fields
		Waivers DONE
		Defaults 
	Products
		Options DONE
	General
		Locations DONE
		Venues
		Officials
		Adminstrators
		Defaults DONE
		Team Page Defaults DONE
	News 
		Auto Archive DONE
		Keywords DONE




===========================================
Known issues: Admin settings section

Mysql2::Error: Cannot delete or update a parent row >>
Admin >> settings >> waivers >> css issue
Admin >> settings >> location >> css issue

Site
Site
	Payments
Registration
	Custom Fields
	Defaults
Products
	Options (verify the product id got saved inti DB)

=====================================

Hi Carmen,

Please find updates as follows:

Fixed the issue in admin settings design section
Fixed the routing issue while copying layout
Fixed the redirection issue to layout detail page from the layout listing page
Fixed the clone issue while copying functionality
Fixed the page break issue while creating activity type in admin settings section
Fixed the page break issue while editing activity type in admin settings section
Fixed the page break issue while creating season and sports/categories in admin settings section
Fixed the html tag display issue while viewing the waiver detail
Fixed the page break issue while creating 'location' page
Fixed the publish/unpublish issue in location page
Fixed the page break issues in the admin payments section
Modified the route for admin payments section
Fixed the clear settings issue under customers section
Fixed the send mail issue under admin customers section
Removed the create button under admin customers section
Pushed all the changes to aws staging server

Here are the completed sections ready for test so far,


Settings
	Site
		Site Details  				
		Design  
		Layout Manager 
	Activities
		Types 
		Seasons 
		Sports/Categories 
	Registration
		Payment Instructions 
		Waivers 
	Products
		Options 
	General
		Locations 
		Defaults 
		Team Page Defaults 
	News 
		Auto Archive 
		Keywords 

Group Detail Page
	Row Actions
		Remove From group
Customer Detail Page
	Customer Details
		Clear settings button


Known issues:

Some CSS issues are there in create/edit forms under admin settings section(waivers, locations etc...)


Please verify the above sections and let us know if any issues found.

Best,
Amit



Mail-cacher URL: http://54.88.138.116:1080/



Payments  (Need more clarification how it works)


DT: Apr 10, 2015
------------------
Admin >> settings  ANM
------------------------
>> Remove Donation link in admin settings
>> Payment >> WePay and Amazon Payment working
		>> Paypal (data updated successfully, but need detail the functionality)
>> FB/TW
>> Shutterfly

Registration
	Custom Fields
	Defaults
Products
	Options (verify the product id got saved into DB)
General
	Venues
	Officials
	Administrators

Customer AMT
------------

Shadow
customer (notification profile) Fixed
New order

=====================================
Mailcatcher and Delayed Job --- with Aurobind sir

login.php?skip_api_login=1&
api_key=127154627344812
&signed_next=1
&next=https%3a%2f%2fwww.facebook.com%2fv1.0%2fdialog%2foauth%3f

redirect_uri%3dhttps%253a%252f%252fwww.sordemo.com%252fadministration%252fsettings%252fintegrations%252fauthorize_facebook_return%253forganization_id%253d6%26

scope%3doffline_access%252cpublish_stream%252cmanage_pages%252cuser_photos%252cuser_videos%252cuser_photo_video_tags%26response_type%3dcode%26client_id%3d127154627344812%26ret%3dlogin&cancel_uri=https%3a%2f%2fwww.sordemo.com%2fadministration%2fsettings%2fintegrations%2fauthorize_facebook_return%3forganization_id%3d6%26error%3daccess_denied%26error_code%3d200%26error_description%3dpermissions%2berror%26error_reason%3duser_denied%23_%3d_&display=page

========================================================

ssh-keygen -t rsa -C "XXXXXXX"
mac ssh address: /user/.ssh

--------------------------------
Tinymce plugin ===> 
Fix the redirection issue


Hi Carmen,

Please find updates as follows:

Fixed the link url issue for admin "Facebook & Twitter" section
Fixed the link url issue for admin "Shutterfly" section
Added calendar_date_select gem in the gemfile and ran bundle install
Modified for the fb_sprites image path in the widget css
Fixed the issue for clear custom fields under admin custom fields section
Fixed the issue for reset custom fields to organization defaults under admin custom fields section
Fixed the page break issue while clicking on newly created customer in admin settings page
Added the logic to insert notification profile for PendingUser
Fixing the news posting issue i.e "uninitialized constant Twitter::Unauthorized" to twitter 

Next plan of action:
  Fixing News posting issue to FB and TW
  To fix issues with venue, activity default etc.. in admin settings section

Here are the completed sections ready for test so far,

Known issue:

Page break issue is displayed while clearing notification settings for newly created customer in admin customer section
News posting to FB/TW is not working properly


Settings
	Site
	  Payments(Fixed the page break issue, but need clarification on PayPal)


Customer Detail Page
	New Order

Member Administration
Customer Management Tab
	Customer Rows
		Shadow - only available to admin@leaguer.org account - allow admin to log in as the customer and see the customer’s account
Group Detail Page
	Row Actions
		Click on Name to view customer detail page
		Shadow
	Action buttons
		Send Email (Able to see in mailcatcher)

Customer Detail Page
	Action Buttons
	    Create (Removed the button)
		Send Email
		New Order
	Customer Details
		Shadow this customer link
		Clear settings button		
		Cart
		Current Activities
		Past Activities
		Order history
		

		
Please verify the above sections and let us know if any issues found.


Best,
Amit

========================================================

DT: Apr 10, 2015
----------------

Remaining work

Registration
	Custom Fields D
	Defaults D
Products
	Options (verify the product id got saved into DB) 
General 
	Venues D
	Officials 
	Administrators D

>> Post news to fb/tw TW - Done

DT: Apr 13, 2015
----------------

FB connect --- AMT/ANM

https://www.leaguerdemo.com/administration/settings/integrations/authorize_facebook_return?organization_id=6&code=AQAJqBxtFEvH_z1Enn4NVdivcIaY3h7ZQa2IsIoekM6Sy0NccgrtYLbfTtZkeWC8CQlnzeY2aHVxzgvRR2WYmeVHdhgtF-2NadM04R9IJmzmryLX6TrOCRMtb9IQI-SNxiXL2ZaJdHfCPwG5oCVFhgIdyjaKcQmeP8VO66E51HuZ-jTjHq3Cuc1D6Vh9oBnwAsBztJYsDzSwk0uhIldWSuJ0mdSKkQwXdfRA8W1kxIPjZFfWz6kVE7ufwnWtt1q2JD7_oO-9Ex31QkFoEYJsFKWh8mqR8ak82-Cm4G1nGsb5LDPP1C8ZxEUdynsDuLAE5GwlReUK_8PRBm5uMLIru2s1#_=_

Payment - verify

Questions:

1. Admin >> settings >> General >> Officials (Need clarification)

	#66: Administration - Settings - Officials: This section needs to be tested by CB
		Need to create some officials in the system and test the settings area works as expected




Known issue
-----------
Form fields dont get reset after submit in "Add Team" popup


ArgumentError (comparison of Fixnum with String failed)


Questions:


1. sordemo.com >> branch name

2. Registration Administration
	Registration area
	  >> Switch Registrations (what is the criteria to display switch registration)
	  
	  We unable to view the link

	  

	  
modified:   app/controllers/administration/divisions_controller.rb
modified:   app/controllers/administration/teams_controller.rb
modified:   app/helpers/teams_helper.rb
modified:   app/models/team.rb
modified:   app/views/administration/divisions/_edit.html.erb
modified:   app/views/administration/divisions/_new.html.erb
modified:   app/views/administration/teams/shared/_quick_new.html.erb



Fixed the division name display issue in "Add Team" popup
Fixed the issues for adjust price section under admin registrations page
Fixed the issues for move waitlist section under admin registrations page
Fixed the issues for add selected registrants to a group under admin registrations page
Fixed the undefined method 'paginate' for []:Array under admin registrations page
Fixed the no block given (yield) for order item page
Added link to "paid amount" under admin registrations page



Hi Carmen,

Please find updates as follows:

Fixed the page break issue while selecting option value from "Select A Activity"
Fixed the auto select issue for the dropdown "Select A Activity" in activity table
Fixed the issues for adjust price section under admin registrations page
Fixed the issues for move waitlist section under admin registrations page
Fixed the issues for add selected registrants to a group under admin registrations page
Fixed the undefined method 'paginate' for []:Array under admin registrations page
Fixed the no block given (yield) for order item page
Added link to "paid amount" under admin registrations page
Pushed all the changes to aws staging server.


Here are the completed sections ready for test so far,


Teams Administration
League Summary
	Summary Page					
		Make sure pagination works		
		Make sure an activity can be selected from dropdown or by clicking on the activity name		

Registration Administration
Registration area					
	Export to CSV	
	Adjust Price					
		Add Team	
		Add more teams
		Create a Division
	Move to Waitlist	
	Add selected registrants to a group	
	Filters	
		Select an activity (Results should filter automatically and a new Registration Option dropdown will display
		Click the include past leagues to see both archived and unarchived activities in the dropdown list
		Select a registration option
Best,
Amit


Registration Administration - Registration area: Ready to test

Hi Carmen,

Here are the updates on Registration area,

Registration Administration
Registration area					
	Export to CSV	
	Adjust Price					
		Add Team	
		Add more teams
		Create a Division
	Move to Waitlist	
	Add selected registrants to a group	
	Filters	
		Select an activity (Results should filter automatically and a new Registration Option dropdown will display
		Click the include past leagues to see both archived and unarchived activities in the dropdown list
		Select a registration option	


Best,
Amit

DT: Apr 14, 2015
----------------


Hi Carmen,

Please find updates as follows:

Fixed the page break issue while adding single/multiple team in league summary section
Fixed the "division name" append issue after "create a division" in add team popup
Fixed the form submit issue in "Edit Selected" under admin team section
Fixed the page break issue during "Export to csv" under team section
Fixed the undefined method issue in edit team page
Fixed the routing issue while updating team
Fixed the page break issue while click on "League Summary | Roster Report | Team Builder | Divisions" under admin team section
Fixed the page break issue while adding coordinator in edit team under admin team section
Fixed the issues for adjust price, filters and move to waitlist functionality under admin registrations page
Fixed the issues for adjust price, cancel registration, resend invitation email under admin registrations page
Fixed the routing issues while approve/cancel registration under admin registrations page
Merged the changed code for color dropdown field in add teams section
Pushed all the changes to aws staging server


Best,
Amit


http://softball.lth.me:3000/administration/teams?activity_id=4304


app/controllers/administration/divisions_controller.rb         | 2 +-
app/controllers/administration/teams_controller.rb             | 4 ++--
app/helpers/teams_helper.rb                                    | 2 +-
app/views/administration/teams/shared/_quick_new.html.erb      | 3 ++-
app/views/administration/teams/shared/_team_areas_bar.html.erb | 8 ++++----

Known issues:
----------------

Email link while adding player under admin team section



Hi Carmen,

Here are the updates on "Registration area",

Registration Administration- Registration area

	Registration line items	
		Edit registration
		Verify all the links work (Activity, Paid, participant, email, registered by, order #



Next plan of action:

To merge the code from master branch for "Switch Registrations" functionality

Known issues
--------------
Date field format is not displaying as per sordemo.com



Please verify and let us know your feedback.

Best,
Amit




Registration Administration - Waitlist area: Ready to test

Hi Carmen,

Here are the updates on "Waitlist area",

Extend invitation (make sure email notification gets sent)	
		Add new team
		Add multiple teams
		create divisions
		make sure email gets sent

	Approve registration (confirm email sent)	
	Cancel Registration	
	Export	
	Add Selected registrants to a group	
	Search	
		Verify all filters work
		Verify reset link works
	Waitlist row items	
		Make sure links work (Name, activity, order#, contact info)	
		
		
Known issues:
Date field format is not displaying as per sordemo.com

Please verify and let us know your feedback.

Best,
Amit


DT: Apr 15, 2015
----------------
=========================================================================================================================================

#64: Admiistration - Settings - Administrators: Add administrator, delete and toggle notifications

Amit.  There are still bugs with the administrator functionality. 
I expect a little more testing to be done before passing it back to me.  There are some very obvious bugs with this.
1. I cannot save an administrator
2. When I edit an administrator, it deleted the admin from the list, instead of editing the admin.
http://screencast.com/t/hCfjdPt4uQ


1. Mailcatcher was not started
2. Unable to simulate the issue


=========================================================================================================================================
96	Registration Administration - Waitlist area: Ready to test 

	>> I'm not able to extend an invitation 
		Known issue: Due to datepicker
	>> Also, when I approve the registration, I didn't receive the email notification. Here's a video showing the email notification.
		Mailcatcher was not started

==========================================================================================================================================

95	Registration Administration - Registration area: Ready to test 

	There is one link that didn't work for me.  
	The paid link does not work when the amount paid = the price
	
http://soccer.leaguerdemo.com/administration/registrations?page=6

2013 Talent Show Fundraiser

=========================================================================================================================================

>> Teams Administration >> League Summary >> Set Rankings  >> not working in "sordemo.com" 

>> We found that you have implemented some new changes in master

Admin >> registrations >> waitlist >> extend invitation >> add a new team >> color drop down (CMPL) ==> Merged from "master" to "andola-leaguer"
Admin >> registrations >> waitlist >> extend invitation >> Expiration Date Field >> New Field added for 12hr format AM/PM in master  (WIP)
Admin >> registrations >> switch registrations >> Need to merge code from master branch (WIP)


Hi Carmen,


Fixed the undefined method 'humanize' in pending invitations under admin registrations section(staging)
Fixed the undefined method 'ateam_name_like' in pending invitations under admin registrations section (staging)
Fixed the undefined method 'each_full' in Re-schedule Event under admin schedules section(staging)
Fixed the uninitialized constant ActionController::UrlWriter issue in Re-schedule Event under admin schedules section(staging)
Fixed the issues for resend email, adjust price, hold a spot, cancel registration in pending invitations under admin registrations(staging)

Best,
Amit

Known issues:
Set expiration date field is not displaying as per sordemo.com
Return to waitlist functionality is not working as per sordemo.com

http://softball.leaguerdemo.com/action/6be8cc577206f380d9c96b3b784a19ddbef29fed



DT: Apr 16, 2015
----------------




===================================
Delayed job in background
smtp + mandrill


Filter chain halted as :set_redirect_session rendered or redirected
Completed 302 Found in 32.6ms (ActiveRecord: 9.8ms)


Hi Carmen,

Please find updates as follows:

Integrated sendgrid in smtp for actionmailer for dev mode in aws staging server
Integrated the stuffs to run delayed job in background in aws staging server
Fixed the page break issue after editing a team in my roaster section
Fixed the "undefined method 'loaded_records' for []:ActiveRecord::Relation in team activity detail page
Fixed the page break issue in "Export CSV" functionality under admin team builder section
Pushed all the changes in aws staging server.


Best,
Amit

=====================================================================

Registration Administration - Pending Invitations Area:Ready to test 

Hi Carmen,

Here are the completed sections under "Pending Invitations",	

Pending Invitations
	Return to waitlist
	Resend Invitation Email
	Set Expiration Date
	Hold a Spot (Confirm email sent)
	Adjust Price
	Cancel Registration
	Export
	Add Selected Registrants to a group

Please verify and let us know your feedback.

Best,
Amit

=================================================================================

DT: Apr 17, 2015
----------------

http://stackoverflow.com/questions/4808351/delayed-jobs-vs-resque-vs-beanstalkd

>config.cache_store = :file_store, "/var/www/vhosts/sor/current/tmp/cache/"
>
>:location =>  "/usr/sbin/sendmail",
>
>Pls give me file path..

/usr/sbin/sendmail

/var/www/html/SportsOnRails/tmp/cache



http://softball.lth.me:3000/administration/teams?activity_id=4307


Hi Carmen,

Here are the updates on "League Summary",

Teams Administration - League Summary


Best,
Amit


Hi Carmen,

Please find updates as follows:

Fixed the argument out of range issue in the admin schedules page 
Fixed the click on green arrow next to view the public schedules page 
Fixed the issues to view team details page 
Fixed the new event location and venue issue in the schedules page
Fixed the date saving issue in set locker date under admin team section 
Fixed the page break issue while adding player under admin team section 
Fixed the "action_url" issue in "unique_redirect" model for sending the urls in mailer under admin team section 
Fixed the page break issues while fixing the functionality for "Email Teams" under admin team section 
Fixed the issue in "Add Team members to a group" under admin team section
Pushed all the changes to aws staging server

Best,
Amit


Hi Carmen,

Here are the updates on "League Summary",

Teams Administration - League Summary
	Add Players (Make sure email sent if an email is entered)
	Set Roster lock date
	Email Teams (Need to start delayed job)
		General Email
		Team assignment notification
		Team Registration Reminder
	Generate Custom Team Pages
	Add Team members to a group
	Details area
		Click on “There are XX Individuals not assigned to a team” to expand the list of people not on a team
		Assign selected people to a team button


Known issues:
We are getting error message while trying to do "Set Rankings" in "sordemo.com"

NB:
Currently we are running delayed job manually(rake jobs:work)
	
please verify and let us know your feedback


Best,
Amit

Schedules Administration - Hover over results to delete results - video needed

Hi Carmen,

We are able to find batch delete button, But couldnot able to see the delete option on hover the results

Schedules Administration
	Schedule Page (After an activity is selected)
		Event Row Actions
			Hover over results to delete results

Would you mind to provide us the video.


Best,
Amit


DT: Apr 20, 2015
----------------

AMT
----
D#77	Photos Administration - Create Album: Null date causing error and european date format 

1. Fix the page break issue while creating new event under admin activity section


2. ActionView::MissingTemplate in Administration/activities#new

	Showing /vagrant/SportsOnRails/app/views/activities/_new_form_content.html.erb where line #101 raised:

	Missing partial /activities/registration_field_settings with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :coffee, :prawn, :prawn_dsl, :prawn_xxx, :rjs]}. Searched in:
	  * "/vagrant/SportsOnRails/app/views"

3. Fixed the displaying of "location" field in new activity page

Datepicker conflict issue in "New Activity"



http://softball.leaguerdemo.com/administration/activities/new


Fixed the page break issue while creating new event under admin activity section
Fixed the displaying of "location" field in create activity page under admin activity section
Integrated new datepicker in create activity page under admin activity section
Fixed the action items call issue in activity page
Merged some changes related to "new activity page" in andolasoft branch
Pushed all the changes to aws staging server

  
DT: Apr 21, 2015
----------------

ANM
----
#107 Schedules Administration - Hover over results to delete results - video needed 

#95	Registration Administration - Registration area: Ready to test (http://screencast.com/t/aSMFhzUg7X)
	Move to Waitlist - This doesn't seem to be working or querying correctly (see video above)
	
#99	Registration Administration - Pending Invitations Area: Ready to test  (http://screencast.com/t/WLRjLCbpH)
	Export - The export looks like it works, except I don't think the list of people give is correct, because it's the same list of people on both the waitlist and the pending invitations list
	
#94: Teams Administration - League Summary: Ready to test

#102	Teams Administration - Roster Report: Ready to test 



ActiveModel::MassAssignmentSecurity::Error in Administration::ActivitiesController#create
Can't mass-assign protected attributes: registration_field_settings, registration_products_attributes, after_create_options

Fixed datepicker display issue in new event page under admin schedule section
Added the stuffs to close the datepicker.
Fixed boolean value save issue for start and endtime fiels with blank start/end time in create event under admin schedule section.
Fixed the 'new event' form saving issue with datepicker under admin schedule section.
Pushed all the changes to aws staging server.

Known issues:
1. Edit an event >> Updating of start/end time is not working properly

Order Administration - Orders Area: Ready to test 

Hi Carmen,

Here are the updates on "Orders Area",
	New Order - Working for product only (fixing issues with registration)			
	Export to CSV		
	Add selected customers to a group
	Order line items
		Test pagination
		Click on order number to view order details (See View Order Page)
		Click on balance due to admin payment page


Please verify and let us know your feedback

Best,
Amit

DT: Apr 22, 2015
----------------
#103: Schedules Administration - Schedule Page (After an activity is selected): Ready to test

#50: Settings - Payments: Can't get to the payment settings page

Fixed the typein issue for datepicker field
Fixed the page break issue while creating an activity
Fixed page break issue "wrong number of arguments (0 for 1)" while editing activity page
Fixed the page break issue while adding discount in activity detail page
Fixed the delete issue in "Discounts & Surcharges" under activity detail page
Fixed the page break issue while adding 'in-Person Registration' in activity detail page
Fixed the html_tag issue in "Registration Options" under in activity detail page
Fixed the publish/unpublish/delete issue for Registration Options, Discounts & Surcharges and In-Person Registration Dates in activity detail page

DT: Apr 23, 2015
----------------
Order #: OK
Customer OK

scope :created_at_after, lambda{ |s| where('in_process_at > ?', s[:created_at_after])}  
scope :created_at_after, lambda{ where( :in_process_at.gt => 3.days.ago)   }  

Fixed the product category save/append issue under admin product section
Fixed the undefined method `html_safe' for nil:nilclass issue while creating product options 
Fixed the update issue in "Edit Sort Order" under admin product section
Fixed the issues while editing a product under admin product section


DT: Apr 24, 2015
----------------

Date.strptime(params[:activity][:roster_lock_date], '%m/%d/%Y')


AMT
checkbox issue
#59	Administration - Settings - Activity Defaults: Typing in a date doesn't work as expected 

Fixed the type in issue for date format 2/1/15(meaning February 1, 2015) and also for format 2/1(meaning February 1, 2015) in aws staging server.
Fixed the checkbox check/uncheck event issue in Registration Product Actions Batch New
Fixed the routing issue for Order Details | Team Payments | All Payments

ANM



Product line item actions DONE
	Lightning Bolt Actions
		Edit using Site Builder DONE
		Create New based on this product DONE
		Copy this product DONE
	Delete product (Note:  Make sure when you attempt to delete a product that has sales history that the product is archived and not deleted)

	
	
Products Administration
	Image (Select)
Batch Edit
	Options (Append and replace)
	Images

Activity Administration
	New Activity (This needs it’s own test plan)
		Test adding new Types, Sports Categories, Seasons, Additional dates and times, Locations, waivers, custom registration fields, team custom registration fields
		Registration options
			create the different types of registration options: individual, team and group
			Test "Set Up additional Payment options" link(Set up automated payment plans and manual payment plans)
		Test the settings and team settings
	Batch Copy
	Registration Product Actions
		Batch New
		Batch Edit Details
		Batch Edit Pricing
	Activity row actions
		Lightning Bolt Actions
			Edit this activity
			Edit using site builder
			Create new based on this activity
			Copy this activity
			
View/Edit Activity Tests
	Action Buttons
		Edit Details
	Action icons
		Edit
		Edit in site builder		
	Registration options	
		Edit registration options
		
		
Order Administration - Orders Area
	Send Payment Request
	Add item to selected orders
	Search
		Test that all filters work
		Test reset link works
All Payments - Need to pull from master(page is not comming after merging)

View Order Details Page - Asked for video (not given yet)
		
		
Bugs

#59	Administration - Settings - Activity Defaults: Typing in a date doesn't work as expected | DONE AMT
#102: Teams Administration - Roster Report: Ready to test
#95: Registration Administration - Registration area: Ready to test
#99	Registration Administration - Pending Invitations Area: Ready to test 	
#107 Schedules Administration - Hover over results to delete results - video needed 
#55	Administration - Settings - Layout Manager: Copy layout and styling issues 
#96	Registration Administration - Waitlist area: Ready to test 
#81	Queries regarding admin customer section 
#58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 
#50	Settings - Payments: Can't get to the payment settings page 


DT: Apr 25, 2015
----------------

Activity Administration
	New Activity (This needs it’s own test plan)
		Test adding new Types, Sports Categories, Seasons, Additional dates and times, Locations, waivers, custom registration fields, team custom registration fields
		Registration options
			create the different types of registration options: individual, team and group
			Test "Set Up additional Payment options" link(Set up automated payment plans and manual payment plans)
		Test the settings and team settings
	Batch Copy
	Registration Product Actions
		Batch New
		Batch Edit Details
		Batch Edit Pricing
	Activity row actions
		Lightning Bolt Actions
			Edit this activity
			Edit using site builder
			Create new based on this activity
			Copy this activity
			
View/Edit Activity Tests
	Action Buttons
		Edit Details
	Action icons
		Edit
		Edit in site builder		
	Registration options	
		Edit registration options

Order Administration - Orders Area
	Send Payment Request
	Add item to selected orders
	Search
		Test that all filters work
		Test reset link works
All Payments - Need to pull from master(page is not comming after merging)

View Order Details Page - Asked for video (not given yet)


DT: Apr 25, 2015
----------------
Online Registration and Team Pages - video needed 


Carmen, Could you please provide us video for "Online Registration" and "Team Pages"

Best,
Amit

DT: Apr 27, 2015
----------------
Activity Administration	
	Batch Copy
	Registration Product Actions
		Batch New
		Batch Edit Details
		Batch Edit Pricing
	Activity row actions
		Lightning Bolt Actions
			Edit this activity
			Edit using site builder
			Create new based on this activity
			Copy this activity
			
View/Edit Activity Tests
	Action Buttons
		Edit Details
	Action icons
		Edit
		Edit in site builder		
	Registration options	
		Edit registration options

Order Administration - Orders Area
	Send Payment Request
	Add item to selected orders
	Search
		Test that all filters work
		Test reset link works
		
All Payments - Need to pull from master(page is not coming after merging)

View Order Details Page - Asked for video (not given yet)



		
Bugs

#102: Teams Administration - Roster Report: Ready to test
#95: Registration Administration - Registration area: Ready to test
#99	Registration Administration - Pending Invitations Area: Ready to test 	
#107 Schedules Administration - Hover over results to delete results - video needed 
#55	Administration - Settings - Layout Manager: Copy layout and styling issues 
#96	Registration Administration - Waitlist area: Ready to test 
#81	Queries regarding admin customer section 
#58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 
#50	Settings - Payments: Can't get to the payment settings page 

#112	Order Administration - Orders Area: Ready to test 
#103: Schedules Administration - Schedule Page (After an activity is selected): Ready to test


Hi Carmen,

Here are the completed sections under "Summary page (No activity Selecte)",

Make sure pagination works
Make sure you can click on an activity to view the scheduled events
Make sure you can click on any of the column totals to take you to 
prefiltered results: All Events, Published, Upcoming, With Scores, Pending Scores, Today)

Note:
Action button- Add Games/Matches >> "Add officials" functionality is not working due to "auto_complete" issue (We will fix it and keep you posted)


Please verify and let us know your feedback.

Best,
Amit



SiteBuilder Status
====================
Major issues:

Light-boxes are overlapping with each other. (The active lightbox are moving with the mouse move when we click on the list of images or videos)

The relationship of "NewFeedItem" with "Widget" model is not understood. The "inheritable" property is used in those models which are inherited from "Widget" model. But the "NewFeedItem" model is not inherited from "Widget" model. It has "belongs_to" relation with "Widget" and "WidgetItem". We are able to proceed further by commenting the "inheritable" property of "NewFeedItem"


Fix the mass assignement issue 
ActiveModel::MassAssignmentSecurity::Error (Can't mass-assign protected attributes: id, type):



https://docs.google.com/a/andolasoft.co.in/document/d/1Wr3tz4SqmWuIRAm50k9kgoQbjfcesGDH8etWes7NRwY/edit

SiteBuilder Status
====================
Major issues:
Light-boxes are overlapping with each other. 

We have a query regarding model relationship("NewFeedItem" with "Widget")...We will post it on OrangeScrum

The relationship of "NewFeedItem" with "Widget" model is not understood. The "inheritable" property is used in those models which are inherited from "Widget" model. But the "NewFeedItem" model is not inherited from "Widget" model. It has "belongs_to" relation with "Widget" and "WidgetItem". We are able to proceed further by commenting the "inheritable" property of "NewFeedItem"

https://docs.google.com/a/andolasoft.co.in/document/d/1Wr3tz4SqmWuIRAm50k9kgoQbjfcesGDH8etWes7NRwY/edit

SiteBuilder Status
==================
Major issues:
Light-boxes are overlapping with each other. 

Current status
==============
We are currently fixing some of the bugs(related to activity section) given on OS and known issues
We will start working on "Online Registration" and "Team Pages" after we got the video

Questions
=========
We have a query regarding model relationship("NewFeedItem" with "Widget")...We will post it on OrangeScrum in detail
#122 Online Registration and Team Pages - video needed >>  Need response

#102: Teams Administration - Roster Report: Ready to test
#95: Registration Administration - Registration area: Ready to test
#99	Registration Administration - Pending Invitations Area: Ready to test 	
#107 Schedules Administration - Hover over results to delete results - video needed 
#55	Administration - Settings - Layout Manager: Copy layout and styling issues 
#96	Registration Administration - Waitlist area: Ready to test 
#81	Queries regarding admin customer section 
#58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 
#50	Settings - Payments: Can't get to the payment settings page 

#112	Order Administration - Orders Area: Ready to test 
#103: Schedules Administration - Schedule Page (After an activity is selected): Ready to test


Model attribute translation missing in case of model validation


Weird validation error is displayed during model validation


Doubts related to "NewFeedItem" model

Sitebuilder >> Content you can drag & drop >> Widgets >> Text and image carousal

While fixing issues with "New News Feed item", we have some doubts related to  "NewFeedItem" model.

The "inheritable" property is used in those models which are inherited from "Widget" model. But the "NewFeedItem" model is not inherited from "Widget" model. It has "belongs_to" relation with "Widget" and "WidgetItem". 
We are able to proceed further by commenting the "inheritable" property of "NewFeedItem" in "after_initialize" method.

Please suggest.


Hi Carmen,

Here are the updates on "View/Edit Activity Tests",

View/Edit Activity Tests
	Action Buttons
		Edit Details
		Add registration option
		Add discount or surcharge
		Add an in-person Registration
	Action icons
		Edit
		Edit in site builder (redirected to site builder page)
	Click on the star next to the activity name to toggle the “Featured” status
	Registration options
		Unpublish/publish Registration options
		Delete registration option - Note: make sure you cannot delete a registration option that people have already registered for
	Discounts and surcharged
		Test adding, editing and deleting discounts and surcharges
	In-person registrations
		Test Adding, editing and deleting in-person registration dates

		
Please verify and let us know your feedback
		
Best,
Amit


DT: Apr 28, 2015
----------------
Post phpmyadmin details to carmen



https://onetimesecret.com/private/ahevdj6ht1um72ho02zwczjuw5qbbp8


Fixed the tinymce initialize issue in 2x attempt excluding SiteBuilder section
Fixed the tinymce display issue for "short description" in edit activity page
Fixed the html rendering in add widgets under sitebuilder
Fixed the form_for 



Fixed "Custom Form" widget add in sitebuilder page
Fixed "Donate" widget add in sitebuilder page
Fixed "Locations" widget add in sitebuilder page
Fixed "Page Title" widget add in sitebuilder page

mysql -u root -p sportsdev <

Site Builder - Action buttons: Ready for test


DT: Apr 29, 2015
----------------
Passphrase: leaguer123



#131: Create Product - Add options: Unable to add an option to a product
Fix issues with MyAccount section
Fix issues with "Team Page" section


KRS

#130: Site Builder - Create Product Category: Create product category page doesn't add the product listing widget

When creating a product category page, the code is supposed to add a product listing widget to the page that is set to the category created.
Additionally, a page content and page title widget should be added to the page.  
Try it on sordemo.com and see how it works and you should be able to figure out what it's supposed to do.
If you can't, let me know and I'll make a video.




Fixed the html tag display issue for "UPCOMING EVENTS" in home page 
Fixed the page break issue while adding roster member issue for loaded_records in team page section
Fixed page reload issue after post news in team page section
Fixed the page break issue while deleting news in team page section
Fixed the page break issue while displaying "Send an email" in team page section
Pushed all the changes to aws staging server.



Team Pages
	Team Home
		COORDINATORS
		ROSTER MEMBERS
		TEAM NEWS
			
		EVENTS
	Roster 		
	News
	Settings
	Action Buttons
		Post News
		Send an email
		Add a coordinator
		Add Player
		New Event


DT: Apr 30, 2015
----------------
ANM
---
#139	Activity Administration - View Activity - Add Registration Option: Age restrictions should be hidden by default 
#50	Settings - Payments: Can't get to the payment settings page 

There are several videos for registration
	- Individual Registration: http://screencast.com/t/JpP8iqH9Hy
	- Team Registration: http://screencast.com/t/HctujoWxKOk
	- Group Registration: http://screencast.com/t/YZrvpuuV
	-Waitlist registration & management: http://screencast.com/t/oGNZc6YHRM

AMT
---
Fix issues with "Team Page" section
Fix bugs OS
Fix the issues with MyAccount

Filter chain halted as :set_redirect_session rendered or redirected

# match '/administration/teams/:id/publish' => 'administration/teams#publish'


==============================================================

jQuery(dateSelector).each(function(index) {
      if (!jQuery(this).hasClass('hasDatepicker')) {
        // jQuery(this).datepicker({ beforeShow: _tweakCalendar });
		try {
			jQuery(this).datetimepicker({
			  timepicker:false,
			  format:'m/d/Y',
			  closeOnDateSelect: true,
			  validateOnBlur: false,
			  onShow: CalendarTweek,
			});
		} catch (e) {
			jQuery(this).datepicker({ beforeShow: _tweakCalendar });
		}
        jQuery(this).change(_dateChanged);
      }
    });

Site Builder - Widgets: Ready for test

Hi Carmen,

Here are the completed sections in "Widgets",

Text
Picture/Video
Slideshow
Menu
Text & Image Carousel

Known issues:
Tinymce initialize issue in second time load is present only in sitebuilder section(we will fix it and keep you posted)

Please verify and let us know your feedback.


Best,
Amit
	

DT: Apr 1, 2015
----------------

Fix the datetimepicker initialize issue in New Event page
Fix the am/pm save issue for date field

Fix the photo select issue in news section

https://github.com/fnando/validators



--------------create
{"time"=>"6:30pm"}
"6:30pm"
Fri, 01 May 2015 18:30:00 EDT -04:00
Fri, 01 May 2015 18:30:00 EDT -04:00

  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rkpwko1arZFx3pt1P9ladRpLwTq2H+iC9ZN7LKrqX0E=", "s
ingle_event"=>"1", "team_id"=>"1837", "event"=>{"kind"=>"other", "name"=>"aaass", "start"=>"5/1", "s
tart(1i)"=>"2015", "start(2i)"=>"5", "start(3i)"=>"1", "start(4i)"=>"7", "start(5i)"=>"30", "start(7
i)"=>"-2", "end"=>"", "end(1i)"=>"", "end(2i)"=>"", "end(3i)"=>"", "end(4i)"=>"", "end(5i)"=>"", "en
d(7i)"=>"", "location_id"=>"", "venue_id"=>"", "home_team_id"=>"1837", "visiting_team_id"=>"", "publ
ished"=>"true", "description"=>""}, "start"=>{"time"=>"7:30pm"}, "end"=>{"time"=>""}, "save_and_new"
=>"", "commit"=>"Save", "_"=>"", "activity_id"=>"4346"}

http://stackoverflow.com/questions/5415430/time-select-form-helper-with-12-hour-format-for-rails-3


Registration:

Individual Registration: http://screencast.com/t/JpP8iqH9Hy
Team Registration: http://screencast.com/t/HctujoWxKOk
Group Registration: http://screencast.com/t/YZrvpuuV
Waitlist registration & management: http://screencast.com/t/oGNZc6YHRM


DT: Apr 4, 2015
----------------

ANM
Online Registration
	Waitlist registration & management


#50	Settings - Payments: Can't get to the payment settings page 
#115: View Order Details Page - Process Refund: video needed

#99: Registration Administration - Pending Invitations Area: Ready to test
	
AMT
Sidekiq
Cronjob
Bug fixing


OS Bugs
----------


#130 Site Builder - Create Product Category: Create product category page doesn't add the product listing widget 
#131 Create Product - Add options: Unable to add an option to a product
#132 Activities - Batch Edit: New Wavier - Get an error message when trying to create new waiver
#136 Activity Admin - Lightning Bolt Actions - Copy Activity: Can't copy or create new based on this activity 


#102 Teams Administration - Roster Report: Ready to test 
#103 Schedules Administration - Schedule Page (After an activity is selected): Ready to test
#107 Schedules Administration - Hover over results to delete results - video needed 
#108 Schedules Administration - Action button- Add Games/Matches: Ready to test 
#112: Order Administration - Orders Area: Ready to test



#50	Settings - Payments: Can't get to the payment settings page 
#51	Administration - Entering an administration URL causes an error when not signed in 
#52	Settings - Integrations: Can't disconnect from FB or connect to Twitter 
#55	Administration - Settings - Layout Manager: Copy layout and styling issues 
#58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 

#76	Page Administration - Copy Page: Copy page doesn't work
#77	Photos Administration - Create Album: Null date causing error and european date format 

#94	Teams Administration - League Summary: Ready to test
#96	Registration Administration - Waitlist area: Ready to test 
#99	Registration Administration - Pending Invitations Area: Ready to test 




leaguer.qw0xld.0001.use1.cache.amazonaws.com:6379


http://10.154.206.83:6379

/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/redis-3.2.1/lib/redis/client.rb:331:in `rescue
 in establish_connection': Error connecting to Redis on leaguer.qw0xld.0001.use1.cache.amazonaws.com
:6379 (Redis::TimeoutError) (Redis::CannotConnectError)


/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/redis-3.2.1/lib/redis/client.rb:331:in `rescue
 in establish_connection': Error connecting to Redis on leaguer.qw0xld.0001.use1.cache.amazonaws.com
:6379 (Redis::TimeoutError) (Redis::CannotConnectError)

vagrant@precise32:/vagrant/SportsOnRails$ redis-cli -h leaguer.qw0xld.0001.use1.cache.amazonaws.com
 -p 6379

sed -e "s/^daemonize no$/daemonize yes/" -e "s/^dir \.\//dir \/var\/lib\/redis\//" -e     "s/^loglevel debug$/loglevel notice/" -e "s/^logfile stdout$/logfile     \/var\/log\/redis.log/" redis.conf > /etc/redis/redis.conf



DT: Apr 5, 2015
===============



Hi Carmen,

Here are the completed section in "Online Registration",

Waitlist registration & management

Please verify and let us know your feedback.


Best,
Amit


$redis = Redis.new(:host => 'localhost', :port => 6379)
$redis.set("order_count", 0)
$redis.client.reconnect 


https://www.facebook.com/profile.php?id=100009591817861&fref=ts


Two things.  In the amazon payment set up after I complete the setup I get a routing error see screen shot: http://screencast.com/t/ZrqVgjFY

Also, I received a warning when setting up the wepay account, I think it's because the callback url isn't set correctly in the staging environment: http://screencast.com/t/uh1Ng8Ej


# Logfile created on 2015-05-05 09:06:05 +0000 by logger.rb/44203
2015-05-05T09:06:08.349Z 27360 TID-73r58 INFO: Booting Sidekiq 3.3.1 with redis options {:url=>"redis://leaguer.qw0xld.0001.use1.cache.amazonaws.com:6379"}


 No such file to load -- xmlsimple (LoadError)

 
 
Hi Carmen,

Here are the completed items in "Widgets",

Inherited Content
Activity Listing
Photo & Video Gallery
Custom Form
Locations
Page Title
Product Listing

Known issues:
Tinymce initialize issue in 2x load
Some functionality is not working properly in mozilla FF broswer

Items left:

Activity Listing
Product Category Listings
Schedules & Events
Team Roster
Team Coordinators
Team Standings

Please verify and let us know your feedback.

Best,
Amit


DT: Apr 6, 2015
===============
app/services/api/facebook/facebook_organization_api.rb:276 in force_deauthorize
app/services/api/facebook/facebook_organization_api.rb:255 in post_to_feed
app/services/api/facebook/facebook_organization_api.rb:168 in post_to_account_feed
app/services/api/facebook/facebook_organization_api.rb:158 in post_to_default_feed
app/structs/news_item_facebook_job.rb:13 in perform



FYI - To log into the Facebook test application that is used on the staging environment, you can log in using
monitor@bellaviacorp.com
leaguer123
 
There is one test user associated with the facebook app
mike_pxnovfd_fbtester@tfbnw.net
pw: leaguer123


116059601792763



https://www.facebook.com/login.php?skip_api_login=1&api_key=127154627344812&signed_next=1&next=https%3A%2F%2Fwww.facebook.com%2Fv2.0%2Fdialog%2Foauth%3Fredirect_uri%3Dhttps%253A%252F%252Fwww.sordemo.com%252Fadministration%252Fsettings%252Fintegrations%252Fauthorize_facebook_return%253Forganization_id%253D48%26scope%3Dmanage_pages%252Cpublish_pages%252Cuser_photos%26response_type%3Dcode%26client_id%3D127154627344812%26ret%3Dlogin&cancel_uri=https%3A%2F%2Fwww.sordemo.com%2Fadministration%2Fsettings%2Fintegrations%2Fauthorize_facebook_return%3Forganization_id%3D48%26error%3Daccess_denied%26error_code%3D200%26error_description%3DPermissions%2Berror%26error_reason%3Duser_denied%23_%3D_&display=page



Leaguer is a SaaS e-commerce platform for recreational organizations.  We provide a drag and drop website builder, online registration, schedules, standings, social networking integration and automated email and text notifications for announcements, game reminders and cancelations

PERMISSIONS = 'manage_pages,publish_pages,user_photos'


-  PERMISSIONS = 'offline_access,publish_stream,manage_pages,user_photos,user_videos,user_photo_video_tags'

+  PERMISSIONS = 'manage_pages,publish_pages,user_photos'

publish_stream

publish_actions

@page_graph.put_wall_post('post on page wall') # post as page, requires publish_stream permission
@page_graph.put_connections(page_id, 'feed', :message => message, :picture => picture_url, :link => link_url)

foo = @graph.put_connections("4", "feed", :message => "I am writing on my wall!")

some version of the facebook api allow posting through the "publish_stream" scope and other versions require the "publish_actions" scope. More information about the permissions available under scope variable is available here: https://developers.facebook.com/docs/facebook-login/permissions/v2.0



@oauth = Koala::Facebook::OAuth.new(app_id, app_secret, callback_url)
@app_access_token = @oauth.get_app_access_token
@graph = Koala::Facebook::API.new(@app_access_token)
foo = @graph.put_connections(facebook_user_id, "feed", :message => "Test message")


manage_pages publish_actions publish_stream



You have to add publish_stream and publish_actions permissions to your app permission scope.


koala - 1.6.0

2.0.0

Koala::Facebook::OAuth.new("1398595030461154", "ed3b24a54d70ae18a51f65e6b7057195")


Invalid Scopes: offline_access, publish_stream, user_photo_video_tags. This message is only shown to developers. Users of your app will ignore these permissions if present. Please read the documentation for valid permissions at: https://developers.facebook.com/docs/facebook-login/permissions



Invalid Scopes: offline_access, publish_stream, user_photo_video_tags. This message is only shown to developers. Users of your app will ignore these permissions if present. Please read the documentation for valid permissions at: https://developers.facebook.com/docs/facebook-login/permissions

https://developers.facebook.com/tools/explorer/?method=GET&path=me%3Ffields%3Did%2Cname&version=v2.3


https://softball.leaguerdemo.com/administration/settings/integrations/authorize_facebook?code=AQClW1QBE0K_dVoKXYgi8xuiLT5qGpHG8AbIUdYo1wncqMWg78sHPxsmZNn0pNm7ZBX-1TWClLuIFNrJpBACqooH9IAN3J8dwg4iV27UhleTv5rWPWK1Pq4aC4u2BqDbbYabAZfMwZStGYDRa7l4beeDvKYWZ5kQcqTZ9Uo8FinWkNeBSCZvSenamrtCpWmCiqlAGt3a88IAY36YxZfbCumfe2rRpDc-aSHJnm8Ux6mEYVv8PVH72hci_t_Ryr5Xfa-A1dViHUbEx-mX69st4qn63naAgnMdcQbOxNKUeLAl65F7WzLODqehbwxk65Cp5_lOPiz5wizqVJYU7tyXlG32#_=_

sordemo api key: 127154627344812


redirected to https://graph.facebook.com/oauth/authorize?client_id=1398595030461154&redirect_uri=htt
ps%3A%2F%2Fwww.lth.me%3A3000%2Fadministration%2Fsettings%2Fintegrations%2Fauthorize_facebook_return%
3Forganization_id%3D6&response_type=code&scope=manage_pages%2Cpublish_pages%2Cuser_photos

D:\MyDev\master\SportsOnRails\app\services\api\facebook\facebook_organization_api.rb

Steps followed:

In GemFile

Modified version GemFile

# Facebook support
gem 'oauth2', '1.0.0'
gem 'koala', '2.0.0'
gem 'faraday', '0.8' (Check if faraday has already version '0.8' ---- Donot add this line)

gem "multi_xml", "~> 0.5"


In app\services\api\facebook\facebook_organization_api.rb

PERMISSIONS = 'manage_pages,publish_pages,user_photos,publish_actions'


Koala::Facebook::GraphAPI.new

changed to 

Koala::Facebook::API.new

gem 'wepay', '0.0.3'

undefined method `first_with_destroyed' for #<Class:0x007f224444b9d0>

DT: Apr 7, 2015
---------------
amit@andolasoft.co.in/amit@andola

There is one test user associated with the facebook app
mike_pxnovfd_fbtester@tfbnw.net
pw: leaguer123

jQuery(container).sortable({


50 aircel


ssh with carmen@leaguer.org and password robotwar

cd /var/www/vhosts/sor/current/log


ocessing AccountController#login (for 111.93.178.162 


Processing SiteController#index (for 69.126.114.20 at 2015-05-07 13:35:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"site"}
Rendering template within layouts/public
Rendering site/page

ActionView::TemplateError (Couldn't find User with ID=366326) on line #9 of app/views/widgets/page_content/show/_registration_products.html.erb:
6:     <table class="no-border">
7:       <% product_set = activity.registration_products.active %>
8:       <% product_set.each do |registration_product| %>
9:         <% is_closed = (registration_product.closed_for_registration?((@registration.blank? || @registration.originating_registration?), false, current_or_guest_user.try(:id))) %>
10:         <tr>
11:           <td class="registration-product-name">
12:             <% if is_closed %>

    app/controllers/application_controller.rb:190:in `guest_user'
    app/controllers/application_controller.rb:181:in `current_or_guest_user'
    (eval):2:in `send'
    (eval):2:in `current_or_guest_user'
    app/views/widgets/page_content/show/_registration_products.html.erb:9
    app/views/widgets/page_content/show/_registration_products.html.erb:8
    app/views/widgets/page_content/show/_activity.html.erb:3
    app/views/widgets/page_content/_description.html.erb:3
    app/views/widgets/shared/_editable_content.html.erb:15
    app/views/widgets/page_content/_show.html.erb:33
    app/views/site/page.html.erb:11
    app/views/site/page.html.erb:9:in `each'
    app/views/site/page.html.erb:9
    app/views/site/page.html.erb:2
    app/controllers/site_controller.rb:10:in `index'
    compass (0.11.7) lib/compass/app_integration/rails/actionpack2/action_controller.rb:7:in `process'
    sass (3.1.16) rails/./lib/sass/plugin/rack.rb:54:in `call'
    sass (3.1.16) rails/./lib/sass/plugin/rack.rb:54:in `call'
    app/middleware/flash_session_cookie_middleware.rb:20:in `call'
    app/middleware/custom_logger.rb:16:in `call'
    /var/www/vhosts/sor/shared/bundle/ruby/1.8/gems/hoptoad_notifier-2.4.11/lib/hoptoad_notifier/rack.rb:27:in `call'
    /var/www/vhosts/sor/shared/bundle/ruby/1.8/gems/hoptoad_notifier-2.4.11/lib/hoptoad_notifier/user_informer.rb:12:in `call'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/rack/request_handler.rb:96:in `process_request'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_request_handler.rb:513:in `accept_and_process_next_request'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_request_handler.rb:274:in `main_loop'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/classic_rails/application_spawner.rb:321:in `start_request_handler'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/classic_rails/application_spawner.rb:275:in `send'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/classic_rails/application_spawner.rb:275:in `handle_spawn_application'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/utils.rb:479:in `safe_fork'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/classic_rails/application_spawner.rb:270:in `handle_spawn_application'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_server.rb:357:in `__send__'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_server.rb:180:in `start'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/classic_rails/application_spawner.rb:149:in `start'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/spawn_manager.rb:219:in `spawn_rails_application'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_server_collection.rb:132:in `lookup_or_add'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/spawn_manager.rb:214:in `spawn_rails_application'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_server_collection.rb:82:in `synchronize'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/spawn_manager.rb:213:in `spawn_rails_application'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/spawn_manager.rb:132:in `spawn_application'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/spawn_manager.rb:275:in `handle_spawn_application'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_server.rb:357:in `__send__'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
    /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/helper-scripts/passenger-spawn-server:99

Rendering /var/www/vhosts/sor/releases/20150505034636/public/500.html (500 Internal Server Error)

Processing ApplicationController#index (for 217.12.204.155 at 2015-05-07 14:03:46) [GET]

ActionController::RoutingError (No route matches "/default.cfm" with {:domain=>"eastsidevb.com", :subdomain=>"www", :method=>:get, :host=>"www.eastsidevb.com"}):
  sass (3.1.16) rails/./lib/sass/plugin/rack.rb:54:in `call'
  sass (3.1.16) rails/./lib/sass/plugin/rack.rb:54:in `call'
  app/middleware/flash_session_cookie_middleware.rb:20:in `call'
  app/middleware/custom_logger.rb:16:in `call'
  /var/www/vhosts/sor/shared/bundle/ruby/1.8/gems/hoptoad_notifier-2.4.11/lib/hoptoad_notifier/rack.rb:27:in `call'
  /var/www/vhosts/sor/shared/bundle/ruby/1.8/gems/hoptoad_notifier-2.4.11/lib/hoptoad_notifier/user_informer.rb:12:in `call'
  /opt/ruby-enterprise-1.8.7-2011.03/lib/ruby/gems/1.8/gems/passenger-3.0.9/lib/phusion_passenger/rack/req

http://stackoverflow.com/questions/8026047/cant-get-oauth-facebook-cookies-using-koala-for-connecting-to-facebook-with-ra

DT: Apr 8
=========

24840465	05/08/15 - 02:31:02

WePay

https://www.wepay.com/411


cap deploy branch=facebook_fix

rvm install ruby-1.8.7-p375

rvm reinstall ruby-1.8.7-p374



carmen@leaguer.org/leaguer13


{"user_id"=>234505274, "first_name"=>"Crown Heights", "last_name"=>"Softball", "user_name"=>"Crown Heights Softball", "email"=>"softball6@sportsonrails.com", "state"=>"registered", "callback_uri"=>""}


gem 'ttfunk', '1.0.3'


api = "https://stage.wepayapi.com/v2"
call="/user"
access_token="STAGE_885dc9b940b28ac91b2097a074f7cbe551b03be947e48a84d9a6dc63b1974590"
url = URI.parse(api + call)
call = Net::HTTP::Post.new(url.path, initheader = {'Content-Type' =>'application/json',  'User-Agent' => 'WePay Ruby SDK'})
request = Net::HTTP.new(url.host, url.port)
call.add_field('Authorization: Bearer', access_token)
request.use_ssl = true
response = request.start {|http| http.request(call) }
JSON.parse(response.body)



STAGE_c75b677adaee79fa9115d37ac7c8aecb6f8f0295dda08043ea0b9b4ac819ce1c 

require 'net/http'
require 'uri'
api = "https://stage.wepayapi.com/v2"
call="/user"
access_token="STAGE_885dc9b940b28ac91b2097a074f7cbe551b03be947e48a84d9a6dc63b1974590"
url = URI.parse(api + call)
call = Net::HTTP::Post.new(url.path, initheader = {'X-Content-Type-Options'=> 'nosniff','Strict-Transport-Security'=>'max-age=31536000','Connection' => 'keep-alive','Content-Length'=> '164', 'Content-Type' =>'application/json',  'User-Agent' => 'WePay Ruby SDK'})
request = Net::HTTP.new(url.host, url.port)
call.add_field('Authorization: Bearer', access_token)
request.use_ssl = true
response = request.start {|http| http.request(call) }
JSON.parse(response.body)

{"user_id":237048358,"first_name":"Carmen","last_name":"Bellavia","user_name":"Carmen Bellavia","email":"carmen@leaguer.org","state":"registered","callback_uri":""}


HTTP/1.1 200 OK
Server: nginx
Content-Type: application/json
X-Content-Type-Options: nosniff
X-NewRelic-App-Data: PxQBUlFWCwETUlhbBQgGX0YdFGQHBDcQUQxLA1tMXV1dORYiRBJHDQlqGBdUPxdGQwETQBsBGVZUAQYDTlZNUwZVC1YUFQUeEVYLBwMAAFdRAg9RAAEBAQdGTQRWXUQDOQ==
Strict-Transport-Security: max-age=31536000
Date: Sat, 09 May 2015 05:27:24 GMT
Content-Length: 164
Connection: keep-alive


require 'net/http'
require 'uri'

response = Net::HTTP.get_response(uri)



#<Net::HTTPLengthRequired 411 Length Required readbody=true>


api = "https://stage.wepayapi.com/v2"
call="/user"
access_token="access_token"
url = URI.parse(api + call)
call = Net::HTTP::Post.new(url.path, initheader = {'Content-Type' =>'application/json',  'User-Agent' => 'WePay Ruby SDK'})
request = Net::HTTP.new(url.host, url.port)
call.add_field('Authorization: Bearer', access_token)
request.use_ssl = @use_ssl (true/false)
response = request.start {|http| http.request(call) }
JSON.parse(response.body)

http://stackoverflow.com/questions/5416902/accessing-headers-for-nethttppost-in-ruby

http://stackoverflow.com/questions/21272893/why-do-ruby-nethttp-get-response-and-nethttp-newuri-host-request-return-di?rq=1




cd /var/www/html/SportsOnRails-master
862  ls -l
863  cd SportsOnRails-master
864  rvm list
865  rvm use ruby-1.8.7-head@leaguer


response = WEPAY.call("/user", self.wepay_access_token)
response = WEPAY.call("/user", self.wepay_access_token.to_s,{})

Hi Carmen,

We successfully fixed the wepay call issue for accessing user information under payment admin settings section

Here is the change we made in our local machine(It is working as expected)

app\models\organization.rb (line no: 383)

Replaced 
response = WEPAY.call("/user", self.wepay_access_token)
With
response = WEPAY.call("/user", self.wepay_access_token.to_s,{})

We have already pushed the changes to "facebook_fix" branch.(Need to deploy)

Please verify and let us know your feedback


Best,
Amit

DT: Apr 11, 2015
================
147	Registration - Sign in during registration causes template not found error 

News Feed Item

After adding number of widgets in a page, we are unable to add more widgets in that page
Is there any limit

http://stackoverflow.com/questions/10111855/rails-3-2-activerecord-session-store-not-working?rq=1
http://apidock.com/rails/ActiveRecord/SessionStore
http://pothibo.com/2013/09/sessions-and-cookies-in-ruby-on-rails/


https://github.com/rails/activerecord-session_store
http://stackoverflow.com/questions/2588241/rails-sessions-current-practices
http://stackoverflow.com/questions/11706297/rails-3-storing-session-in-active-record-not-cookie
https://github.com/rails/rails/blob/5edfc463484827df364a1e589677d5c84dfac282/activerecord/lib/active_record/session_store.rb/44203http://maxivak.com/rails-clear-old-sessions-stored-in-database/

DT: may 12, 2015
=================
148	Site Builder - Text Widget: Saving text widget doesn't handle ajax response 
149	Create Account Issue - Got error when trying to create an account 

Extra work 24hour  
Start date | Status

FB stuff
 News posting to wall and the pages user manages. 
 Sign in with FB
WePay 
 WePay connect issue in admin settings
 
 May 6, 2015
May 8, 2015


http://www.rubydoc.info/gems/acts_as_list/0.7.2


{"tokenID"=>"96LF3JKIPQDCCUV4QX7ZE3WT2YQHJQJ5LEXPBMDXEASKQ4VX36Q33YIMAGLTDTGZ",
 "signatureMethod"=>"RSA-SHA1",
 "status"=>"SC",
 "signatureVersion"=>"2",
 "signature"=>"kshx9/xgxFJRJZ73XE5qPIC90yQQ5wyd+ME93HaZ4Q2LMFyZGB5n5ZtIRC9VeM6azJ6SYX0n4YEL\ngwSTJ0a3qEfj5vbw8FeKQPNMNlPZRbhW1YGq7bY0DkdX928Ek5mpEF5ZBuPKizVTdsNDDc+FDQjV\nI86TjLL0qsJTjJl6KzS7xjiqctKQZ4tpL9tTdRrAH7Vw4k7eCC2Be7M2ru3JhMlfSzyHKplsdGRv\nPV8fyAXMCSKqtxrkBFs3YnG5iDynvXg1D9DSTBapi0JYJvxfceXTDAYEJSWW4rd1veg5A4K0TKh4\nUwMUK8A+ofg1RZu8UGseY6PNndRTEqCuoV4uqA==",
 "certificateUrl"=>"https://fps.sandbox.amazonaws.com/certs/040714/PKICert.pem?requestId=bjyk7u5ajs94h2kzvq5maksuylprkjma92ehefhe74xc0nu51ki",
 "expiry"=>"11/2020",
 "callerReference"=>"1431442258.9197674"}
 
 
 
 We're sorry there was a problem and your order could not be processed at this time. 

 
DT: May 13, 2015
=====================
#141: Team Pages - Team Home: Ready to test 

Error Message: The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.


access_key: AKIAJPSTMV72S33DFY2Q
secret_key: CU7oR5XsWHkI4qE/ccvZm6ydadIe2nXV/EpCVkOJ

access_key: AKIAJPSTMV72S33DFY2Q
secret_key: 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




Payment Details

League: 2015 AS Teamsss
Registration Product: WL with price = $20
Paid / Entered By: Admin User (admin@leaguer52.org)
Payment Amount: $20.00
Outstanding Balance: $20.00
Payment Method: Amazon
Status: Error
Error Message: The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.



http://docs.aws.amazon.com/general/latest/gr/signature-version-2.html
http://docs.aws.amazon.com/ElasticMapReduce/latest/API/CommonParameters.html
https://edgenic.wordpress.com/2009/01/24/software-as-a-service-with-amazon-fps-using-remit-for-ruby/


	
DT: May 14, 2015
=================

authorize.payments-sandbox.amazon.com/cobranded-ui/actions/start?
callerkey=akiajpstmv72s33dfy2q&callerreference=1431581450.7711532&
cobrandingurl=https%3a%2f%2flth.me%2fimages%2flogos%2f4c4b62b8-6e43-4b8a-9fad-6f5c38413a2e.png

&paymentreason=%3cbr%3e%3cbr%3eorder%20%23%3a%2014315814498770971%3cbr%3eitems%3a%3cbr%3eas%202016%20boys%20new%20based%20%28wl%20with%20price%20%3d%20%2420%29%20-%20admin%20user%20%28%2420.00%20of%20%2420.00%29%3cbr%3e%3cbr%3e
&pipelinename=singleuse
&recipienttoken=f3fp9xpeftf6ckugfx2r1vpzsrgnf2z24g8x614glaqhe18egv7grl7xufapxsja
&returnurl=http%3a%2f%2fsoftball.lth.me%3a3000%2fonline_transactions%2famazon_transactions%2fprocess_payment
&signature=ng%2f1o2afvys5ro%2fiogckeguzgtqxuudmizayayyhtrq%3d&signaturemethod=hmacsha256&signatureversion=2&transactionamount=20.0
&version=2009-01-09




0 * * * *  /bin/bash -l -c 'cd /var/www/html/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake paypal:ap:update_initiated RAILS_ENV=development 

0 * * * *  /bin/bash -l -c 'cd /var/www/html/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake paypal:ap:clear_abandoned_pay_items RAILS_ENV=development 



0 * * * * /bin/bash -l -c 'cd /var/www/vhosts/sor/releases/20150514071121 && RAILS_ENV=staging bundle e
xec rake paypal:ap:update_initiated --silent >> /var/www/vhosts/sor/shared/log/cron_log.log 2>&1'


0 * * * * /bin/bash -l -c 'cd /var/www/vhosts/sor/releases/20150514071121 && RAILS_ENV=staging bundle e
xec rake paypal:ap:clear_abandoned_pay_items --silent >> /var/www/vhosts/sor/shared/log/cron_log.log 2>
&1'



source /etc/profile.d/rvm.sh 



{"tokenID"=>"95LFBJ4IPKDRCU34GX7EEFWTGYHHJUJPLE9PHMDNEQSKV4PX3PQI3Y8M8GLZDDG4", "signatureMethod"=>"RSA-SHA1", "status"=>"SC", "signatureVersion"=>"2", "signature"=>"ZU/z1nK18jG6lrrIi3Pi7zE8puGAO4QbdHf2dit5BeSC+HeOc38AxB+eh5m6WoYq5yr5qBYYb5+Q\nK3E7Z8h9i7KwXVUWSwz6ws2hgEPxRNC7zCD0hsN79otUV6qtH32+tCwr6nAcOVfkQGiHXbUb0FfD\n6UVjA0zUzhtB/6/u1pvN6cpGKbof87SqMUBiTFxAC+IxY5Isk0zrkr2cJCpGq8M6FoQX7g7GeBqE\nbs6j8DsyBlGM11Fsx8NWhdqA7ApPV611hldd+Xaof78JZjUIC6SplYxYs8q6IGch2m0/ulRVl7vS\ndsry+7DQ1HoFteQUgUyyIG79s2bvqdgJLMGlLg==", "certificateUrl"=>"https://fps.sandbox.amazonaws.com/certs/040714/PKICert.pem?requestId=bjyk7u5ajs94h2kzvq5maksuylprkjma92ehefhe74xc0nu51kk", "expiry"=>"11/2020", "callerReference"=>"1431602101.5421803", "controller"=>"online_transactions/amazon_transactions", "action"=>"process_payment"}

{"tokenID"=>"F36RX66AJJF8S3QZ9MP656MAZD2CL3UH5HMIFT75D5ACN6Z9FKCHESAQQXNLVSBM",
     "signatureVersion"=>"2",
     "callerReference"=>"OrderToken-00b6fad394cdef8f95c1dcc72e2bfae06dc09c4f",
     "signature"=>"Jy7oVloTqVl1BKTnFmpiBW0Jpzr3x4E4WoIPxUQMz1vefNO3bhceHTg+zAvB52JcyS2oYmUHltep\n3ifJb+eEciRDCP+T7GjocXG9LNuGpt76MUXxbV2CGGq+gVvTs/kE5oN5kH2/51skjiFkgwl9Qfao\nuGYK9uWVGuRvL9dmhxk=",
     "certificateUrl"=>"https://fps.sandbox.amazonaws.com/certs/090910/PKICert.pem?requestId=bjyoi7ibdlseql3rkc05z9rexucetcjqkdw8eneo5qlto7zp7ap",
     "signatureMethod"=>"RSA-SHA1",
     "expiry"=>"08/2014",
     "status"=>"SC"}





#151: Activity Administration - Create/Edit - Registration Options: Setting up payment plans has a few issues

#150: Team Pages - Unpublished team pages still visible and routing to wrong page



Hi Auro Sir,

We need to design the architecture for the leaguerdemo aplication in AWS.

Please consider this as a reminder.


Best,
Amit



https://github.com/TTLabs/EvaporateJS/issues/51
http://stackoverflow.com/questions/2777078/amazon-mws-request-signature-calculated-does-not-match-the-signature-provided






Redirected to https://authorize.payments-sandbox.amazon.com/cobranded-ui/actions/start?callerKey=AKI
AJPSTMV72S33DFY2Q&cobrandingUrl=https%3A%2F%2Flth.me%2Fimages%2Flogos%2F4c4b62b8-6e43-4b8a-9fad-6f5c
38413a2e.png&pipelineName=SingleUse&returnURL=http%3A%2F%2Fsoftball.lth.me%3A3000%2Fonline_transacti
ons%2Famazon_transactions%2Fprocess_payment&version=2009-01-09&callerReference=1431612500.2947948&pa
ymentReason=%3Cbr%3E%3Cbr%3EOrder+%23%3A+1431612499031932%3Cbr%3EItems%3A%3Cbr%3EAS+2016+Boys+new+ba
sed+%28WL+with+price+%3D+%2420%29+-+Admin+User+%28%2420.00+of+%2420.00%29%3Cbr%3E%3Cbr%3E&recipientT
oken=F3FP9XPEFTF6CKUGFX2R1VPZSRGNF2Z24G8X614GLAQHE18EGV7GRL7XUFAPXSJA&transactionAmount=20.0&Signatu
reVersion=2&SignatureMethod=HmacSHA256&signature=iRX3JzlrnIICC7NfI%2BY5QNLY2GZY%2BJCeAlb6QMTWiIc%3D


leaguerdemo

https://authorize.payments-sandbox.amazon.com/cobranded-ui/actions/start?callerKey=AKIAJPSTMV72S33DFY2Q&callerReference=1431581450.7711532&cobrandingUrl=https%3A%2F%2Flth.me%2Fimages%2Flogos%2F4c4b62b8-6e43-4b8a-9fad-6f5c38413a2e.png&paymentReason=%3Cbr%3E%3Cbr%3EOrder%20%23%3A%2014315814498770971%3Cbr%3EItems%3A%3Cbr%3EAS%202016%20Boys%20new%20based%20%28WL%20with%20price%20%3D%20%2420%29%20-%20Admin%20User%20%28%2420.00%20of%20%2420.00%29%3Cbr%3E%3Cbr%3E&pipelineName=SingleUse&recipientToken=F3FP9XPEFTF6CKUGFX2R1VPZSRGNF2Z24G8X614GLAQHE18EGV7GRL7XUFAPXSJA&returnURL=http%3A%2F%2Fsoftball.lth.me%3A3000%2Fonline_transactions%2Famazon_transactions%2Fprocess_payment&signature=ng%2F1O2AfVyS5RO%2FIOGcKegUZGtQXUUdmIZAyaYyHTrQ%3D&signatureMethod=HmacSHA256&signatureVersion=2&transactionAmount=20.0&version=2009-01-09

https://authorize.payments-sandbox.amazon.com/cobranded-ui/actions/start?callerKey=AKIAJPSTMV72S33DFY2Q&callerReference=1431585097.688726&cobrandingUrl=http%3A%2F%2Fsoftball.sordemo.com%2Fimages%2Flogos%2F6ff8e892-af63-4639-801c-c6319e0e58d6.jpeg&paymentReason=%3Cbr%3E%3Cbr%3EOrder%20%23%3A%2014315850967314095%3Cbr%3EItems%3A%3Cbr%3E2015%20AS%20Teamsss%20%28WL%20with%20price%20%3D%20%2420%29%20-%20Admin%20User%20%28%2420.00%20of%20%2420.00%29%3Cbr%3E%3Cbr%3E&pipelineName=SingleUse&recipientToken=F3FP9XPEFTF6CKUGFX2R1VPZSRGNF2Z24G8X614GLAQHE18EGV7GRL7XUFAPXSJA&returnURL=http%3A%2F%2Fsoftball.lth.me%3A3000%2Fonline_transactions%2Famazon_transactions%2Fprocess_payment&signature=SfF09lw2kXGkWOiZHVHBivWJj0rjizP%2BQbCrR%2FSrSGw%3D&signatureMethod=HmacSHA256&signatureVersion=2&transactionAmount=20.0&version=2009-01-09




sordemo

https://authorize.payments-sandbox.amazon.com/cobranded-ui/actions/start?recipientToken=F7FPRX4EFRF3CKMGIX2Q12PZXRSNFFZP4GUXU14RLGQHF1AEG47DRL1XEFA6XLJ3&cobrandingUrl=https%3A%2F%2Fsordemo.com%2Fimages%2Flogos%2F6ff8e892-af63-4639-801c-c6319e0e58d6.jpeg&paymentReason=%3Cbr%3E%3Cbr%3EOrder+%23%3A+143152416547055%3Cbr%3EItems%3A%3Cbr%3E2015+Boys+Travel+Team+%28Copy%29+%28individuals%29+-+Admin+User+%28%24200.00+of+%24200.00%29%3Cbr%3E%3Cbr%3E&callerKey=AKIAJPSTMV72S33DFY2Q&pipelineName=SingleUse&returnURL=https%3A%2F%2Fsoftball.sordemo.com%2Fonline_transactions%2Famazon_transactions%2Fprocess_payment&callerReference=1431524165.91238&signature=uvLiJGj7g%2FsTsRIVChb4khyyV%2BOM0%2F6m8e3rPwoC%2Bvs%3D&transactionAmount=200.0&SignatureVersion=2&SignatureMethod=HmacSHA256&version=2009-01-09



http://softball.sordemo.com/images/logos/6ff8e892-af63-4639-801c-c6319e0e58d6.jpeg




Hi Carmen,

Here are the completed items in "Widgets",

Schedules & Events
Team Roster
Team Coordinators
Team Standings

Known issues:

MenuItem - the ajaxloader is not closing if we click on "Select" button in "Link to a page on the site". Other three options are working
NewsFeedItem popup is not closing after selecting a news feed
	Possible cause is the old Rails 2 type of relationship of NewsFeedItem with Widget
NewsFeed
	After changing options for newsfeed, it is not immediately reflected in the page inside site_builder.
	After page refresh it is also not displaying correctly
Product category listing widget
	Data is not reflected in either site_builder page or live page(also not working in sordemo)

Items left:
News Feed
Activity Listing
Product Category Listings


Please verify and let us know your feedback.

Best,
Amit






Site Builder - Photos & Videos Tab: Ready for test 

Hi Carmen,

Here are the completed items in "Photos & Videos",





Please verify and let us know your feedback.

Best,
Amit


DT: Apr 15, 2015
===================

Create a document which has the list of all the completed & closed section by Carmen.

List out all the sections/features which are ready for test for Carmen.

List out all the remaining items along with bugs posted on OS & put a timeline to complete the same.


https://docs.google.com/document/d/1c63rXMU4ro5_mlWqO8ptkyPpiO5Nvc0yLTbhCzj1hcE/edit
https://docs.google.com/spreadsheets/d/12EUp9AT2jZr3FDPL7UjvIJNh3AX2bqzc_teuo9ko-Kc/edit#gid=808755347

Redirected to https://authorize.payments-sandbox.amazon.com/cobranded-ui/actions/start?callerKey=AKI
AJPSTMV72S33DFY2Q&cobrandingUrl=https%3A%2F%2Flth.me%2Fimages%2Flogos%2F4c4b62b8-6e43-4b8a-9fad-6f5c
38413a2e.png&pipelineName=SingleUse&returnURL=http%3A%2F%2Fsoftball.lth.me%3A3000%2Fonline_transacti
ons%2Famazon_transactions%2Fprocess_payment&version=2009-01-09&callerReference=1431681645.700975&pay
mentReason=%3Cbr%3E%3Cbr%3EOrder+%23%3A+14316810016255834%3Cbr%3EItems%3A%3Cbr%3EAS+2016+Boys+new+ba
sed+%28WL+with+price+%3D+%2420%29+-+Admin+User+%28%2410.00+of+%2420.00%29%3Cbr%3E%3Cbr%3E&recipientT
oken=F3FP9XPEFTF6CKUGFX2R1VPZSRGNF2Z24G8X614GLAQHE18EGV7GRL7XUFAPXSJA&transactionAmount=10.0&Signatu
reVersion=2&SignatureMethod=HmacSHA256&signature=mB%2BBCvSOpYE5elfV1vs2ZsxmJbafT%2FwUh0KdKtJLaeE%3D

Error Message: The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.

DT: Apr 18, 2015
===================

#155: Schedule Administration - Add Games/Matches: Time always saved as AM

#156: Registration - Unable to checkout with WePay


#157: My Account - Orders: Order Details: Unable to make a payment on an order with an outstanding balance

158	Public Schedule Page - Events not showing up correctly 


Activity Administration - Create Activity - Registration products: "Add more payment options doesn't work


	160	Create Activity - Addtional Dates and Times: Unable to create multiple activities using the additional dates and times feature 
	161	View Activity - Add In Person Registration Dates: adding discounts/surcharges causes bug on saving
	
163	Product Administration - Create/Edit: Can't add images to products 

164	Products Create/Edit - Options: Can't add options to products 
165	TinyMCE - Custom Link and Photo Selector 

166	Site Builder - Delete Widget: After deleting a widget, I'm not able to drag new widgets onto the page
167	Site Builder - Something broke and I'm not able to do anything but delete widgets on the home page 




http://www.williambharding.com/blog/technology/rails-3-autoload-modules-and-classes-in-production/
http://matt.coneybeare.me/how-to-convert-simple-rails-23-style-plugins/
http://guides.rubyonrails.org/configuring.html#rails-general-configuration



Known issue:

If adding existing customer >> errors add to base

modified:   Gemfile
modified:   Gemfile.lock
modified:   config/application.rb
modified:   config/environments/staging.rb
modified:   config/initializers/redis.rb
modified:   config/initializers/sidekiq.rb



Exide industries
158.80


DT: Apr 19, 2015
================

leaguer123

http://www.tinymce.com/wiki.php/TinyMCE3x:How-to_implement_a_custom_file_browser



Description validation issue while creating product


http://stackoverflow.com/questions/2122085/problem-jquery-and-tinymce-textarea-value-doesnt-submit
http://jsfiddle.net/9euk9/



DT: Apr 20, 2015
================
Sidekiq issue fix
add product with options
description save issue in custom field



01:30

http://stackoverflow.com/questions/5553716/setting-content-into-multiple-tinymce-textarea

$.each(tinyMCE.editors, function(index, editor){
     editor.setContent(value);
  });
  
  tinyMCE.triggerSave();


function reinitialize_editore(){
 if (typeof(tinyMCE) != "undefined") {
    //if (tinyMCE.activeEditor == null || tinyMCE.activeEditor.isHidden() != false) {
    tinyMCE.editors=[]; // remove any existing references
    //}
  }
  
}


setup: function (editor) {
              editor.on('change', function () {
                  tinymce.triggerSave();
              });
            }
			
DT: Apr 21, 2015
================
Sidekiq issue fix
add product with options
description save issue in custom field
Capistrano deployment


tinyMCE.triggerSave();
tinymce.activeEditor.save();


custom_form_fields[1][content]

custom_form_fields[1][name]


TeamGeneralEmailJob.perform_async(current_user.id,
        @teams.map(&:id),
        @to,
        @subject,
        Base64.encode64(@message))

Delayed::Job.enqueue(NewsItemFacebookJob.new(self.id)) if self.facebook?

NewsItemFacebookJob.perform_async(self.id) if self.facebook?

.perform_async

DT: Apr 22, 2015
================
Started PUT "/administration/settings/custom_fields" for 10.0.2.2 at 2015-05-22 07:25:31 +0000
Processing by Administration::Settings::CustomFieldsController#update as HTML


Started GET "/administration/settings/custom_fields" for 10.0.2.2 at 2015-05-22 07:25:34 +0000
Processing by Administration::Settings::CustomFieldsController#show as HTML



#150: Team Pages - Unpublished team pages still visible and routing to wrong page
#163: Product Administration - Create/Edit: Can't add images to products
#157: My Account - Orders: Order Details: Unable to make a payment on an order with an outstanding balance
115	View Order Details Page - Process Refund: video needed 

Sending request to http://hoptoadapp.com/notifier_api/v2/notices/:

SignalException: SIGTERM

leaguer.cf5aqt8ebn9n.us-east-1.rds.amazonaws.com


DT: Apr 25, 2015
================
Capistrano
Crontab another instance

D#94	Teams Administration - League Summary: Ready to test						
D#150: Team Pages - Unpublished team pages still visible and routing to wrong page
D#158	Public Schedule Page - Events not showing up correctly 	
#155	Schedule Administration - Add Games/Matches: Time always saved as AM	
#103: Schedules Administration - Schedule Page (After an activity is selected): Ready to test
=======================================================================================================================================================
#159: Activity Administration - Create Activity - Registration products: "Add more payment options doesn't work
#160: Create Activity - Addtional Dates and Times: Unable to create multiple activities using the additional dates and times feature									
#153: Registration Administration - Error moving player to the waitlist (Test it using old data as well as new)
#154: Registrations - Waitlist: Approve registration doesn't work
#112	Order Administration - Orders Area: Ready to test						

Capistrano deployment:
=====================================
mkdir -p config/deploy
create config/deploy.rb
create config/deploy/staging.rb
create config/deploy/production.rb
mkdir -p lib/capistrano/tasks
create Capfile
Capified

172.31.60.128

BUG [1fdd153a] Running /usr/bin/env [ -d ~/.rvm ] as root@54.88.138.116
BUG [1fdd153a] Command: [ -d ~/.rvm ]
p aborted!

Running /usr/local/rvm/bin/rvm current

cap staging deploy:check

cap deploy:setup

http://kris.me.uk/2010/08/30/rails3-hosting-all-in-one.html
http://www.sitepoint.com/deploy-rails-capistrano-3/

#150: Team Pages - Unpublished team pages still visible and routing to wrong page

DT: Apr 26, 2015
================

D#141: Team Pages - Team Home: Ready to test
#155  Schedule Administration - Add Games/Matches: Time always saved as AM	
#103: Schedules Administration - Schedule Page (After an activity is selected): Ready to test
=======================================================================================================================================================
#159: Activity Administration - Create Activity - Registration products: "Add more payment options doesn't work
#160: Create Activity - Addtional Dates and Times: Unable to create multiple activities using the additional dates and times feature									
#153: Registration Administration - Error moving player to the waitlist (Test it using old data as well as new)
#154: Registrations - Waitlist: Approve registration doesn't work
#112	Order Administration - Orders Area: Ready to test	

HoptoadNotifier

#141: Team Pages - Team Home: Ready to test



An existing VM which you want to package

vagrant package --base SPECIFIC_NAME_FOR_VM --output /yourfolder/OUTPUT_BOX_NAME.box

eg: if I am interested to repackage VM Node_default_1387087098 then I will run,

vagrant package --base Node_default_1387087098 --output /myfolder/precise64Node.box



# $redis = Redis.new(:host => '172.31.60.128', :port => 6379)
# $redis.client.reconnect

>Bug in Sordemo

when we change the product category listing header, the product category listing disappears. After changing any setting, it comes.

Known Issue with leaguerdemo.

When we add new widget, some default settings are not checked for Product Listing widget, Product Category Listing widget.

 Is there any default setting for these widgets which works in sordemo but not in leaguerdemo?


#166--------------------fixed
#167

DT: Apr 27, 2015
================

Pendrive config folder


#151: Activity Administration - Create/Edit - Registration Options: Setting up payment plans has a few issues

#183: Activity Management - New/Edit Activity - Registration Options - Payment Plans: Javascript not calculating deposit amount, installments and total fees


>downgrade the version of TinyMCE to make the plug ins work

Yes, we have downgraded the version of TinyMCE to make the plug ins work

To make the TinyMCE work with upgraded version, We need extra time, may be 1-2 weeks

Need Reply
==========
#105: DelayedJob to Sidekiq migration

I looked at the sidekiq dashboard and see that four jobs failed.  Is there any way for me to see which jobs failed and why?


Hi Carmen,

We found that some of the background jobs is getting failed while trying to post news.When we enquque job to sidekiq, Sometime it throws ActiveRecord::RecordNotFound error.
But sidekiq always retries the same worker class again if it fails. You will notice that it will be processed in 2x attempt. But the count(means Failed) does not reset to zero.

However we have displayed another tab as "Failure" in sidekiq dashboard header which would display number failed jobs.


Best,
Amit




NewsItemTwitterJob | ActiveRecord::RecordNotFound: Couldn't find NewsItem with id=1065
NewsItemFacebookJob | ActiveRecord::RecordNotFound: Couldn't find NewsItem with id=1065
NewsItemNotificationJob | ActiveRecord::RecordNotFound: Couldn't find NewsItem with id=1065



Worker

This mean a job with 25 retries enabled might generate up to 25 failure entries



171	Link to admin area gives error 
172	League Summary - Search by Coordinator: Still doesn't work for me 
174	Product Details Page - Image lightbox: Weird animation when navigating between images 
175	Product Administration - Edit - Add Options: Saving option 2x hangs app 
176	Settings - Products - Options: Edit option deletes all values 
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog bo close
178	Sitebuilder - Create Button - Create Category: Default activity listing widget has wrong settings
179	Sitebuilder - Create Button - Create product category - Doesn't add required widgets 
180	My Account - Upcoming & Recent Events: text showing html markup when event has the name filled in & headers not right 
181	Online Registration - WePay Payment fails 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit
183	Activity Management - New/Edit Activity - Registration Options - Payment Plans: Javascript not calculating deposit amount, installments and total fees 
184	Activity Managment - Create/Edit: TinyMCE not working 
185	Activity Admin - Batch Edit - Folder - Add Folder: JS bug doesn't close the dailog 



Hi Amit,

I was able to select photos and links in the text widget, but I'm wondering did you downgrade the version of TinyMCE to make the plug ins work? 
There are a couple of issues with the version of TinyMCE that is currently in production.
1.. The formatting doesn't work with chrome or safari.  If you try to change font size or change the color of text when using Chrome, it doesn't save properly.
2. 1. It's not compatible with Internet Explorer.
There are only a few placed, such as the public-facing team pages where the tinymce needs to work with IE.  In the site builder and admin areas, I'm ok with not supporting IE.



Hi Carmen,

We faced several issues while trying to integrate the custom plugin with Tinymce version 4. As we are in a strict timeline, we downgraded the version of tinymce and it worked.
But we used latest version of Tinymce 3(i.e, version 3.5.9).

Regarding couple of issues with the version of TinyMCE in production, We can fix it after the migration is fully done.

Please suggest.

Best,
Amit



Hi Carmen,

We fixed the javascript issue that calculates the totals for the payment plans and pushed the changes to aws staging server.

Please verify and let us know your feedback.


Best,
Amit

<input onclick="jQuery('#overwrite_product_option').val(1); saveProductOptionSubmit();" type="button" value="Override"/>


DT: Apr 27, 2015
================
#189: Team admin & Reg admin - Move Teams and Switch Registrations - Actions not working on Leaguerdemo

ite Builder - Widgets - Picture/Vide Widget: Had to change the way YOUTUBE videos render


mysql -h leaguer.cf5aqt8ebn9n.us-east-1.rds.amazonaws.com -u admin -p sportsdev < sportsonrails_demo_2015-05-26.sql


mysql -h localhost -u root -p sportsdev < sportsonrails_demo_2015-05-26.sql
LegD#guer*!2

		


55	Administration - Settings - Layout Manager: Copy layout and styling issues 						
58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 						
103	Schedules Administration - Schedule Page (After an activity is selected): Ready to test						
107	Schedules Administration - Hover over results to delete results - video needed 						
112	Order Administration - Orders Area: Ready to test						
130	Site Builder - Create Product Category: Create product category page doesn't add the product listing widget 						
150	Team Pages - Unpublished team pages still visible and routing to wrong page						
151	Activity Administration - Create/Edit - Registration Options: Setting up payment plans has a few issues		
155	Schedule Administration - Add Games/Matches: Time always saved as AM		
159	Activity Administration - Create Activity - Registration products: "Add more payment options doesn't work						
160	Create Activity - Addtional Dates and Times: Unable to create multiple activities using the additional dates and times feature						
165	TinyMCE - Custom Link and Photo Selector 						
166	Site Builder - Delete Widget: After deleting a widget, I'm not able to drag new widgets onto the page						
176	Settings - Products - Options: Edit option deletes all values						
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog box close						
178	Sitebuilder - Create Button - Create Category: Default activity listing widget has wrong settings						
179	Sitebuilder - Create Button - Create product category - Doesn't add required widgets	
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit									
184	Activity Managment - Create/Edit: TinyMCE not working						
189	Team admin & Reg admin - Move Teams and Switch Registrations - Actions not working on Leaguerdemo						
190	Site Builder - Widgets - Picture/Vide Widget: Had to change the way YOUTUBE videos render						




Sending request to http://hoptoadapp.com/notifier_api/v2/notices/:




HoptoadNotifier.notify(e, :error_class => 'EventReminderSendUserEmail')        
HoptoadNotifier.notify(e, :error_class => 'EventReminderSendUserSMS')        


git add app/controllers/account_controller.rb app/controllers/online_transactions/amazon_transactions_controller.rb app/controllers/widgets/donate_controller.rb app/models/adjustments/adjustment.rb app/models/adjustments/paypal_payment_adjustment.rb app/models/donation.rb app/models/ipn_logs/amazon_ipn_log.rb app/models/ipn_logs/paypal_ipn_log.rb app/models/observers/official_observer.rb app/models/observers/offline_participant_observer.rb app/models/observers/team_coordinator_observer.rb app/models/observers/team_invite_observer.rb app/models/observers/team_registration_observer.rb app/models/online_transactions/amazon_payment.rb app/models/online_transactions/amazon_refund.rb app/models/online_transactions/amazon_transaction.rb app/models/online_transactions/paypal_transaction.rb app/models/order.rb app/services/api/twitter/twitter_api.rb app/structs/event_update_notification_job.rb app/structs/news_item_notification_job.rb lib/leaguer_extensions.rb lib/tasks/event_reminders.rake lib/tasks/registration_payment_reminder.rake 




ImageMagick.>



DT: May 29, 2015
=================
ANM
---
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit						
D189	Team admin & Reg admin - Move Teams and Switch Registrations - Actions not working on Leaguerdemo						
190	Site Builder - Widgets - Picture/Vide Widget: Had to change the way YOUTUBE videos render						
193	Activity Administration - Loading the activity page is taking a long time - Probably due to tinyMCE 
D194	Pages - Edit - Page Settings; Unable to edit the page settings 


KRS
--- 					
130	Site Builder - Create Product Category: Create product category page doesn't add the product listing widget 						
166	Site Builder - Delete Widget: After deleting a widget, I'm not able to drag new widgets onto the page						
D178	Sitebuilder - Create Button - Create Category: Default activity listing widget has wrong settings						
179	Sitebuilder - Create Button - Create product category - Doesn't add required widgets	
192	Site builder - Text & Image Carousel, Slide show, text widget, etc: Reordering items isn't saving					
195	Site Builder - Create activity: Can't create an activity from site builder 


55	Administration - Settings - Layout Manager: Copy layout and styling issues 						
58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 						
103	Schedules Administration - Schedule Page (After an activity is selected): Ready to test	

ANM/KRS
--------
112	Order Administration - Orders Area: Ready to test						
155	Schedule Administration - Add Games/Matches: Time always saved as AM						
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog box close						
184	Activity Managment - Create/Edit: TinyMCE not working						


DT: Jun 1, 2015
=================
 
ANM
---
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit		
D198	Create a new site doesn't work 
D156	Registration - Unable to checkout with WePay 
190	Site Builder - Widgets - Picture/Vide Widget: Had to change the way YOUTUBE videos render	

KRS
--- 					
130	Site Builder - Create Product Category: Create product category page doesn't add the product listing widget 						
166	Site Builder - Delete Widget: After deleting a widget, I'm not able to drag new widgets onto the page						
178	Sitebuilder - Create Button - Create Category: Default activity listing widget has wrong settings						
179	Sitebuilder - Create Button - Create product category - Doesn't add required widgets				
195	Site Builder - Create activity: Can't create an activity from site builder 


55	Administration - Settings - Layout Manager: Copy layout and styling issues 						
58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 						
103	Schedules Administration - Schedule Page (After an activity is selected): Ready to test	

ANM/KRS
--------
112	Order Administration - Orders Area: Ready to test						
155	Schedule Administration - Add Games/Matches: Time always saved as AM						
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog box close						
184	Activity Managment - Create/Edit: TinyMCE not working	
 

AMT
---
D74	News Posting Module - Features that need to work
D105	DelayedJob to Sidekiq migration
201	Registration - Team invitation notifications not received 
193	Activity Administration - Loading the activity page is taking a long time - Probably due to tinyMCE 
 
 
 
NoMethodError (super: no superclass method `initialize_settings' for #<Widgets::SlideShow:0x13eee8b0
>):
  app/models/widgets/slide_show.rb:64:in `initialize_settings'
  lib/news_item_editor.rb:10:in `update_associated'
  app/controllers/administration/news_items_controller.rb:53:in `block in create'
  app/controllers/administration/news_items_controller.rb:51:in `create'
 
 
 
DT: Jun 2, 2015
=================
ANM
---
D198	Create a new site doesn't work 
D156	Registration - Unable to checkout with WePay 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit		
190	Site Builder - Widgets - Picture/Vide Widget: Had to change the way YOUTUBE videos render	

KRS
--- 					
130	Site Builder - Create Product Category: Create product category page doesn't add the product listing widget 						
166	Site Builder - Delete Widget: After deleting a widget, I'm not able to drag new widgets onto the page						
178	Sitebuilder - Create Button - Create Category: Default activity listing widget has wrong settings						
179	Sitebuilder - Create Button - Create product category - Doesn't add required widgets				
195	Site Builder - Create activity: Can't create an activity from site builder 

				
58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 						
103	Schedules Administration - Schedule Page (After an activity is selected): Ready to test	

ANM/KRS
--------
112	Order Administration - Orders Area: Ready to test						
155	Schedule Administration - Add Games/Matches: Time always saved as AM						
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog box close						
184	Activity Managment - Create/Edit: TinyMCE not working	
 

AMT
---
55	Administration - Settings - Layout Manager: Copy layout and styling issues 	
201	Registration - Team invitation notifications not received 
193	Activity Administration - Loading the activity page is taking a long time - Probably due to tinyMCE 
 
 81	Queries regarding admin customer section 
 

http://stackoverflow.com/questions/26509418/rails-cron-whenever-gem-error-bundle-command-not-found
https://github.com/javan/whenever/issues/473


Don't know how to build task 'leaguer:events:all_day_event_reminder'



*/15 * * * * cd /var/www/html/ && sh cacheclear.sh >> /var/log/cacheclear.log 2>&1
*/1 * * * * /bin/bash -l -c 'cd /var/www/html/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake paypal:ap:update_initiated RAILS_ENV=development >> /var/log/paypal.log 2>&1'
*/1 * * * * /bin/bash -l -c 'cd /var/www/html/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake paypal:ap:clear_abandoned_pay_items RAILS_ENV=development >> /var/log/paypalclear.log 2>&1'




*/1 * * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake paypal:ap:update_initiated RAILS_ENV=staging >> /var/log/paypal.log 2>&1'
*/1 * * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake paypal:ap:clear_abandoned_pay_items RAILS_ENV=staging >> /var/log/paypalclear.log 2>&1'



bundle exec whenever --clear-crontab SportsOnRails -s environment=staging
bundle exec whenever --update-crontab SportsOnRails -s environment=staging



z-index: 10000000;
 
 130
 178
  
DT: Jun 3, 2015
=================
3000
2600
2000
10000

17600
276000

13000


155	Schedule Administration - Add Games/Matches: Time always saved as AM						
103	Schedules Administration - Schedule Page (After an activity is selected): Ready to test						
199	Scheduler Date issues - PM dates changing to AM and other dates getting re-set to today's date						


Madam, please test thoroughly below bugs...then start working on remaining bugs

130	Site Builder - Create Product Category: Create product category page doesn't add the product listing widget 						
178	Sitebuilder - Create Button - Create Category: Default activity listing widget has wrong settings						
179	Sitebuilder - Create Button - Create product category - Doesn't add required widgets						

Please install jing s/w and make video what we have tested


DT: Jun 4, 2015
=================

Ask Auro to see server config in sordemo
cron setup
==================================================================================================================================================================

 - SSH to RDS instance
 
	We can not SSH in AWS RDS instance.
	we get blog ssh-tunnel technology to login RDS mysql database(http://thekeesh.com/2014/01/connecting-to-a-rds-server-from-a-local-computer-using-ssh-tunneling-on-a-mac/). but it is not required for us.
	we can directly access to RDS Mysql database through MAC terminal.
	Example: mysql -h <RDS endpoint url> -u <username> -p<password>

	AWS Forum: https://forums.aws.amazon.com/thread.jspa?threadID=93277

	AWS RDS instance is a high security. we can access RDS instance to another way.
	First we need to ssh AWS ec2-instance , then follow this command for mysql database login.
	 
	mysql -h <RDS endpoint url> -u <username> -p<password>
	
 - Remaining timeline to fix the issues
	>> https://docs.google.com/spreadsheets/d/12EUp9AT2jZr3FDPL7UjvIJNh3AX2bqzc_teuo9ko-Kc/edit#gid=808755347
	>> As we are trying to do migration with minimal changes(code level changes), so stuffs are taking more time to finish
	
 - Process to unit test - attaching the video URL of unit test for the particular issue
	>> As posted in OS case #103, 155, 199

 - Server slowness
	>> possible cause due to ssl
		[Thu Jun 04 06:05:09 2015] [warn] RSA server certificate wildcard CommonName (CN) `*.leaguerdemo.com' does NOT match server name!?
    >> Currently ssl in leaguerdemo is self signed
	>> But we found sordemo uses cloudflare ssl which is reasonably faster
		Fast site performance
		https://www.cloudflare.com/plans
	>> we will try it in leaguerdemo
	

	
https://www.cloudflare.com/a/login
amit.mohanty@andolasoft.co.in/andola123	
	
	
		198	Create a new site doesn't work
		
		
Are you getting the execution expired/timeout issue every time for case #198 Create a new site doesn't work
=====================================================================================================================================================

	
Sign in or Create an account
Crown Heights Softball
 
 

 

103	Schedules Administration - Schedule Page (After an activity is selected): Ready to test						
155	Schedule Administration - Add Games/Matches: Time always saved as AM						
199	Scheduler Date issues - PM dates changing to AM and other dates getting re-set to today's date						


The date selection looks ok now, BUT there is an issue with the time entry.  When I type in 7:00pm or 5:00pm or any PM time, the time is saved as AM instead of PM
http://screencast.com/t/b4RL6LLGzeni

Also on the edit event page dialog box, I can't select a time

Hi Carmen,

We fixed select time issue on the edit event page dialog box and time save issue as AM instead of PM in aws staging server.

Here is the video showing the process of unit testing we followed,
http://screencast.com/t/AejEreNYKOw

Please verify and let us know your feedback.

Best,
Amit








name.include? "event" && name.include? "8i" ? hidden_field_tag "event[]", value, :id => id : hidden_field_tag name, value, :id => id

"activity[events_attributes][5]"


Tue, 23 Jun 2015 12:30:00 EDT -04:00

Tue, 23 Jun 2015 12:00:00 EDT -04:00


#       modified:   Gemfile.lock
#       modified:   app/assets/javascripts/app_public.js
#       modified:   app/assets/stylesheets/jquery.datetimepicker.css
#       modified:   app/controllers/administration/events_controller.rb
#       modified:   app/helpers/date_time_picker_helper.rb
#       modified:   app/models/event.rb
#       modified:   app/views/administration/events/_new_event.html.erb
#       modified:   config/environments/development.rb
#       modified:   config/initializers/redis.rb
#       modified:   config/initializers/sidekiq.rb




  modified:   Gemfile.lock
  modified:   app/assets/javascripts/app_public.js
  modified:   app/assets/stylesheets/jquery.datetimepicker.css
  modified:   app/controllers/administration/events_controller.rb
  modified:   app/helpers/date_time_picker_helper.rb
  modified:   app/models/event.rb
  modified:   config/environments/development.rb
  modified:   config/initializers/redis.rb
  modified:   config/initializers/sidekiq.rb


if(parts.meridian == "-1" && parts.hour == "12")
        container.siblings("input[id$='_4i']").val("00");
      else
        container.siblings("input[id$='_4i']").val(parts.hour);
var _hour12 = function(date) {
    var hour = date.getHours();
    if (hour === 0)
      hour = 12;
    else //if (hour > 12)
      hour //= hour - 12;
    return hour;
  };

 
210	(AFTER EVERYTHING LOOKS GOOD) - YouTube integration needs be fixed 




Sun 05/31/15 7:30pm

Sun 05/31/15 9:00pm

Sun 05/31/15 9:45pm

Wed 06/03/15 2:00am



6/4/2015 7pm
5/5/2015 10pm
6/6/2015 9:30pm



http://screencast.com/t/KfI7lSsF5X

http://screencast.com/t/KfI7lSsF5X


http://screencast.com/t/xkMNguQ2R
You'll see in the video, when I create and edit events, the dates and times get messed up



130	Site Builder - Create Product Category: Create product category page doesn't add the product listing widget 		
	
	
	Hi Carmen,
	
	We fixed the issue and pushed the changes to aws staging server.
	
	Here is the video showing the process of unit testing we followed,
	http://www.screencast.com/t/g1Ofn3zN7

	Please verify and let us know your feedback.
	
	Best,
	Amit
	
	
178	Sitebuilder - Create Button - Create Category: Default activity listing widget has wrong settings
	http://www.screencast.com/t/txT4OctoOk3
						
179	Sitebuilder - Create Button - Create product category - Doesn't add required widgets	
	http://www.screencast.com/t/g1Ofn3zN7
	
	

   modified:   Gemfile.lock
   modified:   app/controllers/administration/events_controller.rb
   modified:   app/helpers/application_helper.rb
   modified:   app/models/event_support/score.rb
   modified:   app/views/administration/events/_edit_results.html.erb
   modified:   config/initializers/redis.rb
   modified:   config/initializers/sidekiq.rb

http://www.screencast.com/users/KrishnaSahoo/folders/Default/media/4ec12017-30fc-4994-8f70-d916205cd4eb



http://www.screencast.com/users/KrishnaSahoo/folders/Default/media/563dcf44-a96a-4b71-bfde-4b92fb780240
http://www.screencast.com/users/KrishnaSahoo/folders/Default/media/4ec12017-30fc-4994-8f70-d916205cd4eb


DT: Jun 5, 2015
===================
#178: Sitebuilder - Create Button - Create Category: Default activity listing widget has wrong settings

Closed the ticket...but

in your testing you forgot to look at the activity listing widget to see if the settings were correct.  
You should also add an activity within that category to make sure the activity listing widget displays the new activity.

Also, these categories are for activities, not product categories.  So you really wouldn't be putting them within the store.  You'd put them underneath the activities or programs forlder


107	Schedules Administration - Hover over results to delete results - video needed 			
http://screencast.com/t/wnUPr7XH

Hi Carmen,

We fixed the validation issue except one scenario and pushed the changes to aws staging server.

Known issue:
Assuming the particular event has already home and visting score, if we blank out both the scores then the validation is not displayed(if we blank out one score then it works). (We will fix it after the migration is done, as we need to go through it deeply)

Here is the video showing the process of unit testing we followed,
http://screencast.com/t/wnUPr7XH

Best,
Amit

			
200	Scheduled Jobs - Notifications - Game Reminder Notifications Not being sent 						



208	Site Builder - Copy page gives an error 


D:\MyDev\SportsOnRails\app\helpers\application_helper.rb
	def error_messages_for_score_set(items)
app/views/administration/events/_edit_results.html.erb


content_tag(:ul) { errors.values.map { |error| concat(content_tag(:li, error)) }.join }




my_logger ||= Logger.new("#{Rails.root}/log/fb_token.log")
my_logger.info("--------connected--------------at---"+ Time.now.to_s + "-----------")
my_logger.info(access_token)
my_logger.info("------------------------end------------------------\n")	




rake paypal:ap:update_initiated  //every 1min
rake paypal:ap:clear_abandoned_pay_items //every 1min
rake leaguer:events:remind //every 30min
rake leaguer:waitlist:update_expired_waitlist //every 30min
rake leaguer:events:clear_import_files  //everyday
rake tmp:cache:clear //everyday
rake guest_users:purge_stale //everyday
rake leaguer:registrations:send_payment_reminder //everyday at '5:00pm'
rake leaguer:events:all_day_event_reminder //everyday at '7:15pm'
rake leaguer:pages:auto_archive // every hour



#211: Team Admin - League Summary - Set rankings doesn't work

Hi Carmen,

We fixed the issue and pushed the changes to aws staging server.

Here is the video showing the process of unit testing we followed,
http://screencast.com/t/viwbrinICzFN

Please verify and let us know your feedback.


Best,
Amit






202
166

http://screencast.com/t/viwbrinICzFN

http://screencast.com/t/viwbrinICzFN


variable 
	local vs instance	
conditional statement
function


500
10

DT: June 8, 2015
=================
Team Admin - League Summary - Set rankings doesn't work 


0 * * * *

207	Site Builder - Edit Product Category: Inherited content widgets all move to a different layout area after edit 
208	Site Builder - Copy page gives an error 
205	Site Builder - Short Cut - View live page: Viewing the shortcut doesn't work on leaguerdemo.com 


213	Team Administration - League Summary - Add roster members to group 

Hi Carmen,

We fixed the adding of roster members to group and pushed the changes to aws staging server.

Here is the video showing the process of unit testing we followed,
http://screencast.com/t/Enqka0Oand4G

Please verify and let us know your feedback.

Best,
Amit


204	Text Messsages - Leaguer demo not sending text messages 

#207: Site Builder - Edit Product Category: Inherited content widgets all move to a different layout area after edit
http://screencast.com/t/uo3YjXM5ZCM



Hi Carmen,

We fixed the copy page issue and pushed the changes to aws staging server.

Here is the video showing the process of unit testing we followed,
http://screencast.com/t/8nbWIk4sTOa

Please verify and let us know your feedback.

Best,
Amit

#208: Site Builder - Copy page gives an error
http://screencast.com/t/8nbWIk4sTOa

#205	Site Builder - Short Cut - View live page: Viewing the shortcut doesn't work on leaguerdemo.com						


These two bugs are fixed

Copy Page
-------
Hi Carmen,

We have resolved the issue in leaguerdemo. Attached the screenshot for the steps we have followed for unit testing.

Best,
Anurag

[#<SmsProfile id: 1208, person_id: 1, number: "9177149088", carrier: "at&t", created_at: "2013-02-18 17:46:49", updated_at: "2013-02-18 17:46:49">, #<SmsProfile id: 1205, person_id: 36349, number: "9176692690", carrier: "t-mobile", created_at: "2013-01-14 17:54:58", updated_at: "2013-01-14 17:54:58">, #<SmsProfile id: 1210, person_id: 39827, number: "6096945534", carrier: "verizon", created_at: "2014-05-30 16:07:15", updated_at: "2014-05-30 16:07:15">, #<SmsProfile id: 741, person_id: 22485, number: "5617040082", carrier: "at&t", created_at: "2012-05-02 20:28:01", updated_at: "2012-05-02 20:28:01">]

USYS Demo Site
at&t
9177149088

DT: June 9, 2015
=================
196	Home page reloading everytime carousel rotates						




2
3
4
5
--------send_news_sms-----true---------at---2015-06-09 06:05:33 +0000-----------
USYS Demo Site
t-mobile
9177149088

--------send_news_sms-----false---------at---2015-06-09 06:08:03 +0000-----------
USYS Demo Site
9176692690
t-mobile
execution expired

--------send_news_sms-----true---------at---2015-06-09 06:10:03 +0000-----------
USYS Demo Site
verizon
6096945534

--------send_news_sms-----true---------at---2015-06-09 06:12:03 +0000-----------
USYS Demo Site
at&t
5617040082

SMS is being sent to this number
USYS Demo Site
verizon
6096945534


9177149088




9177149088
t-mobile

https://developers.google.com/youtube/youtube-api-list


#196: Home page reloading everytime carousel rotates

Hi Carmen,

We found that same issue also exist in sordemo.

Here is the video showing the existing issue in sordemo,
http://screencast.com/t/kAkgfagFUe2


Best,
Amit

#210: (AFTER EVERYTHING LOOKS GOOD) - YouTube integration needs be fixed



#219: Create Activity - Waitlist fee: Watilist information doesn't save no create

220	Registrations - Pending Invitations - Resend invitations don't send

In the pending invitations section, I tried re-sending an invitation, but it never sent.

224

I have fixed the 
product options bug
#224: Site Builder - Picture widget: Drag and drop to re-order items throws error after adding a new item
http://screencast.com/t/FmqTyKMo5g

Plz verify

#203: Site Builder - Create Activity: Get an error when trying to create an activity from site builder
 is also fixed.
But we will update it tomorrow

14300
 4100


DT: June 10, 2015
==================
Assignment:
1. Remove empty string from array
	EX: ["aa","123","","","wer"] => ["aa","123","wer"]
2. Collect highest and lowest number from array
	EX: [1,2,4,5] => lowest 1, highest 5
	EX: ["aa","aaa","aaaa"] => aa, aaaa
3. Print array size
	EX: ["a","2"] => 2
4. Print array from reverse
    EX: ["a","2"] => ["2","a"]
5. Input number of integers and remove the numbers from array if greater that 5
	EX: [10,2,5,8,3,8] => [2,3]
6. Input the 5 number of strings >> convert it to array >> ask for again string >> check if it is present inside array 
	EX: aa,bb,bbb,ccd,ddc => array => bb => yes it is present unless not present
7. Input string as name >> remove the first and last item form the list and display
	EX: Amit => mi

	
KRS
====
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog box close						
205	Site Builder - Short Cut - View live page: Viewing the shortcut doesn't work on leaguerdemo.com 
206	Photo Selector Dialog Box - Insert Image - JS Debug code needs to be removed 

209	Sitebuilder - Upload photos doesn't work 

221	Newsfeed Widget - Not able to drag a newsfeed widget onto the page 
222	Widgets - Slide Show - Edit slide show item throws an error 
223	SIte Builer - PIcture Widget - can't edit the image caption and title 
224	Site Builder - Picture widget: Drag and drop to re-order items throws error after adding a new item 
226	Newsfeeds - Keywords: When selecting a keyword in a news feed the news is not filtered by that key word 

228	Product Listing widget - View more link doesn't work 
229	Site Builder - Product Category Listing Widget: Selecting a category doesn't save 


217	Widgets - Custom Form Widget - FieldWithErrors class being added all the time even when no error 


231	Site builder - schedule widget - settings: table view radio button and number of games 


236	Order Details - Send payment request - Additional emails: Additional email didn't receive notification 
230	Schedule Widget - Event Name: Showing html markup & need to merge updates 

ANM
====
218	Waitlist - Extend invitation - Custom text in the invitation is showing html tags & time JS issue

212	Styling - I think we need to merge in the administration.scss file 
198	Create a new site doesn't work						

184	Activity Managment - Create/Edit: TinyMCE not working 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit 
58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 	

AMT
====
227	Team administration - View Team - Assign unassigned players to team. Throws error						

Hi Carmen,

We fixed the routing issue when assigning unassigned players to a team from the team details page and pushed the changes to aws staging server.

Here is the video showing the process of unit testing we followed during unit testing,
http://screencast.com/t/tEP0zN3zSk

Please verify and let us know your feedback

Best,
Amit
	
236	Order Details - Send payment request - Additional emails: Additional email didn't receive notification 
	

Hi Carmen,

We fixed the drag a news feed widget issue onto a page and pushed the changes to aws staging server.

Here is the video showing the steps we followed during unit testing,
http://screencast.com/t/bC5CiLMtvifH

Best,
Amit
	
	
	
Pending work of tomorrow going to be delivered
224 DONE
177
203

Tomorrow's accomplishments going to be delivered
206
209


Madam, these are the cases we need to deliver today...
	

223

Assignments
=============
1. User input comma separated for array 3 elements => 2 times
   Find matching and non-matching items in both array
   EX: 1,2,3
	   4,5,1

2. Combine both arrays and remove duplicate values


http://screencast.com/t/bC5CiLMtvifH
221	Newsfeed Widget - Not able to drag a newsfeed widget onto the page



After adding slide_show widget, and refreshing a page, we are unable to add new widgets. We are looking into this probem

DT: June 11, 2015
==================
The OS#177 (Product Administration - Edit - Add Option: Creating a new option makes the product dialog bo close) is fixed. Here is the screencast.

http://screencast.com/t/4mfcQ5qV

We fixed the slide_show widget issue. Now we can add other widgets after adding slide_show.


Pending work of tomorrow going to be delivered
224 DONE
177
203

Tomorrow's accomplishments going to be delivered
206
209


Madam, these are the cases we need to deliver today...



177
231

Hi Carmen,

We fixed the issues and pushed the changes to aws staging server.

Here is the video showing the steps we followed during unit testing,
http://screencast.com/t/Zp3Ti69Y

Best,
Amit

#222: Widgets - Slide Show - Edit slide show item throws an error

http://screencast.com/t/chVa3Tdd






http://screencast.com/t/Zp3Ti69Y

both the issues fixed
os#222

This is already fixed

But a new bug, which is not mentioned in the post is
slideshow is not working in "live page"


Widgets - Slide Show - View Live Page - Autoscroll effect is not working 

If we check "Autoscroll", then it is no reflecting in live page



h = {"colors"  => ["red", "blue", "green"],
     "letters" => ["a", "b", "c" ]}
	 
	 
1. Generate two hashes 
	>> "colors"  => ["red", "blue", "green"]
	>> "letters" => ["a", "b", "c"]
	 
2. Print both the hashes
	>> colors is "red", "blue", "green"
	>> letters is "a", "b", "c"

3. Remove first and last item from that hash
4. user input for key, value 2 times
	>> Generate it
	>> Ask for key and display the value
	
5. user input for key
	>> check if key present or not

6. user input for value
	>> check if value present or not
	
7. Replace the hash key and values
	EX: { "a" => 1, "b" => 2}
		{ "1" => a, "2" => b}
		
8. Generate two hash
	h1 = { "a" => 100, "b" => 200 }
	h2 = { "b" => 254, "c" => 300 }
	>> merge h2 with h1
	>> merge h1 with h2
	
	
	
-------------------->init_globals <--------------------
{"_csrf_token"=>"UPXv5/Nldx+QoVYbJ7oyU1YtP9dLfZCS8S6jhrt8S2c=", "user"=>#<PasswordUser id: 1, person
_id: 1, password: "854558fc4c29edc0dcd6963e41dd2736d2fe58ea", salt: "bd0832df5546e84363fcc1fe6eed168
a34455e67", is_active: true, activation_code: nil, remember_token: nil, remember_token_expires: nil,
 recognition_token: "4e68b0519643f417b03176caed9c98aefc9b1aea", type: "PasswordUser", is_temp_passwo
rd: false, created_at: "2010-03-29 00:00:00", updated_at: "2015-06-11 06:39:25", hide_mobile_not_con
figured: false, deleted_at: nil, fb_user_id: nil, fb_access_token: nil, fb_access_token_expires: nil
, fb_first_name: nil, fb_last_name: nil, fb_email: nil>}
#<PasswordUser id: 1, person_id: 1, password: "854558fc4c29edc0dcd6963e41dd2736d2fe58ea", salt: "bd0
832df5546e84363fcc1fe6eed168a34455e67", is_active: true, activation_code: nil, remember_token: nil,
remember_token_expires: nil, recognition_token: "4e68b0519643f417b03176caed9c98aefc9b1aea", type: "P
asswordUser", is_temp_password: false, created_at: "2010-03-29 00:00:00", updated_at: "2015-06-11 06
:39:25", hide_mobile_not_configured: false, deleted_at: nil, fb_user_id: nil, fb_access_token: nil,
fb_access_token_expires: nil, fb_first_name: nil, fb_last_name: nil, fb_email: nil>
-----------------------------login_required


@user = User.find(:first,:conditions=>['id=?',session['user'].id])

#229: Site Builder - Product Category Listing Widget: Selecting a category doesn't save


When selecting table view, it changes the view to table view, but the next time you edit the widget, the radio button isn't selected.

More importantly, though, The number of games to show setting isn't working.  Hopefully, that's an easy fix

Hi Carmen,

we fixed table view selecting and number of games to show setting issue in aws staging server.

Here is the video showing the steps we followed during unit testing,
http://screencast.com/t/oQ7Z4CGHbH25

Note:
More importantly, though, The number of games to show setting isn't working.  Hopefully, that's an easy fix (Issue is present in sordemo)


Best,
Amit

DT: June 12, 2015
==================
177

217
226
228
230

Assignments

1. Factorial of a number
	>> ruby fact.rb 213
2. Print even numbers between 1 to 10
3. Print odd numbers between 1 to 10
4. Print the numbers divisible by 5 between 10 - 20
5. Fibonacii series within range(user input)
	>> ruby fibonacii.rb 100
6. Interest Calculator
	>> Ask for user input
		salary
		loan amount (EX: 20,00,000)
	>> 10000 => 7%
	>> 10001 - 20000 => 9.2%
	>> 
	EX:
	loan = Loan.new salary, loan_amount
	loan.calcualte_interest # 



239	Automated Payment Plans - Time zone issue when payment is due the next day
240	Order Admin - Order Details - Add Item to order - Admins should be able to add registrations that are no longer on sale 
241: Order Admin - Order Details - Switch Registration link not on the line item

2015 Spring Co-ed League

today = Time.zone.today
Time.zone.now.to_date

time_zone


Time.zone.now.to_date



app\views\administration\orders\_order_item.html.erb
app\views\orders\shared\_item.html.erb

239	Automated Payment Plans - Time zone issue when payment is due the next day 



#217: Widgets - Custom Form Widget - FieldWithErrors class being added all the time even when no error
	Fixed the custom form submit 


201

Hi Carmen,

We fixed fieldWithErrors class added issue to the text area fields when the form is loaded and pushed the changes to aws staging server. We fixed some stuffs while submitting the form as well.

Here is the video showing the steps we followed during unit testing,
http://screencast.com/t/GO8z7ORU4Pt


Best,
Amit

I registered a team and added some additional email addresses of mine as people on the roster, but I didn't receive the email notifications after the order was placed .



#226: Newsfeeds - Keywords: When selecting a keyword in a news feed the news is not filtered by that key word

Plz also check the news_feed widget and news_feed_items in other widgets


When posting news, you can "Tag" it with certain key words, so that only newsfeeds that subscribe to those keywords will display the news.  
Right now it looks like all news feeds are pulling in all news, instead of only the news of the selected keywords.

Note:  If no keywords are selected in the settings, then the newsfeed should pull in ALL the news posts regardless of the keywords associated with the news


Hi Carmen,

We fixed the news filtering issue and pushed the changes to aws staging server.

Here is the video showing the steps we followed during unit testing,
http://screencast.com/t/B5B3ypo2s0

Best,
Amit


Shaswat

http://guides.rubyonrails.org/v3.2.21/



OOPS concept
Ruby Hashes
Ruby Iterators
Ruby File I/O
Study of MySQL queries



User input :
	Please enter 5 strings
		1, 2, 3 , 4 ,5
	>> convert it to array and display
		Output: array is [.........]
>> Remove empty string from array
	Please enter 5 strings
		1
		2
		
		3
		4
	>> convert it to array and display
	
>> Collect highest and lowest number from array
	1 , 2 , 3 , 4 ,5 => digit 
	a, bb, lll, pspps => alphabet 
>> Print array size
	dsad,sa,d,sad,sad,sa,d,sad
>> Print array from reverse
	ddd,fdsf,dsfdsf,dsf

>> Input number of integers and remove the numbers from array if greater that 5
	1 , 5, 25 , 78 , 25
	>> convert it to array and display

>> Interest Calculator	
	>> 10000 => 7%
	>> 10001 - 20000 => 9.2%
	>> 
	
$> ruby filename.rb 15000, 2000000

	
==========================================================================================================================
>> Input the 5 number of strings >> convert it to array >> ask for again string >> check if it is present inside array
	EX: 1, 2 , 3
		Please enter item again to check 
>> Input string as name >> remove the first and last item form the list and display
	EX: xyz 

>> User input comma separated for array 3 elements => 2 times and find matching and non-matching items in both array
	EX: Please input first array elements
		4, 5 , 8
		Please enter second array elements
		8, p, fcgdxcfvg
>> Combine both arrays and remove duplicate values
	
>> Generate two hashes :  "colors"  => ["red", "blue", "green"] and "letters" => ["a", "b", "c"]
	Print both the hashes
	Remove first and last item from that hash
User input for key & value 2 times >> Generate the hash >> Ask for key and display the value
	User input for key >> Check if key present or not
	User input for value >> Check if value present or not
	EX: Please enter key value of 1st hash
		color, blue
		item, car
	>> User input for key
	
>> Replace the hash key and values (reverse keys with values)

>> Generate two hash : h1 = { "a" => 100, "b" => 200 } & h2 = { "b" => 254, "c" => 300 } >> Merge h2 with h1 >> Merge h1 with h2





1. Factorial of a number
	>> ruby fact.rb 213
2. Print even numbers between 1 to 10
3. Print odd numbers between 1 to 10
4. Print the numbers divisible by 5 between 10 - 20
5. Fibonacii series within range(user input)
	>> ruby fibonacii.rb 100
6. Interest Calculator
	>> Ask for user input
		salary
		loan amount (EX: 20,00,000)
	>> 10000 => 7%
	>> 10001 - 20000 => 9.2%
	>> 
	EX:
	loan = Loan.new salary, loan_amount
	loan.calcualte_interest # 



amit.mohanty@andolasoft.co.in
anurag.pattnaik@andolasoft.com


DT: June 18, 2015
==================
Find occurrence of items in array
	[1,1,,13,1,8,17]
		occurrence of 1 is 3
		occurrence of 13 is 1....etc
		
Leaguer discussion
 - Code merge Production >> Andola-leaguer branch
 - Environment setup on Rackspace
 - Server monitoring tool
 - Running the Rails 3 code with sordemo db
 - Migrating files & images to CDN

 

 
 
Generate two hashes :  "colors"  => ["red", "blue", "green"] and "letters" => ["a", "b", "c"]. Remove first and last item from that hash 


RVM => Ruby Version Manager
	1.8.X
	1.9.2
	2.0.0
	2.1.0
GEMSET
rvm gemset use "gemset name"
rvm --version
rvm list

rails 2.X
rails 3.X
rails 4.X

How to switch ruby versions through rvm 
What is GEM
Benefits of rails
Install rails gem with version 3.2.19
 rails -v
Create a new rails project with mysql as db



Employee login
	Manage videos
Admin Login
	Manage Users
	Manage videos
Ads management (Google Ad-sense/own)
	Refinery CMS
Favorite
Like
Report a video
upload videos 
show videos
search videos
share video (FB/TW)
Google analytics integration


Amazon ec2 production server setup				
Amazon ec2 staging server setup				
Testing on the browser IE 9, 10, Mozila firefox, Chrome, Safari				


"Testing on the browser 10,11, Mozila firefox, Chrome, Safari
(*** Only HTML 5 supported browsers only )"				




18000 - 22000

8-10 weeks

40

160


320

640





218	Waitlist - Extend invitation - Custom text in the invitation is showing html tags & time JS issue						


app/structs/team_assignments_email_job.rb


			

Order Detail Page (with ability to pay outstanding balance)

Take of all possible validations

Rails Application
	Rails 3.2.19
	Ruby 2.1.2

Twitter Bootstrap integration	
Devise integration
	One time Admin setup through rake task
		username and password
Login username and password
Admin Dashboard
	Upload photo/video
	All video
	Delete (only visible to admin)
	Checkbox to display if user can delete his photo/video
	After success checkbox will be read only
User listing page (only visible to admin only)
	datatable integration with server side processing(10 records on a page)
	block/unblock through ajax(icon change on demand)
	If admin blocks(user wont be able to login)
User Dashboard
	Upload photo/video
	Photo/video Listing page (specific to user)
	No delete option (if admin permits)
Media detail page
	streaming of video 
	fancybox for images



242


250	League Summary - Team Assignment Notification - notification doesn't get sent



Take of all possible validations

Rails Application
	Rails 3.2.19
	Ruby 2.1.2

Twitter Bootstrap integration	-	15 mins
Devise integration  -  30 mins
	One time Admin setup through rake task
		username and password
Login username and password
Admin Dashboard	- 30 min
	Upload photo/video	-	2 hrs
	All video	-	30 mins
	Delete (only visible to admin)
	Checkbox to display if user can delete his photo/video	-	1 hr
	After success checkbox will be read only	1 hr
User listing page (only visible to admin only)
	datatable integration with server side processing(10 records on a page)	2 hrs
	block/unblock through ajax(icon change on demand)	2 hrs
	If admin blocks(user wont be able to login)	1 hr
User Dashboard
	Upload photo/video	-	1 hr
	Photo/video Listing page (specific to user)	-	1 hr
	No delete option (if admin permits)
Media detail page
	streaming of video 	-	2	hrs
	fancybox for images	-	1 hr



250	League Summary - Team Assignment Notification - notification doesn't get sent 


#230: Schedule Widget - Event Name: Showing html markup & need to merge updates


DT: June 17, 2015
======================
Doubts
------
Model - I/O operation
ActiveRecord
	>> Association support
	
	>> validation (builtin validation or custom validation)
		Inherits class ActiveRecord::Base
		validates_presence_of :name, :email
	Class User < ActiveRecord::Base
		validates_presence_of :name, :email
		
		name
		email
		address
		pincode
		mobile
	
	user = User.new
	#user.name = "test"
	user.save
		Error: Name cannot be blank

	>> Migration
		> db/migrate/
		
		
>> rails g model User name:string email:string address:text
   rake db:migrate

>> entry version number of migration file in "schema_migrations" table

Single migration
rake db:migrate:up VERSION=
rake db:migrate:down VERSION=
   
Builtin testing
Environments






244	Schedule Page - Event name showing html markup & another merge of code 

245	Edit Activity - Add registration option - additional payment options 
246	Waitlist - Extend invitation - Email not sent when an expiration date is entered 
247	Team Administration - Generate team page - Widgets aren't being set to team specific information 

248	Game Reminders - Not receiving reminders via text message 
249	Schedule Admin - Reschedule Game - Didn't receive email or text message 


205	Site Builder - Short Cut - View live page: Viewing the shortcut doesn't work on leaguerdemo.com						




#245: Edit Activity - Add registration option - additional payment options


The page you requested requires you to be logged in. Please either login or create an account to proceed.


Hi Carmen,

We fixed the shortcut issue and pushed the changes to aws staging server.

Here is the video showing the process we followed during unit testing,
http://screencast.com/t/qkQweDnbqmY (shortcut to external link)
http://screencast.com/t/KwkEXKsGxPd (shortcut to internal page)

Please verify and let us know your feedback.

Best,
Amit





visibility

Class A

	def method1
		puts "---------------------------instance method"
	end

	def self.method2
		puts "---------------------------class method"
	end

end

obj = A.new
obj.method1
Output: "---------------------------instance method"

obj.method2
Output: "No method error method2"

A.method1

https://github.com/preston/sms-easy



DT: June 18, 2015
=======================

KRS
---

203	Site Builder - Create Activity: Get an error when trying to create an activity from site builder						
247	Team Administration - Generate team page - Widgets aren't being set to team specific information						
240	Order Admin - Order Details - Add Item to order - Admins should be able to add registrations that are no longer on sale						
112	Order Administration - Orders Area: Ready to test (ANM/KRS)


Sir,
Today's Task List
------------------
Upload photo/video in admin dash board -  1 hr
Display all images and implement delete option only visible to admin  -  1
Checkbox to display if user can delete his photo  -  1
datatable integration with server side processing for user listing page  - 2hrs
block/unblock user through ajax call  -  1 hr
Upload photo in user dash board and display in listing page  -  1 hr
fancybox for implementation for images  -  2 hrs
Implement streaming of video -  1 hr


9177149088 T-Mobile

Search - 15min
Code - 3min
Run the code - 5min
 

#204: Text Messsages - Leaguer demo not sending text messages 
#248: Game Reminders - Not receiving reminders via text message



--------send_news_sms-----true---------at---2015-06-18 07:29:56 +0000-----------
USYS Demo Site
at&t
5617040082
------------------------end------------------------



Rackspace environment setup



new => get
create => post
edit => put
update => post
destroy => post

==============================

new => get
create => post
edit => put          get
update => post       put
destroy => post      delete




Please find the update on the AWS setup as follows


AWS Instance setup with t2.medium with out reserve - Done
Setting up of the app environment - Done
Setting up of MySQL database - Done
Setting up of Apache & Passenger - Done
Cloning of application into aws instance - Done
Running of the app with 80 port through Apache & Passenger - Done
Associating of a elastic IP address - Done

Here is the IP Address to the app - 54.88.138.116

Continue working on the setting up of Jenkins.



Rackspace Instance setup with standard - Done
Setting up of the app environment - Done
Rackspace DB instance creation - Done
Setting up of Apache & Passenger - Done
Cloning of application into Rackspace instance - Done
Running of the app with 80 port through Apache & Passenger - Done

Rackspace Instance type: Next Generation Server
Flavor: 2GB standard instance

Here is the IP Address to the app - http://162.209.4.99/

User: root
Password: C6scz7Ak6poD

leaguer123

Blog topic
------------
What are the security parameters for your Rails app?

Blog format
What is the functionality? Small information
How it can be benefited? Small information
How to use it? Add code snippet
Verdict/Conclusion

Why Ruby is getting popular than other languages?
What are new implementations in Rails 4?
Which web server is best for your Rails app? Apache vs Nginx
What is Rack based server in Rails?
What is Testing & How it is built in integrated with Rails?
Unit test, Functional test & Integration test
How to select best performing database for your Rails app from the beginning?
What are the security parameters for your Rails app?

What is Active Job in rails4?


204	Text Messsages - Leaguer demo not sending text messages 


DT:June 19, 2015
=================

OS posting on rackspace
Payment issue after code merge


carmen@leaguer.org

	 
Rackspace environment setup
 
Hi Carmen, 
 
Please find the update on the Rackspace setup as follows

Rackspace Instance setup with standard - Done
Setting up of the app environment - Done
Rackspace DB instance creation - Done
Setting up of Apache & Passenger - Done
Cloning of application into Rackspace instance - Done
Running of the app with 80 port through Apache & Passenger - Done

Rackspace Instance type: Next Generation Server
Flavor: 2GB standard instance

Here is the IP Address to the app - http://162.209.4.99/

Note: We sent you the ssh credentials in onetimesecret


Best,
Amit


User: root
Password: C6scz7Ak6poD
162.209.4.99 application server

C6scz7Ak6poD

162.209.1.20 jenkins server

zdbWjxMUv7hr


There was an error processing your payment. You can attept to pay again at the bottom of this page. 
Please make sure the address information is correct on the credit card. 
You may need to delete the credit card and re-add it to correct any address errors
Error Message: this account is no longer able to transact (Error Code: 3004)



Sir.
  Today's Task list
  -----------------
  Create an application and create gemset - 20 min
  Design the home page  - 1 hr

  Implementation of sign up and verification
    Design sign up page - 1 hr
    Migrate required attributes to user table - .5 hr
    Encrypt password with MD5 Hash  - .5
    Implement email, password (valid password, length) validation - .5 hr
    Implement Email uniqness and blank field validation - .5 hr
    Save sign up form information to database - .5 hr
    Generate a link for verification  - .5 hr
    Send that link in email for user verification - .5 hr
    After verification login the user - 1 hr
------------------------------------------------------------------------
  Implementation of forgot password
    Check for email is present  - 0.5 hr
    If email is present Create a token with encryption  - .5 hr
    Sent a link in email of the user with token name  - .5 hr
    After clicking show forgot password page with new password and confirm password - 1.5hr

======================================================================================================
  Create an album model
    Implement create, edit, update, delete
    Album listing in datatable with Album name, image, edit, delete
  Integrate fancy box in album listing page


  
  
  
Hi Carmen,
  
Code merging seems to be correct. We cleared the payment settings for wepay from administration area.Then added new credit card and tried the same functionality. It worked successfully.
  
Here is the video showing the process we followed during unit testing,
http://screencast.com/t/ma2Jgw67Gff3

Best,
Amit
  

I'm not able to make a payment now.   It looks like the code merge broke something.
http://screencast.com/t/EPhCgL4R
  
  
  

  
5293
3200
8493
 - 400
8471.79




sms_fu.deliver("9177149088","t-mobile","USYS Demo Site")


--------send_news_sms-----true---------at---2015-06-09 06:05:33 +0000-----------
USYS Demo Site
t-mobile
9177149088

--------send_news_sms-----false---------at---2015-06-09 06:08:03 +0000-----------
USYS Demo Site
9176692690
t-mobile
execution expired

--------send_news_sms-----true---------at---2015-06-09 06:10:03 +0000-----------
USYS Demo Site
verizon
6096945534

--------send_news_sms-----true---------at---2015-06-09 06:12:03 +0000-----------
USYS Demo Site
at&t
5617040082



<%= form_for @user, "", :html => {method: :put} %>

<%=form_for %>


can you create a special user on that server for me with login carmen and pw: leaguer123

right.  I should be able to use sudo to do what root would do






http://screencast.com/t/GKsOrbgh

In the "demo template page" we have set the team page to "Summer Tryout Football 2015" just for verifying the data.
But this template works fine for other teams too



Hi Carmen,

We fixed the issues and pushed the changes to aws staging server.

Here is the video showing the steps we followed during unit testing,
http://screencast.com/t/GKsOrbgh

Note:
In the "demo template page" we have set the team page to "Summer Tryout Football 2015" just for verifying the data.
But this template works fine for other teams too

Best,
Amit

DT: June 22, 2015
==================
Jenkin Setup 
Crontab in both server
redis + crontab + Jenkin


203	Site Builder - Create Activity: Get an error when trying to create an activity from site builder									
					
281	Widgets - Schedule & Event List - changing settings isn't working 						
273	Order Administration - Filter by Date: Get a "No implicit conversion of fixnum into string" error						

112	Order Administration - Orders Area: Ready to test (ANM/KRS)
240	Order Admin - Order Details - Add Item to order - Admins should be able to add registrations that are no longer on sale	




Page.find params[:id]
Page.where :id=>params[:id]
Page.where("id = ?", params[:id])
Page.find_by_sql("select * form pages where id= #{params[:id]}")

SELECT `pages`.* FROM `pages` WHERE `pages`.`id` = 4161 LIMIT 1[0m


{order: [:id=>dd, :name]}


Getting started with rails  -  1
Active record basics  -  1 hr
Active record validation  -  2 hrs
Active record callback  -  2 hrs


June 13
-------
4975

AMT 1860
AMR 1795
SDP 1320

June 14
-------
6565

AMT 1550
AMR 2095
SDP 2920

June 15
-------
951

AMT 510
AMR 381
SDP 60

Total: 12491/3 = 4163

AMT 3920 => 243
AMR 4271 => -108
SDP 4300 => -137



http://screencast.com/t/NbJgvF4NnBO



Hi Carmen,

We fixed the filtering issue and pushed the changes to aws staging server.
Please verify and let us know your feedback.

Best,
Amit



Getting started - 1 hr
Active record basics - 0.5 hr
Active record migration - 45 min
Active record validation - 1.5 hr
Active record callbacks - 1 hr
Active record Association - 2 hr
Active record querying - 1.5 hr
---------------------------------------
Layouts and Rendering in Rails  -  1 hr
Action View Form Helpers  -  1  hr
Action Controller Overview  -  2 hr
Rails Routing from the Outside In  -  2 hr

DT: June 23, 2015
====================


KRS
====
203	Site Builder - Create Activity: Get an error when trying to create an activity from site builder
240	Order Admin - Order Details - Add Item to order - Admins should be able to add registrations that are no longer on sale	
	http://screencast.com/t/3skg11ampH

Hi Carmen,

We fixed the add product to an order issue and pushed the changes to aws staging server.

Here is the video showing the process we followed during unit testing,
http://screencast.com/t/3skg11ampH

Please verify and let us know your feedback.

Best,
Amit
	



184	Activity Managment - Create/Edit: TinyMCE not working						
193	Activity Administration - Loading the activity page is taking a long time - Probably due to tinyMCE 						
58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 						

ANM
====
244	Schedule Page - Event name showing html markup & another merge of code						
246	Waitlist - Extend invitation - Email not sent when an expiration date is entered						


KRS/ANM
========
112	Order Administration - Orders Area: Ready to test (ANM/KRS)


Active record association - 1 hr
Active records querying - 1 hrs
Rails form helpers - .5 hr
Layouts and rendering rails - .5 hr
Rails controller overview - 1 hrs
Rails command line tools and rake task - .5 hrs
4
+
2


4
================
5


0 * * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake paypal:ap:update_initiated RAILS_ENV=staging >> /var/log/paypal.log 2>&1'
0 * * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake paypal:ap:clear_abandoned_pay_items RAILS_ENV=staging >> /var/log/paypalclear.log 2>&1'
0 0 * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake leaguer:events:clear_import_files RAILS_ENV=staging >> /var/log/clear_import_files.log 2>&1'

0 0 * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake tmp:cache:clear RAILS_ENV=staging   >> /var/log/cron_log.log 2>&1'

0 0 * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 &&  bundle exec rake guest_users:purge_stale RAILS_ENV=staging >> /var/log/purge_stale.log 2>&1'

0 17 * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake leaguer:registrations:send_payment_reminder RAILS_ENV=staging >> /var/log/send_payment_reminder.log 2>&1'

15 19 * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake leaguer:events:all_day_event_reminder RAILS_ENV=staging >> /var/log/all_day_event_reminder.log 2>&1'

0,30 * * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 &&  bundle exec rake leaguer:events:remind RAILS_ENV=staging >> /var/log/events_remind.log 2>&1'

0,30 * * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake leaguer:waitlist:update_expired_waitlist RAILS_ENV=staging  >> /var/log/update_expired_waitlist.log 2>&1'

0 * * * * /bin/bash -l -c 'cd /var/SportsOnRails/lib/tasks/ && source /etc/profile.d/rvm.sh && rvm use ruby-2.1.5@leguer215 && bundle exec rake leaguer:pages:auto_archive RAILS_ENV=staging >> /var/log/auto_archive.log 2>&1'



DT: June 24, 2015
====================
Run in production
SMS issue - DONE
Blog content update - DONE
Upgrade ruby version to fix timeout issue
Prepare checklist
Changes needed to move files to cdn 
Check redis 


283	Tabbed Text and Image (TTI) Carousel widget isn't diplaying correctly on the home page 

AMT
188	Missing Template Error - U5 Schedule page on soccer.sordemo.com 



whenever --clear-crontab SportsOnRails --set environment='staging'
whenever --update-crontab SportsOnRails --set environment='staging'


redis + crontab + jenkin
Appilication server


1.
Create an application to choose different layout according to action
====header

		Action1     Action2 	Action3

====footer

2. 
create an application
	> Design header and footer
		>> header and footer separate partial files
	User model and User controller
		>> signup form (/users/signup)
			Attribute
				1. username
				2. email
				3. password (must be atleast 6alphanumeric)
				4. confirm password
		>> Send an email to user that account is activated (ActionaMailer) (SMTP + GMAIL)
		>> login form (users/login)
			>> Email id and password
		>> User will be redirected to Dashboard



ANM
---------
263	Merge/add code for register now drop down button (Big change) 
275	Merge changes - admin layout & mods for TinyMCE Urls 
259	Merge Layout rendering for accoutns and registration layouts 
260	Merge code organization.rb for generating a new site 
251	Content_for" question for orders/shared/_item.html.erb 
246	Waitlist - Extend invitation - Email not sent when an expiration date is entered 
198	Create a new site doesn't work 
201	Registration - Team invitation notifications not received
165	TinyMCE - Custom Link and Photo Selector 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit
89	Admin Settings - Sports/Categories: Minor JS issue (Super Low Priority - Don't fix until after we're done with everything else) 

AMT
---
64	Admiistration - Settings - Administrators: Add administrator, delete and toggle notifications AMT
204	Text Messsages - Leaguer demo not sending text messages AMT
249	Schedule Admin - Reschedule Game - Didn't receive email or text message AMT
188	Missing Template Error - U5 Schedule page on soccer.sordemo.com AMT
239	Automated Payment Plans - Time zone issue when payment is due the next day AMT
107	Schedules Administration - Hover over results to delete results - video needed  AMT

KRS
---
58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 
193	Activity Administration - Loading the activity page is taking a long time - Probably due to tinyMCE
184	Activity Managment - Create/Edit: TinyMCE not working
281	Widgets - Schedule & Event List - changing settings isn't working 
283	Tabbed Text and Image (TTI) Carousel widget isn't diplaying correctly on the home page 
203	Site Builder - Create Activity: Get an error when trying to create an activity from site builder
112	Order Administration - Orders Area: Ready to test	
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog bo close 

DT: June 25, 2015
=================



ANM
---------
263	Merge/add code for register now drop down button (Big change) DONE
259	Merge Layout rendering for accoutns and registration layouts DONE
246	Waitlist - Extend invitation - Email not sent when an expiration date is entered  DONE
89	Admin Settings - Sports/Categories: Minor JS issue (Super Low Priority - Don't fix until after we're done with everything else)  DONE
260	Merge code organization.rb for generating a new site DONE
275	Merge changes - admin layout & mods for TinyMCE Urls DONE


251	Content_for" question for orders/shared/_item.html.erb 
198	Create a new site doesn't work 
201	Registration - Team invitation notifications not received
165	TinyMCE - Custom Link and Photo Selector 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit


AMT
---
64	Admiistration - Settings - Administrators: Add administrator, delete and toggle notifications AMT
204	Text Messsages - Leaguer demo not sending text messages AMT
249	Schedule Admin - Reschedule Game - Didn't receive email or text message AMT
188	Missing Template Error - U5 Schedule page on soccer.sordemo.com AMT
239	Automated Payment Plans - Time zone issue when payment is due the next day AMT
107	Schedules Administration - Hover over results to delete results - video needed  AMT

KRS
---
58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 
193	Activity Administration - Loading the activity page is taking a long time - Probably due to tinyMCE
184	Activity Managment - Create/Edit: TinyMCE not working
281	Widgets - Schedule & Event List - changing settings isn't working 
283	Tabbed Text and Image (TTI) Carousel widget isn't diplaying correctly on the home page 
203	Site Builder - Create Activity: Get an error when trying to create an activity from site builder
112	Order Administration - Orders Area: Ready to test	
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog bo close 



User: root
Password: C6scz7Ak6poD
162.209.4.99 application server

C6scz7Ak6poD

162.209.1.20 jenkins server

zdbWjxMUv7hr


cd /var/www/html/leaguer/current


Capistrano deployment:
=====================================
mkdir -p config/deploy
create config/deploy.rb
create config/deploy/staging.rb
create config/deploy/production.rb
mkdir -p lib/capistrano/tasks
create Capfile
Capified

172.31.60.128

BUG [1fdd153a] Running /usr/bin/env [ -d ~/.rvm ] as root@54.88.138.116
BUG [1fdd153a] Command: [ -d ~/.rvm ]
p aborted!

Running /usr/local/rvm/bin/rvm current

cap staging deploy:check

cap deploy:setup

http://kris.me.uk/2010/08/30/rails3-hosting-all-in-one.html
http://www.sitepoint.com/deploy-rails-capistrano-3/




"cap staging -S branch=andola-leaguer"

cap deploy staging branch=andola-leaguer
bundle install --deployment


RAILS_ENV=staging bundle install --deployment --quiet --without development test


whenever --clear-crontab SportsOnRails --set environment='staging'
whenever --update-crontab SportsOnRails --set environment='staging'


bundle install --without nothing

http://stackoverflow.com/questions/7290465/capistrano-and-bundler-problem-bundle-not-found


DT: June 26, 2015
=========================
Leaguer Jenkins Credential

Username : admin
Password : L#eA22ad!m


>> Stop all the instance in aws
>> Self signed ssl
>> Move files from aws to rackspace

Notify Carmen


Hi Carmen,

We successfully migrated all our code from aws to rackspace.
From now onwards we will deploy all our code to rackspace server.

Please find update on rackspace setup as below.

Rackspace Instance setup with standard instance for Jenkins, Redis and Crontab - Done
Setting up of the Jenkins- Done
Configuring application code build on application instance through Jenkins- Done
Setting up of Redis Server- Done
Running of the app with 80 port through Apache & Passenger in staging mode - Done​
Added self signed ssl to the staging server - Done

Note:
We shut down all the instances present in aws 

Best,
Amit




Please provide Details to create csr
---------------------------------------------

Country Name (2 letter code) [GB]:
State or Province Name (full name) [Berkshire]:
Locality Name (eg, city) [Newbury]:
Organization Name (eg, company) [My Company Ltd]:
Organizational Unit Name (eg, section) []:
Common Name (eg, your name or your server’s hostname) []:
Email Address []:

LEAGUER, INC.
1375 Broadway
Floor 3
New York, NY 10018



Carmen Bellavia
carmen@leaguer.org
917.714.9088
http://www.leaguer.org


#!/bin/bash -xe
service httpd reload
cd $WORKSPACE
bundle install
chmod -R 777 /tmp


#!/bin/bash -xe
service httpd reload
cd $WORKSPACE
bundle clean --force
bundle update
chmod -R 777 /tmp
pkill -f sidekiq
bundle exec sidekiq -d -e staging -L log/sidekiq.log

global variable $a
class variable @@a
instance variable @a
local variable a

https://help.ubuntu.com/community/EnvironmentVariables#Setting_values_to_environment_variables
http://stackoverflow.com/questions/24894323/exception-argumenterror-in-rack-application-object-could-not-find-a-temporary-d?rq=1

DT: June 27, 2015

ANM
=========
251	Content_for" question for orders/shared/_item.html.erb 
198	Create a new site doesn't work 1
201	Registration - Team invitation notifications not received 2
165	TinyMCE - Custom Link and Photo Selector 4
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit 3

DT: June 29, 2015
====================
rollback in jenkin
File save issue in jenkin DONE
crontab issue DONE
symlink for config files

AMT
---
64	Admiistration - Settings - Administrators: Add administrator, delete and toggle notifications AMT
204	Text Messsages - Leaguer demo not sending text messages AMT
249	Schedule Admin - Reschedule Game - Didn't receive email or text message AMT
188	Missing Template Error - U5 Schedule page on soccer.sordemo.com AMT DONE
239	Automated Payment Plans - Time zone issue when payment is due the next day AMT
107	Schedules Administration - Hover over results to delete results - video needed  AMT

KRS
---
58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 
193	Activity Administration - Loading the activity page is taking a long time - Probably due to tinyMCE
184	Activity Managment - Create/Edit: TinyMCE not working
281	Widgets - Schedule & Event List - changing settings isn't working 
283	Tabbed Text and Image (TTI) Carousel widget isn't diplaying correctly on the home page 
203	Site Builder - Create Activity: Get an error when trying to create an activity from site builder
112	Order Administration - Orders Area: Ready to test	
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog bo close 


shell command
symlink config 
roll back in Jenkin



http://www.tinymce.com/tryit/3_x/full.php



Hi Carmen,

We fixed TTI styling issue in staging server.
Please verify and let us know your feedback.


Best,
Amit


Tomorrow's meeting:

the problem is that both the old infrastructure and the new infrastructure need to run in parallel for a few weeks
so if people upload files/images to leaguer.org, they also need to be accessible to leaguer.com



http://docs.rackspace.com/files/api/v1/cf-getting-started/content/Using_the_API_Directly.html

http://stackoverflow.com/questions/14158256/uploading-to-rackspace-cloud-files-with-paperclip-and-fog

https://github.com/fog/fog/issues/1135
http://blog.joshsoftware.com/2010/04/16/using-rackspace-cloudfiles-with-paperclip/


DT: June 30, 2015
---------------------
Blog to Anurag Sir
Discussion on file

Agenda for Today meeting
-------------------------

1. Current status of OS bugs
	>> We are trying to fix the remaining bugs by this week (only 10-12 bugs left)

2. Discussion on file and photo present in file system
	  Carmen:	
		The problem is that both the old infrastructure and the new infrastructure need to run in parallel for a few weeks
		so if people upload files/images to leaguer.org, they also need to be accessible to leaguer.com
	Note:
		In such case, we need to modify the existing rails 2 application also. As the code complexity is little bit high and modifying the existing code in both rails 2 and rails 3 will delay the production run with rails3
		
	Suggestion:
		It would be good if we do first release with one server(keeping files and photo in application public folder)
			>> To test everything except the file and upload functionality
		In second release we will move files and photos to cloud 

3. We are planning to run the application in production mode this week



Discussion:

The problem is that both the old infrastructure and the new infrastructure need to run in parallel for a few weeks
so if people upload files/images to leaguer.org, they also need to be accessible to leaguer.com


chmod -R 777 /tmp

I rescheduled a game, but never received the text message.
I received a text message that 3 events were reschedules, but not the text message when I rescheduled the event in the video
http://screencast.com/t/eX2ct3jLz

Hi Carmen,

We fixed the page break issue and pushed the changes to staging server.
Please verify and let us know your feedback.

Here is the video showing the process of unit testing we followed,
http://screencast.com/t/y6UTOrEw

Best,
Amit


Tomorrow's meeting:

the problem is that both the old infrastructure and the new infrastructure need to run in parallel for a few weeks
so if people upload files/images to leaguer.org, they also need to be accessible to leaguer.com


AMT
---
64	Admiistration - Settings - Administrators: Add administrator, delete and toggle notifications AMT DONE
204	Text Messsages - Leaguer demo not sending text messages AMT DONE
249	Schedule Admin - Reschedule Game - Didn't receive email or text message AMT DONE
239	Automated Payment Plans - Time zone issue when payment is due the next day AMT
107	Schedules Administration - Hover over results to delete results - video needed  AMT

KRS
---
58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue 
193	Activity Administration - Loading the activity page is taking a long time - Probably due to tinyMCE
184	Activity Managment - Create/Edit: TinyMCE not working
203	Site Builder - Create Activity: Get an error when trying to create an activity from site builder
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog box close 

Hi Carmen,

We verified this issue and seems to be working fine in rackspace staging server.
Please verify and let us know your feedback.

Best,
Amit

http://soccer.leaguerdemo.com/site_builder/index#4368

Please provide video for 
112	Order Administration - Orders Area: Ready to test	DONE
281	Widgets - Schedule & Event List - changing settings isn't working 


DT: July 1, 2015
----------------
Make video on how to deploy

AMT
---
249	Schedule Admin - Reschedule Game - Didn't receive email or text message AMT 
239	Automated Payment Plans - Time zone issue when payment is due the next day AMT
107	Schedules Administration - Hover over results to delete results - video needed  AMT

KRS
---
58	Administration - Settings - Custom Fields: Page doesn't load b/c of a TinyMCE initialization issue DONE
203	Site Builder - Create Activity: Get an error when trying to create an activity from site builder DONE

193	Activity Administration - Loading the activity page is taking a long time - Probably due to tinyMCE
184	Activity Managment - Create/Edit: TinyMCE not working
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog box close 



Hi Carmen,


Jenkins Credential

http://162.209.1.20:8080/

Jenkin Username : admin
Password : L#eA22ad!m

SSH credentials to application server(162.209.4.99)
User: root
Password: C6scz7Ak6poD

SSH credentials to background server(162.209.1.20)
User: root
Password: zdbWjxMUv7hr

leaguerdemo DB credentials

host: 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com
database: sportsdev
username: admin
password: LegD#guer*!2
port: 3306

Best,
Amit




Hi Carmen,

Currently there are two servers present on rackspace.

1. Application Server (Where leaguerdemo.com is running)
2. Background Server (Where Sidekiq, Crontab are running)

I have already sent you the ssh credentials through onetimesecret. (Passpahrase is "leaguer123")

However, I have also sent the leaguerdemo DB credentials. 

Please let us know if you find any difficulties to access the server.

Best,
Amit


Please find the details for Jenkins as below:

URL: http://162.209.1.20:8080/

User: admin
Password: L#eA22ad!m

Best,
Amit






Hi Carmen,

We fixed the js stuff and pushed the changes to staging server.

Here is the video showing the process we followed during unit testing,
http://screencast.com/t/cs7EbnsCxtI7

Please verify and let us know your feedback.

Best,
Amit

File and photo


Background monitoring tool
-----------------------------
https://github.com/jamesrwhite/minicron


38435



http://www.screencast.com/t/YNWcnoTI0xa
http://www.screencast.com/t/9VcGMUCzy
http://www.screencast.com/t/tXVRLYRVYAbo



bundle exec whenever --clear-crontab workspace --set environment='staging'
bundle exec  whenever --update-crontab workspace --set environment='staging'


DT: July 2, 2015
----------------
Bug fixing - AMT and KRS
Estimate on funzoo

AMT
---
249	Schedule Admin - Reschedule Game - Didn't receive email or text message 
239	Automated Payment Plans - Time zone issue when payment is due the next day
107	Schedules Administration - Hover over results to delete results - video needed 

KRS
---
193	Activity Administration - Loading the activity page is taking a long time - Probably due to tinyMCE
184	Activity Managment - Create/Edit: TinyMCE not working
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog box close 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit 


216: League Summary Page - Test Create team pages



if session[:user].present?
 logout
else
	login
	signup
end


https://github.com/cbellavia/SportsOnRails/commit/c2617f21b908981c6bb1f425a33d49a2cc9d5a49



chmod -R 777 tmp


:value => cookies[:xyz].present? ? cookies[:xyz] : ""



9177149088


DT: july 3, 2015
===================
Estimate Presales 
bug fixing
file sync

AMT
---
249	Schedule Admin - Reschedule Game - Didn't receive email or text message DONE
107	Schedules Administration - Hover over results to delete results - video needed DONE
239	Automated Payment Plans - Time zone issue when payment is due the next day


KRS
---
184	Activity Managment - Create/Edit: TinyMCE not working
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog box close 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit 
216: League Summary Page - Test Create team pages



Landscape
1024*768 iPad
640*360 Android
480*320 iPhone


Hi Carmen,

We fixed the issue and pushed the changes to staging server.

Here is the video showing the process we followed during unit testing,
http://screencast.com/t/GEsC7eEUXez6

Please verify and let us know your feedback.

Best,
Amit


DT: July 6, 2015
=================
> bug fixing 
	> post news
> redis server installation
> image save path 
> excelsheet for extra work


axis bank
555 => 615
itc
315 => 330
bharati artel
440 => 450	


2015-07-06 14:19:23:869 Squadz[9672:457830] Sending request to 
http://54.164.124.188/api/v1/fblogin
 with parameters {
    "device_token" = 9efc556881010a232306f781289465c702e5661b0f2f4f218e2d2de6382dd52f;
    "device_type" = ios;
    email = "chee_han@hotmail.com";
    "first_name" = Chee;
    "last_name" = Han;
    location = "22.284681,114.158177";
    provider = facebook;
    "registration_id" = "";
    "time_zone" = "Asia/Shanghai";
    uid = 10152826571916763;
    username = "chee_han@hotmail.com";
}
[11:51:54 AM] Chee Han: this is my Facebook login info
	

252	Merge needed - registration_payment_reminder.rake 
260	Merge code organization.rb for generating a new site 
251	Content_for? question for orders/shared/_item.html.erb 
239	Automated Payment Plans - Time zone issue when payment is due the next day 
198	Create a new site doesn't work 

KRS
=========
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog bo close 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit 
216	League Summary Page - Test Create team pages 
184	Activity Managment - Create/Edit: TinyMCE not working 


120 51.65


50.09

60 51.65
60 50.15


51.2

CGI::unescape(current_header_footer_design_class)



.header_footer_design_1 #header {background-image: url("/assets/48/PFC_banner_bg.jpg");}

http://www.screencast.com/t/YNWcnoTI0xa
http://www.screencast.com/t/9VcGMUCzy
http://www.screencast.com/t/tXVRLYRVYAbo

DT: July 7, 2015
================
>> Video on rollback and db:migrate
>> vagrant setup with redis installed

AMT
=====
252	Merge needed - registration_payment_reminder.rake  DONE
251	Content_for? question for orders/shared/_item.html.erb DONE

260	Merge code organization.rb for generating a new site 
239	Automated Payment Plans - Time zone issue when payment is due the next day 
198	Create a new site doesn't work 

KRS
=========
184	Activity Managment - Create/Edit: TinyMCE not working  DONE

177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog bo close 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit 
216	League Summary Page - Test Create team pages 

remotes/origin/andola-leaguer

*/tags/$GIT_TAG


DT: July 8, 2015
=================
AMT
=====
260	Merge code organization.rb for generating a new site 
239	Automated Payment Plans - Time zone issue when payment is due the next day 
198	Create a new site doesn't work 

KRS
=========
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog bo close 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit 
216	League Summary Page - Test Create team pages 


Hi Carmen, We fixed font-size selector issue with Chrome browser and pushed the changes to staging server.

Here is the video showing the process we followed during unit testing,
http://screencast.com/t/lwURiKdhxxTF

Please verify and let us know your feedback.

Best,
Amit

We might also want to do a quick search on Google to see if there's anything we can do to fix tinyMCE 3 to have the font-size selector work with Chrome

.events .filters select {
	width:205px\0/;
}

DT: July 9, 2015
=================
>> Production run


AMT
=====
239	Automated Payment Plans - Time zone issue when payment is due the next day DONE
260	Merge code organization.rb for generating a new site 
198	Create a new site doesn't work 

KRS
=========
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog bo close 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit 



Hi Carmen, We fixed the date display issue for next payment as per timezone and pushed the changes to staging server.

Here is the video showing the process we followed during unit testing,
http://screencast.com/t/41j9WjdFE

Please verify and let us know your feedback.

Best,
Amit



D:\MyDev\SportsOnRails\app\assets\stylesheets\site\events.css (line no 158)
D:\MyDev\SportsOnRails\app\assets\stylesheets\site\forms.css  (line no 68)
D:\MyDev\SportsOnRails\app\assets\stylesheets\site\registration.css (line no 206)
D:\MyDev\SportsOnRails\app\assets\stylesheets\site_administration\link_selection_dialog.css (line no 20)
D:\MyDev\SportsOnRails\app\assets\stylesheets\administration\event_administration.css (319,320, 420)
Sass::SyntaxError: Invalid CSS after "...in-left:-1px\0/": expected expression (e.g. 1px, bold), was ";"
  (in /vagrant/SportsOnRails/app/assets/stylesheets/widgets/slide_show.css)




DT: July 10, 2015
=================

Todays Discussion
-----------------
File downloading from remote server DONE


Hi Carmen,

We fixed the order confirmation receive issue at new customer end and pushed the changes to staging server.

Here is the video showing the process we followed during unit testing,
http://screencast.com/t/41j9WjdFE

Please verify and let us know your feedback.


Best,
Amit



AMT
=====
260	Merge code organization.rb for generating a new site 
198	Create a new site doesn't work 
294	Order Admnistration - New Order: Order Confirmation not being sent to CUSTOMER & both emails not sent to existing customer DONE

KRS
=========
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog bo close 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit 


DT: July 13, 2015
-----------------

Assignment Saswat:
===================
ActiveRecord Association
Active Record Query Interface


User table new column 
	=> is_admin by default false
	=> is_blocked dafault false
Admin User
	>> create a rake task to insert admin user
Admin Dashboard(implement datatable)
	>> Article listing (show/edit/delete/publish/unpublish)
	>> User listing (show/edit/delete/block/unblock)

>> If user is blocked, then user wont be able to login
>> Articles will not displayed related to blocked user


D:\MyDev\SportsOnRails\app\assets\stylesheets\site\events.css (line no 158)
D:\MyDev\SportsOnRails\app\assets\stylesheets\site\forms.css  (line no 68)
D:\MyDev\SportsOnRails\app\assets\stylesheets\site\registration.css (line no 206)
D:\MyDev\SportsOnRails\app\assets\stylesheets\site_administration\link_selection_dialog.css (line no 20)
D:\MyDev\SportsOnRails\app\assets\stylesheets\administration\event_administration.css (319,320, 420)
D:\MyDev\SportsOnRails\app\assets\stylesheets\widgets\slide_show.css (128)



Hi Carmen,

Please find the update on the Rackspace production server setup as follows

Rackspace Instance setup with standard - Done
Setting up of the app environment - Done
Rackspace DB instance creation - Done
Setting up of Apache & Passenger - Done
Cloning of application into Rackspace instance - Done
Running of the app with 80 port through Apache & Passenger - Done

Rackspace Instance type: Next Generation Server
Flavor: 2GB standard instance

Here is the public IP Address to the app - http://162.209.89.72/
Application URL - phizzed.com

Note: 
Some of JS and CSS are not woorking properly after "assets precompile". We are working on it and keep you posted.

Best,
Amit

remove prototype_new_versions


DT: July 14, 2015
-----------------
>> Load balancer DONE
	
	Starts at $10.95 / mo

	load balancer IP:	104.239.220.144
	https://mycloud.rackspace.com/cloud/751615/load_balancers#rax%3Aload-balancer%2CcloudLoadBalancers%2CORD/382629

	sordemo ip address:
	209.20.68.40


>> Production status
	1. Fixed the js stuff in administration layout
		 >> Customers DONE
		 >> Settings DONE 
		 >> Forms DONE
		 >> Files DONE
		 >> Photos DONE
		 >> Teams DONE
		 >> Schedules DONE
		 >> Products DONE
		 >> My Account DONE
		 >> Page Administration
		 >> News DONE 
		 >> Registrations  
		 >> Activities 
		 >> Orders  
		 >> Site Builder 
		 >> Online Registration
		 >> Team Pages
>> Sidekiq and Crontabs is not working now	
>> We will setup the background server(redis, crontab and jenkin) for production server



>> sordemo.com for load balancer 
>> remaining bugs


Not working
===============

http://soccer.phizzed.com/account/requests

Dashboard contact us


 
AMT
=====
260	Merge code organization.rb for generating a new site 
198	Create a new site doesn't work 


KRS
=========
177	Product Administration - Edit - Add Option: Creating a new option makes the product dialog bo close 
182	Product Administration - Batch Edit - Add options: Can't add options from batch edit 

/assets/assets/icons/bullet_arrow_down.png

Deepak Ranjan Dash
Qr No-118,P&T Colony,Bhubaneswar,pin-751001
9853604844

Padmalochan nayak
C/O- Sarat Kumar nayak
Near Hanuman Mandir, Sagadia Sahi, Ranihat, Cuttack - 753001
8338818441

Scheme:
2893*24
DP: 40330


109762
110294


Secret question & Answer

What is the best place to live
New York


http://leaguerdemo.com/




[Wed Jul 15 06:39:34 2015] [error] [client 10.189.245.11] File does not exist: /htdocs



VirtualHost configuration:
209.20.68.40:80        is a NameVirtualHost
         default server sordemo.com (/etc/apache2/sites-enabled/001_sordemo.include:1)
         port 80 namevhost sordemo.com (/etc/apache2/sites-enabled/001_sordemo.include:1)
         port 80 namevhost tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:1)


DT: July 15, 2015
====================
Virtual host configuration:
------------------------------------------
Can you run this command: apache2ctl -S

apache2ctl -S

Jes Amy G: You have two options -- you can configure your load balancer for ssl termination, putting your ssl certificate on the load balancer.
Jes Amy G: Or, you will need another load balancer with a cloned IP that is enabled for port 443.
You: is the first option is secure?
Jes Amy G: It is, but I am not sure that you would be able to use a wildcard/self-signed certificate with the first option.


VirtualHost configuration:
209.20.68.40:80        is a NameVirtualHost
         default server tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:1)
         port 80 namevhost tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:1)
209.20.68.40:443       is a NameVirtualHost
         default server tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:10)
         port 443 namevhost tickets.bellaviacorp.com (/etc/apache2/sites-enabled/002_tickets.bellaviacorp.include:10)
wildcard NameVirtualHosts and _default_ servers:
*:80                   sordemo.com (/etc/apache2/sites-enabled/001_sordemo.include:2)
*:443                  sordemo.com (/etc/apache2/sites-enabled/001_sordemo.include:78)
Syntax OK


/etc/apache2/ssl/sordemo/sordemo.pem


========================================================================================================
ssl + loadbalancer

1. loadbalancer setup issue fix
	>> Found some configuration issue in apache. (Apache was responding, but it was not serving the proper content to the load balancer.)
	>> To see vhost configuration by command "apache2ctl -S"
	>> Changed the top line to *:80 rather than 209.20.68.40:80
	>> And the same thing for SSL -- *:443
		

2. loadbalancer with ssl
	There are two options to handle ssl with load balancer

	1. We can configure your load balancer for ssl termination, putting your ssl certificate on the load balancer. ($0.05/hour)
	2. We need another load balancer with a cloned IP that is enabled for port 443. ($0.01/hour)

	We integrated the second option for sordemo.com

	http://docs.rackspace.com/loadbalancers/api/v1.0/clb-devguide/content/SSLTermination-d1e2479.html
	http://www.rackspace.com/knowledge_center/product-faq/cloud-load-balancers 
		 
		 
Hi Carmen,

 We fixed the stuffs with LB and apache configuration for sordemo.com server. 
 Here are the steps we followed to fix the issue
	 1. Found issue with vhost configuration in apache server. (Because apache was responding, but it was not serving the proper content to the load balancer.)
	 2. To view the vhost configuration by the command "apache2ctl -S"
	 3. Changed the top line to *:80 rather than 209.20.68.40:80 and same thing for SSL -- *:443
 We fixed the ssl issue with LB as well. As per the documentation and rackspace support team we found that 
 There are two options to server ssl with load balancer
	1. We can configure load balancer for ssl termination, putting ssl certificate on the load balancer. (cost is $0.05/hour)
	2. We need another load balancer with a cloned IP that is enabled for port 443. (cost is $0.01/hour)

 Currently We have integrated option-2 for sordemo.com server.
 
 However, I have pasted the link here to view the loadbalancers in rackspace
 https://mycloud.rackspace.com/cloud/751615/load_balancers
 
	 
Best,
Amit


DT: July 16, 2015
----------------------
uncomment hoptoad notifier
Jenkin for production server



Binayak Swain
10861931898

718102010000025
UBIN0571814
Markatnagar, ABIT campus sector1 cda 
micr code: 026753005






Production Server - Ready for test

Hi Carmen,

We fixed all the stuffs with javascript and stylesheets in current production server(http://phizzed.com/). 
Now you can continue testing the following modules.
	Customers DONE
	Settings DONE 
	Forms DONE
	Files DONE
	Photos DONE
	Teams DONE
	Schedules DONE
	Products DONE
	My Account DONE
	Page Administration DONE
	News  DONE
	Registrations  DONE
	Activities  DONE
	Orders   DONE
	Site Builder DONE
	Online Registration DONE
	Team Pages DONE

Please let us know if any issues found.

Best,
Amit



../settings/product_options_controller.rb         |    4 ++--
 .../settings/product_options/_edit.html.erb        |    3 ++-
 app/views/product_options/create.js.rjs  
 
 
first.lth.me second.lth.me third.lth.me fourth.lth.me

 


 --created------------at---2015-07-16 07:36:55 +0000-----------
The account info you entered is not valid. Please try again.
------------------------end------------------------

 
--created------------at---2015-07-16 09:37:04 +0000-----------
#<ServiceAccount id: 1195, service_id: 1, user_id: nil, organization_id: 163, username: "sportsonrailsdevelopment@gmail.com", password: nil, deleted_at: "2011-03-28 23:32:55">
#<PicasaAdapter:0x0000000aa24a18>
sportsonrailsdevelopment@gmail.com
nil
true
------------------------end------------------------

--created------------at---2015-07-16 09:37:04 +0000-----------
#<ServiceAccount id: 1195, service_id: 1, user_id: nil, organization_id: 163, username: "sportsonrailsdevelopment@gmail.com", password: nil, deleted_at: "2011-03-28 23:32:55">
#<PicasaAdapter:0x00000006a59fa0>
sportsonrailsdevelopment@gmail.com
nil
true
------------------------end------------------------

--created------------at---2015-07-16 09:37:06 +0000-----------
#<ServiceAccount id: 1195, service_id: 1, user_id: nil, organization_id: 163, username: "sportsonrailsdevelopment@gmail.com", password: nil, deleted_at: "2011-03-28 23:32:55">
#<PicasaAdapter:0x000000069bb1c0>
sportsonrailsdevelopment@gmail.com
nil
true
------------------------end------------------------

--created------------at---2015-07-16 09:37:07 +0000-----------
#<ServiceAccount id: 1195, service_id: 1, user_id: nil, organization_id: 163, username: "sportsonrailsdevelopment@gmail.com", password: nil, deleted_at: "2011-03-28 23:32:55">
#<PicasaAdapter:0x0000000ad26720>
sportsonrailsdevelopment@gmail.com
nil
true
------------------------end------------------------

--created------------at---2015-07-16 09:37:08 +0000-----------
#<ServiceAccount id: 1196, service_id: 4, user_id: nil, organization_id: 163, username: "cbellavia314", password: nil, deleted_at: nil>
#<YoutubeAdapter:0x0000000a6b5ff8>
cbellavia314
nil
nil
------------------------end------------------------

 
 
DT: July 17,2015
=================
Service unavailable issue on sordemo DONE
Delete account issue in SB DONE
Create a site issue DONE

notify_hoptoad
HoptoadNotifier

260	Merge code organization.rb for generating a new site 
198	Create a new site doesn't work 

http://screencast.com/t/2ww1y0Lbd


Hi Carmen,

We fixed page break issue while creating a site and pushed the changes to rackspace staging and production server as well.

Here is the video showing the process we followed during unit testing,
http://screencast.com/t/2ww1y0Lbd

Please verify and let us know your feedback.

Best,
Amit

DT: July 20,2015
=================
>> Estimate on enhancement
297	Infrastructure - Sites not pointing to the load balancer do not work 


Hi Carmen,

We fixed the product option popup close issue in case of edit and batch edit of product and pushed the changes to staging server.

Here is the video showing the process we followed during unit testing,
http://screencast.com/t/uTRncLiGuun

Please verify and let us know your feedback.

Best,
Amit

DT: July 21,2015
=================
https://github.com/cbellavia/SportsOnRails/commit/b107eeb827522cad982da6f46485c4d0c43dfe96



https://www.omniref.com/ruby/gems/philevans-activemerchant/1.5.1/symbols/ActiveMerchant::Billing::TransFirstGateway#line=75

https://github.com/activemerchant/active_merchant
http://www.transfirst.com/support/transaction-express
http://www.transfirst.com/support/transaction-express/getting-started
http://www.transfirst.com/support/transaction-express/host-payments
https://drive.google.com/file/d/0B1o6QJq9GhImNUxTV0c2bXFYeG8/edit

https://docs.spreedly.com/payment-gateways/trans-first/
https://docs.spreedly.com/reference/api/v1/


https://github.com/JJCOINCWEBDEV/transfirst

org_1316136631_biz@bellaviacorp.com

https://libraries.io/rubygems/humanzz-activemerchant
https://groups.google.com/forum/#!topic/phillyrb/4jUcLBNZ1qs
https://www.wepay.com/developer/resources/wefarm-tutorial#user_authentication
https://github.com/activemerchant/active_merchant/blob/master/test/remote/gateways/remote_trans_first_test.rb


https://stage.wepay.com/v2/oauth2/authorize?client_id=118385&redirect_uri=http://soccer.leaguerdemo.com/administration/settings/payments/wepay_oauth&scope=manage_accounts,view_balance,collect_payments,refund_payments,view_user&user_name=USYS+Demo+Site&user_email=admin%40leaguer.org


DT: July 22,2015
=================

Steps to replace new db in leaguer.org

>> clear crontab in rails3 production DONE


>> Stop Apache 
>> Export DB dump 
>> import to new DB
>> Change in current production database.yml
>> Restarting Apache
>> Restarting Delayed Job
>> Change in rails3 production db to point to leaguerdemo db

>> Jenkin deploy in current rails 3 production background
=======================================
Production RAILS 2
=======================================
production:
  adapter: mysql
  database: sor
  username: sportsonrails
  password: a$f2041&%
  host: 209.20.68.249
  reconnect: true
========================================
Production RAILS 3
========================================
production: &leaguerdemo
  adapter: mysql2
  database: leaguerprod
  username: leaguerprod
  password: le@gue$port$
  port: 3306
  host: 5977090134f378be5da808d5e2982afbb477ff44.rackspaceclouddb.com
  encoding: utf8
  timeout: 5000
  #socket: /var/lib/mysql/mysql.sock
=========================================
Staging RAILS 3
=========================================
development: &leaguerdemo
  adapter: mysql2
  database: sportsdev
  username: admin
  password: LegD#guer*!2
  port: 3306
  host: 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com
  encoding: utf8
  timeout: 5000
  #socket: /var/lib/mysql/mysql.sock

staging:
  <<: *leaguerdemo




sudo rm -rf tmp/stop.txt
=========================================
mysqldump -h 209.20.68.249 -u sportsonrails -p sor > sor_0722.sql
mysql -h 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com -u leaguerprod -p leaguerprod < sor_0722.sql

cp welcome.conf maintenance.con
sudo script/delayed_job status
touch tmp/stop.txt  ====> This will down the server
rm -rf tmp/stop.txt ==> This will up the server


It’s pretty much going to need to work like all our other payment providers, specifically wepay

in the settings area, a site will need to put in their transfirst account IDs.  I think transfirst has 2 keys that use to identify a client

When a customer checks out, they will need to be able to add a credit cart (just like in wepay). In transfirst language, they call it “Creating a wallet”

all that means is that we transmit the credit cart information to transfirst and then they return us a token that we can use to transact payments

People will need to be able to add credit cards and make payments from the team payments page and from their my account - order details page

then the administrators will need to be able to process refunds from the order admin details page

and they will need to be able to process payments from the admin payments page

I’ll make a video of all this so that it’s all clear

credentials = {gateway_id: '7777778598', registration_key: 'BLHP7DK5W385J6WZ'}

https://docs.spreedly.com/guides/using-payment-methods/#supported-transactions

https://github.com/spreedly/spreedly-gem
https://docs.spreedly.com/#sign-up-and-create-an-environment


DT: July 23,2015
=================

If you need immediate help from transfirst you can contact Andrew’s fill in while until he returns on the 28th.
 Heather Johnson: hjohnson@transfirst.com.


Transfirst integration in ruby

https://github.com/activemerchant/active_merchant
https://github.com/JJCOINCWEBDEV/transfirst

http://soccer.leaguerdemo.com/teams/premier-summer-season-2014/test-team/index

You must be signed in and a member or coordinator of this team to see this page.


DT: July 24,2015
=================
Transaction Web Service WSDL

>> Transaction Express is a Java-based platform supporting SOAP over HTTPS
>> The only valid currency is USD (currency code 840).

The Certification site for the Transaction Express Virtual Terminal can be accessed at:
https://vt.cert.transactionexpress.com/

The Production site for the Transaction Express Virtual Terminal can be accessed at:
https://vt.transactionexpress.com/

http://www.merchantanywhere.com/ecshop/TC%20Integration%20Guide%20v%203%203.pdf
http://savonrb.com/version2/globals.html




https://post.cert.transactionexpress.com/PostMerchantService.svc/TransactionStatus

https://post.cert.transactionexpress.com/PostMerchantService.svc/ACHRefundOrVoid

https://post.cert.transactionexpress.com/PostMerchantService.svc/ACHSale





VERSION='v1'
MERCHANT_WEB_SERVICE = 1
XSD_PATH="http://postilion/realtime/merchantframework/xsd/v1/"

78 / 426
54 / 426

69 / 426

https://ws.cert.transactionexpress.com/portal/merchantframework/MerchantWebServices-v1?wsdl
https://ws.transactionexpress.com/portal/merchantframework/MerchantWebServices-v1?wsdl




[:send_tran, :settle_tran, :updt_recurr_prof, :fnd_recurr_prof]


<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:v1=\"http://postilion/realtime/merchantframework/xsd/v1/\"><soapenv:Header/><soapenv:Body><v1:SendTranRequest><v1:merc><v1:id>7777778598</v1:id><v1:regKey>BLHP7DK5W385J6WZ</v1:regKey><v1:inType>1</v1:inType></v1:merc><v1:tranCode>0</v1:tranCode><v1:card><v1:pan>4111111111111111</v1:pan><v1:xprDt>1312</v1:xprDt></v1:card><v1:reqAmt>64</v1:reqAmt></v1:SendTranRequest></soapenv:Body></soapenv:Envelope>\n


{:send_tran_response=>{:rsp_code=>"54", :auth_rsp=>nil, :tran_data=>{:swch_key=>"0A10092D14EC06B72664F8F98F24AC", :tran_nr=>"000009249671", :dt_tm=>#<DateTime: 2015-07-24T07:15:44-07:00 ((2457228j,51344s,0n),-25200s,2299161j)>, :amt=>"000000000064", :stan=>"043935"}, :card_type=>"0", :map_caid=>"300979940268000", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}


http://codebeautify.org/xmlviewer#

DT: July 25,2015
=================

Test Credit Card & Bank Account

Test Visa Credit Card: 5454545454545454 
Expiration Date: 0120 
CVV: 998 – 


In production, this card will generate a decline result but will still allow for review of basic connectivity to the gateway and review of submitted transaction data.  Please see the Integration Guide for additional details, test accounts and test matrix for use with the certification (CERT) environment.


Test Bank Account (ACH): Account Number: 123456789 / Routing Number: 122101706 - This account will generate an accepted result.  Please see the Integration Guide for additional details, test accounts and test matrix for use with the certification (CERT) environment.
 

Sale (with conditional and optional fields) ## 56 / 426
CC Sale:
66 / 426
Wallet Sale (with mandatory fields) 115 / 426

Administration settings >> payment
	>> Ask user to enter (Gateway ID/Reg Key) and save in organization table





{:updt_recurr_prof_response=>{:cust_id=>"1437995818638181006", :rsp_code=>"00", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}




"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:v1=\"http://postilion/realtime/merchantframework/xsd/v1/\"><soapenv:Header/><soapenv:Body><v1:UpdtRecurrProfRequest><v1:merc><v1:id>7777778598</v1:id><v1:regKey>BLHP7DK5W385J6WZ</v1:regKey><v1:inType>1</v1:inType></v1:merc><v1:cust><v1:type>0</v1:type><v1:contact><v1:fullName>Amit Mohanty</v1:fullName><v1:phone><v1:type>3</v1:type><v1:nr>2342355678</v1:nr></v1:phone><v1:addrLn1>12203 Airport Way</v1:addrLn1><v1:addrLn2>Suite 101</v1:addrLn2><v1:city>Broomfield</v1:city><v1:state>CO</v1:state><v1:zipCode>80021</v1:zipCode><v1:ctry>US</v1:ctry><v1:email>test@andolasoft.com</v1:email><v1:type>1</v1:type><v1:stat>0</v1:stat></v1:contact></v1:cust></v1:UpdtRecurrProfRequest></soapenv:Body></soapenv:Envelope>\n"
------------------------------->,----------
--------->wsdl_path
--------> soap clients
{:updt_recurr_prof_response=>{:cust_id=>"1437995963514191274", :rsp_code=>"00", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}







UpdtRecurrProfRequest

UpdtRecurrProfRequest




<v1:UpdtRecurrProfRequest>
<v1:merc>
<v1:id>1234567890</v1:id>
<v1:regKey>RegistrationKey</v1:regKey>
<v1:inType>1</v1:inType>
</v1:merc>
<v1:cust>
<v1:contact>
<v1:id>1315270297974159982</v1:id>
</v1:contact>
<v1:pmt>
<v1:type>0</v1:type>
<v1:card>
<v1:pan>4111111111111111</v1:pan>
<v1:xprDt>1612</v1:xprDt>
<v1:dbtOrCdt>1</v1:dbtOrCdt>
</v1:card>
<v1:ordNr>WalletCustRefID</v1:ordNr>
<v1:indCode>1</v1:indCode>
<v1:status>1</v1:status>
</v1:pmt>
</v1:cust>
</v1:UpdtRecurrProfRequest>

DT: July 26,2015
=================


[:send_tran, :settle_tran, :updt_recurr_prof, :fnd_recurr_prof]

transfirst_customer_id
transfirst_gateway_id
transfirst_registration_key


1438084791947126077

1438089588959113922

DT: July 29,2015
=================
> load balancer issue in leaguer.org
> mysql connect issue to rails 3 production db

http://www.rackspace.com/knowledge_center/article/updating-servicenet-routes-on-cloud-servers-created-before-june-3-2013

209.20.70.245

SORDEMO_LB_ssl
SORDEMO_LB


LEAGUERORG_LB
LEAGUERORG_LB_ssl


104.239.221.139



touch tmp/stop.txt  ====> This will down the server
rm -rf tmp/stop.txt ==> This will up the server

sudo RAILS_ENV=production script/delayed_job status/start/stop

carmen@leaguer.org


development: &leaguerdemo
  adapter: mysql2
  database: sportsdev
  username: admin
  password: LegD#guer*!2
  port: 3306
  host: 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com
  encoding: utf8
  timeout: 5000
  #socket: /var/lib/mysql/mysql.sock

staging:
  <<: *leaguerdemo
================================================================================
production: &leaguerdemo
  adapter: mysql2
  database: leaguerprod
  username: leaguerprod
  password: le@gue$port$
  port: 3306
  host: 5977090134f378be5da808d5e2982afbb477ff44.rackspaceclouddb.com
  encoding: utf8
  timeout: 5000
  #socket: /var/lib/mysql/mysql.sock


  
  
  
useradd "username"
then passwd "username"


cd /var/www/vhosts/sor/shared
  
  
  
  /var/www/vhosts/sor/shared/bundle/ruby/1.8/gems/activerecord-2.3.18/lib/active_record/connection_adapters/mysql_adapter.rb:620:in `real_connect': Can't connect to MySQL server on '5977090134f378be5da808d5e2982afbb477ff44.rackspaceclouddb.com' (110) (Mysql::Error)
  
  
  
  
   mysql -h 5977090134f378be5da808d5e2982afbb477ff44.rackspaceclouddb.com -u leaguerprod -p
Enter password:
ERROR 2003 (HY000): Can't connect to MySQL server on '5977090134f378be5da808d5e2982afbb477ff44.rackspaceclouddb.com' (110)


root@prodapp:~/downloads# ip route show
209.20.70.0/24 dev eth0  proto kernel  scope link  src 209.20.70.245
default via 209.20.70.1 dev eth0  metric 100

sudo ip route add 10.208.0.0/12 via SNET_GW dev SNET_DEV 2>/dev/null sudo ip route add 10.176.0.0/12 via SNET_GW dev SNET_DEV 2>/dev/null sudo ip route del 10.176.0.0/13 via SNET_GW dev SNET_DEV 2>/dev/null



ip route add 10.208.0.0/12 via SNET_GW dev SNET_DEV 2>/dev/null sudo ip route add 10.176.0.0/12 via SNET_GW dev SNET_DEV 2>/dev/null sudo ip route del 10.176.0.0/13 via SNET_GW dev SNET_DEV 2>/dev/null


DT: 

DT: July 30,2015
=================
http://screencast.com/t/ehqUgS2JbK2W

1438179480102188203
YYMM format
Test Credit Cards 421 / 426


Hi Andrew,

We successfully integrated the ADD CUSTOMER api in our application.
While we are trying to use the ADD WALLET API, Got the validation failure((S:Server) Validation Failure) as response.
We are wondering what sort of validation is missing.
Here is the soap request as below,

<soapenv:Envelope
    xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"
    xmlns:v1=\"http://postilion/realtime/merchantframework/xsd/v1/\">
    <soapenv:Header/>
    <soapenv:Body>
        <v1:UpdtRecurrProfRequest>
            <v1:merc>
                <v1:id>7777778598</v1:id>
                <v1:regKey>BLHP7DK5W385J6WZ</v1:regKey>
                <v1:inType>1</v1:inType>
                <v1:prodType>5</v1:prodType>
            </v1:merc>
            <v1:cust>
                <v1:contact>
                    <v1:fullName>Amit Mohanty</v1:fullName>
                    <v1:id>1438179480102188203</v1:id>
                    <v1:addrLn1>12203 Airport Way</v1:addrLn1>
                    <v1:addrLn2>Suite 101</v1:addrLn2>
                    <v1:city>Broomfield</v1:city>
                    <v1:state>CO</v1:state>
                    <v1:zipCode>80021</v1:zipCode>
                    <v1:ctry>US</v1:ctry>
                </v1:contact>
                <v1:pmt>
                    <v1:type>0</v1:type>
                    <v1:card>
                        <v1:pan>4485896261017708</v1:pan>
                        <v1:xprDt>1612</v1:xprDt>
                        <v1:dbtOrCdt>1</v1:dbtOrCdt>
                    </v1:card>
                    <v1:ordNr>WalletCustRefID</v1:ordNr>
                    <v1:indCode>2</v1:indCode>
                    <v1:status>1</v1:status>
                </v1:pmt>
            </v1:cust>
        </v1:UpdtRecurrProfRequest>
    </soapenv:Body>
</soapenv:Envelope>



Note:
We are following the integration guide named as "Transaction_Express_Integration_Guide_414.pdf" and you can find the example in page no.130


Could you please help me out on this?

Best,
Amit


Transfirst requires a RegKey and UserID and Authorize.Net requires possibly something else
ACH as phase II


When rackspace team is going to fix leaguer.org issue

{:updt_recurr_prof_response=>{:pmt_id=>"1438267838642129241", :rsp_code=>"00", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}

{:updt_recurr_prof_response=>{:pmt_id=>"1438267919905169710", :rsp_code=>"00", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}

DT: Aug 3,2015
=================
We are not using active merchant for transfirst
We didn't find good support for trnasfirst

CreditcardProcessor
	name
	credentials

DT: Aug 4,2015
=================
Once you get the wallet sale working, make sure that we are sending the CVV2 code when creating the wallet.  I’m pretty sure that the credit card fees are higher if the CVV2 is NOT provided and we want to make sure we get the lowest processing fees possible from transfirst.


serialize :contact_info, JSON


rails g model CreditcardProcessor name:string credentials:text organization:references

invoke  active_record
create    db/migrate/20150804055058_create_creditcard_processors.rb
create    app/models/creditcard_processor.rb
invoke    test_unit
create      test/unit/creditcard_processor_test.rb
create      test/fixtures/creditcard_processors.yml

>> updating the transfirst api response 
>> nested attribute in form

DT: Aug 5,2015
=================

{:updt_recurr_prof_response=>{:cust_id=>"1438756675986143538", :rsp_code=>"00", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}


https://www.ruby-forum.com/topic/140570



{:updt_recurr_prof_response=>{:pmt_id=>"1438771133889165284", :rsp_code=>"00", :@xmlns=>"http://post
ilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantfra
mework/xsd/v1/"}}

DT: Aug 6,2015
=================
http://danieldvork.in/script-for-mysql-backup-to-dropbox/





http://stackoverflow.com/questions/19664893/linux-shell-script-for-database-backup

development: &leaguerdemo
  adapter: mysql2
  database: sportsdev
  username: admin
  password: LegD#guer*!2
  port: 3306
  host: 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com
  encoding: utf8
  timeout: 5000
  #socket: /var/lib/mysql/mysql.sock

>> cd /etc/cron.daily/
>> touch /etc/cron.daily/dbbackup-daily.sh
>> chmod 755 /etc/cron.daily/dbbackup-daily.sh
>> vi /etc/cron.daily/dbbackup-daily.sh


mysql -h 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com -u admin -p 

52682140

51440838

IST 1PM
UTC 8AM
EST 4AM

DT: Aug 10, 2015
=================
>> New vagrant package box
>> Production + Jenkin
>> ccrypt installation in centos


http://ccrypt.sourceforge.net/download/ccrypt-1.9-1.src.rpm

wget http://ccrypt.sourceforge.net/download/ccrypt-1.9-1.src.rpm
rpm -Uvh duplicity-0.6.21-1.sdl6.x86_64.rpm


Background Server




http://www.amazon.in/Intex-It-881-Headphone/dp/B00S95FG2U/ref=pd_sim_sbs_147_7?ie=UTF8&refRID=1DKVXHBG7FB3TEJ1HJRX


DT: Aug 11, 2015
=================
>> crontab + redis, turn on => DONE need to do with jenkin
>> adding carmen to exception notifier => DONE
>> log management tool in rails3 production
>> putting sordemo ssl certificate on leaguerdemo (self signed ssl)
>> running the ruby sync file after jenkin
>> change sendgrid credentials
>> change the bucket name in s3 creds


7:11pm started => 8:46pm


http://www.rackspace.com/knowledge_center/article/generate-a-csr-with-openssl

http://www.rackspace.com/knowledge_center/article/getting-started-with-cloud-sites-configuring-ssl-on-your-websites
Country Name (2 letter code) [XX]:US
State or Province Name (full name) []:Uttar Pradesh
Locality Name (eg, city) [Default City]:Lucknow
Organization Name (eg, company) [Default Company Ltd]:Leaguer Inc.
Organizational Unit Name (eg, section) []:Leaguer
Common Name (eg, your name or your server's hostname) []:Leaguer.org
Email Address []:admin@leaguer.org



/etc/apache2/ssl/sordemo/sordemo.pem

/etc/apache2/ssl/sordemo/sordemo.pem

/var/www/html/Jenkins/workspace/Production_SportsOnRails


11:53am


12:50


https://csrgenerator.rackspace.com/

Carmen Bellavia <carmen@leaguer.org>


LEAGUER, INC.
1375 Broadway
Floor 3
New York, NY 10018

US
New York
NYC



Country Name (2 letter code) [XX]:US
State or Province Name (full name) []:Uttar Pradesh
Locality Name (eg, city) [Default City]:Lucknow
Organization Name (eg, company) [Default Company Ltd]:Leaguer Inc.
Organizational Unit Name (eg, section) []:Leaguer
Common Name (eg, your name or your server's hostname) []:Leaguer.org
Email Address []:admin@leaguer.org


/var/www/html/Jenkins/workspace/Production_SportsOnRails/public/assets/47/photos/8474/original.JPG: 5920/2437324



cp /var/www/html/SportsOnRails/public/assets /var/www/html/Jenkins/workspace/Production_SportsOnRails/public/assets/


cp -avr /var/www/html/SportsOnRails/public/images /var/www/html/Jenkins/workspace/Production_SportsOnRails/public

/var/www/html/ssl/leaguer_org.ca-bundle
/var/www/html/ssl/leaguer_org.crt


Main issues right now
-----------------------
To test self signed ssl in leaguerdemo
to install ccrypt in leaguerdemo background server
To test ssl in rails3 production


leaguerdemo.com
================
User: root
Password: C6scz7Ak6poD
162.209.4.99 application server

Background server(leaguerdemo.com)
================
Password: zdbWjxMUv7hr
162.209.1.20 jenkins server

phizzed.com
===============
Production:
Password: 2Uh8KdnpJu2f
Application Server: 162.209.89.72 

Background server(phizzed.com)
==================================
Background server: 166.78.100.101
6YuSfCJtzh37

>> to install ccrypt in leaguerdemo background server

rackspace login:
================
leaguer/Robotwar1


DT: Aug 12, 2015
=================

Checklist
==========
Crontab
-------
bundle update whenever chronic (if time related )
/usr/local/rvm/environments/ruby-2.1.5@leguer215
whenever --update-crontab SportsOnRails --set environment='production'
whenever --clear-crontab SportsOnRails --set environment='production'


> change the database yml in both application and background server

> mailer configuration DONE
> default host change in respective environments
> files inside public folder
> verify the creds in yml files
> crontab setup
> redis host changes
> Change cache store in config/environments/*.rb
	config.cache_store = :file_store, "/var/www/html/Jenkins/workspace/SportOnRails/tmp/cache" 
>> full permission to public/tmp
>> symlink
	database.yml amazon_fps.yml twitter.yml facebook.yml bitly.yml paypal_adaptive.yml shutterfly.yml
>> crontab + redis, turn on => DONE need to do with jenkin
>> adding carmen to exception notifier => DONE
>> log management tool in rails3 production
>> putting sordemo ssl certificate on leaguerdemo (self signed ssl)
>> running the ruby sync file after jenkin
>> change sendgrid credentials
>> change the bucket name in s3 creds

	
	/var/www/vhosts/sor/shared/amazon_fps.yml
	/var/www/vhosts/sor/shared/paypal_adaptive.yml


config/amazon_fps.yml
config/facebook.yml
config/twitter.yml
config/bitly.yml
config/paypal_adaptive.yml
config/shutterfly.yml



[5:13:59 PM] Carmen Bellavia: sendgrid: admin@leaguer.org
[5:14:06 PM] Carmen Bellavia: award1_slice

pkill -f sidekiq
bundle exec sidekiq -d -e production -L log/sidekiq.log


cp /var/www/html/SportsOnRails/public/assets /var/www/html/Jenkins/workspace/Production_SportsOnRails/public/



DT: Aug 13, 2015
=================

SSLEngine on
        #SSLCertificateFile /var/www/html/self_ssl/server.crt
        #SSLCertificateKeyFile /var/www/html/self_ssl/server.key

        SSLCertificateFile /var/www/html/ssl/leaguer_org.crt
        SSLCertificateChainFile /var/www/html/ssl/leaguer_org.ca-bundle
        SSLCertificateKeyFile /var/www/html/ssl/leaguer_org.key

> mailer configuration
> default host change in respective environments
> files inside public folder
> verify the creds in yml files
> crontab setup
> redis host changes
> Change cache store in config/environments/*.rb
	config.cache_store = :file_store, "/var/www/html/Jenkins/workspace/SportOnRails/tmp/cache" 
>> full permission to public/tmp
>> symlink
	database.yml amazon_fps.yml twitter.yml facebook.yml bitly.yml paypal_adaptive.yml shutterfly.yml
		
	
>> default host change in respective environments
>> change the server name in vhost
>> Change the ssl path in vhost config DONE
>> Change database.yml in both application and background server DONE
>> Deploy both the servers through Jenkin DONE
>> restart the sidekiq DONE

If successful>> 
====================
>> comment the crontab in rails 2 production server


cd /etc/httpd/conf.d


sudo crontab -l -u cap

RAILS_ENV=production rake assets:precompile --trace
pkill -f sidekiq
bundle exec sidekiq -d -e production -L log/sidekiq.log



https://www.whynopadlock.com/

https://www.ssllabs.com/ssltest/

https://www.sslshopper.com/ssl-checker.html





apache2ctl -S

to the ip address of the new load balancer

savvyleagues.com
leaguer.us

whenever --update-crontab SportsOnRails --set environment='production'
whenever --clear-crontab SportsOnRails --set environment='production'



leaguerdemo.com
================
User: root
Password: C6scz7Ak6poD
162.209.4.99 application server

Background server(leaguerdemo.com)
================
Password: zdbWjxMUv7hr
162.209.1.20 jenkins server

phizzed.com
===============
Production:
Password: 2Uh8KdnpJu2f
Application Server: 162.209.89.72 

Background server(phizzed.com)
==================================
Background server: 166.78.100.101
6YuSfCJtzh37

>> to install ccrypt in leaguerdemo background server

rackspace login:
================
leaguer/Robotwar1



So can you point another domain instead of phizzed.com to this IP 162.209.89.72


another domain like we have bigcityvolleyball.com and savvyleagues.com in rails2 production

DT: Aug 14, 2015
=================




Check List:
1. Display maintenance page in rails3 production
2. Add rails3 server node to LB in rackspace(After this, users will be able to see the maintenance page)
3. Import the photos and files from remote server(rails2 production) to rails3 production server by running the ruby script
4. Change the reference_host to leaguer.org(app/controller/application_controller/set_user_for_reference_host.rb) [This includes session fixes]
5. Default host change to leaguer.org in production.rb
6. Change the server name(phizzed.com to leaguer.org) in virtual host configuration
7. Change the SSL path in virtual host configuration
8. Change database.yml credentials in both application server and background server
9. Restart Apache in both application and background server
10. Restart sidekiq
11. Deploy both the servers through Jenkin
12. Modify apache config to display application rather than maintenance page

If everything works fine, then
>> Comment all the entries to crontab in rails2 production


10. 

>> default host change in respective environments
>> change the server name in vhost
>> Change the ssl path in vhost config DONE
>> Change database.yml in both application and background server DONE
>> Deploy both the servers through Jenkin DONE
>> restart the sidekiq DONE




1. 
2. Default host change in production.rb



> mailer configuration
> default host change in respective environments
> files inside public folder
> verify the creds in yml files
> crontab setup
> redis host changes
> Change cache store in config/environments/*.rb
	config.cache_store = :file_store, "/var/www/html/Jenkins/workspace/SportOnRails/tmp/cache" 
>> full permission to public/tmp
>> symlink
	database.yml amazon_fps.yml twitter.yml facebook.yml bitly.yml paypal_adaptive.yml shutterfly.yml
		
	
>> default host change in respective environments
>> change the server name in vhost
>> Change the ssl path in vhost config DONE
>> Change database.yml in both application and background server DONE
>> Deploy both the servers through Jenkin DONE
>> restart the sidekiq DONE



app/controllers/account_controller.rb |    3 ++-
app/views/layouts/account.html.erb    |    1 +
app/views/layouts/public.html.erb     |    1 +


<%# session['user'] ||= Thread.current[:my_user]%>
<%#=debug params%>
<%#=debug request.env['PATH_INFO'].eql?('/') %>
		
request.env['PATH_INFO'].eql?('/') 

<% if session['user'].blank? && Thread.current[:my_user].present? && !@global_organization.reference_host.include?("phizzed.com") %>
	<%= render :partial=>'/account/shared/account_show_menu' %>
<%elsif session['user'].blank?  %>
	<%= render :partial=>'/account/shared/account_login_menu' %>
	
<% elsif !session['user'].blank? %>
	<%= render :partial=>'/account/shared/account_show_menu' %>
<% end %>

session issue in rails3 production

Hi Carmen,

We successfully fixed the session storing issue with dashboard section after login in rails3 production server.(http://www.savvyleagues.com/)
We already tested the basic functionalities and seems to be working fine.
We are also concerned about the risk involved with it, as the main issue is related to your most valuable customers like bigcityvolleyball.com, dynamicssc.com...etc. So we can not proceed further without your confirmation before cut over.

After your final confirmation, we are even ready to take it live tomorrow(15th Aug 3AM EST)

Please suggest.

Best,
Amit


DT: Aug 15, 2015
=================

1. Account activation link not working
2. Login with Facebook not working DONE
3. Custom form widget isn’t working DONE



4. Website showing user as logged in as some random email address.  This actually happened to me on one of the sites, but after I signed on and out, it went away.  The email address it showed for me was: misra.monalisa@gmail.com  which isn’t even an email address in the emails table, so I have no idea where that could have come from.



 Jes Amy G: Thank you for reaching out to Rackspace Cloud Support! How may I help you?
You: Hi Jes
You: how are you?
You: I need your help
Jes Amy G: I am well, Amit.
Jes Amy G: How are you?
Jes Amy G: What can I help you with?
You: I have ssl in my site
You: Do you know why sessions and cookies are not available in a private non ssl domain
Jes Amy G: That would depend on how the server is set up
Jes Amy G: That is not something that we would have access to.
You: means apache issue ?
Jes Amy G: Not necessarily an issue.
Jes Amy G: But a configuration.
You: ohh
You: can you verify
Jes Amy G: That is not something that we can verify.
Jes Amy G: At this service level, we provide the raw infrastructure, but the configuration and setup are completely customer-driven.
Jes Amy G: Is there anything else I can help you with?


rails2 production(Please dont change anything)
209.20.70.245 
carmen/robotwar



rails3 production
User: root
Password: C6scz7Ak6poD
162.209.4.99 application server


<<<<<<< HEAD


app_id: 1559469564303489
  app_secret: cd08119218a9eae1ee78077eb30c5688

  
  
  
 I was looking at the readme_for_app file and it has some information about how the login redirects should work.
Maybe this will help you debug what’s going on.  The text below starts on line 148 of the file

CUSTOM DOMAINS
==============

Unified login
-------------
In order to provide a seamless, one-time login across both an organizations subdomain
(which is critical for https) and any custom domains, SoR uses a set of redirect mechanisms
to populate the same _session_id in all contexts:

 1 All non-primary custom domain requests automatically and immediately redirect to
the primary custom domain. (ApplicationController#set_organization)
 2 A before_filter allows controllers to specify certain actions that must be executed
in SSL which also means against the subdomain only; this is applied to all account
login/create contexts. The ssl cert requires that this access is made exclusively through
the subdomain, but it turns out there are no cases where the subdomain is required
without SSL. (ApplicationController#enforce_ssl)
 3 After all auth operations (create/login), redirect to the usual target, but include
a session_redirect_id and explicitly target the reference host. SessionRedirect is a
time-sensitive, one-time-use key to access a session_id. (This layer of indirection is
included for security, specifically to prevent any possibility of session fixation attack
in this vector.) (ApplicationController#redirect_to_reference_host_with_session_back_or_default)
 4 If a session_redirect_id parameter is present, a before_filter resets the session
cookie for the current host to the target of the SessionRedirect. Since step 3
redirects to the reference_host (ie primary subdomain), the session_id of the subdomain
is thus populated in the custom domain as well.
 * AJAX logins provide an additional challenges as a separate request to the custom
domain is not possible due to anti-XSS protection. Unfortunately other schemes
involving requests to assets or iframes trip partially encrypted page warnings in
certain browsers (eg IE7): since the objective is to set the right session_id
under the non-ssl'd custom domain, there's no avoiding hitting the non-ssl'd domain
to set the cookie and thus there's no avoiding throwing the warning. As such the current
solution forces the normal multi-step redirect on successful login via a jsRedirect call.
Also worth mentioning is ApplicationHelper#login_redirect_url which provides the
right redirect url including an _srid parameter based on the organization and
request's HTTP_REFERER.

NOTE: due to this system, whenever a url_for generator is used to build a url with
          a custom-specified host (ie, a :host term appears in the hash), it's also
          necessary to supply a :protocol. Specifically, :host's that refer to
          organization.reference_host should use http and
          organization.reference_subdomain_host should use https explicitly.
  
  
  
  
    puts "----------------------------inside siteindex"

    cache = ActiveSupport::Cache::MemoryStore.new

    p cache.read('city')   # => nil
    p cache.write('city', "Duckburgh")
    p cache.read('city')   # => "Duckburgh"

    p request.session_options[:id]
    p request.cookies['_session_id']

    puts "----------------------------end"
    p cookies[:_session_id]
    p  Rails.application.config.secret_token
    cookie_verifier = ActiveSupport::MessageVerifier.new(
     Rails.application.config.secret_token
    )
    p cookie_verifier
    p session_data = cookie_verifier.verify(cookies[:_session_id]) #(URI.unescape(cookies[:_session_id]))



    sssssssds3434
  
  
"\x04\b{\aI\"\tuser\x06:\x06ETIu:\x11PasswordUser\x061\x06;\x00FI\"\x10_csrf_token\x06;\x00FI\"1/6B+
8vigjIzDViHjgXw1YHYX005EVrnXwdW2i7Y67EU=\x06;\x00F"
  
  "BAh7B0kiCXVzZXIGOgZFVEl1OhFQYXNzd29yZFVzZXIGMQY7AEZJIhBfY3Ny\nZl90b2tlbgY7AEZJIjEvNkIrOHZpZ2pJekRWaUhqZ1h3MVlIWVgwMDVFVnJu\nWHdkVzJpN1k2N0VVPQY7AEY=\n"
Marshal.load(Base64.decode64("BAh7BzoLZm9vYmFyaQc6D3Nlc3Npb25faWQiJWIzOTRhNGFkNDg1Mjk2NGM2NDU1Mzc4ZTM0YjkzZjE2--67046ba78aa6d656ec7c64e73aac156f5e503627".split('--').first))  
  
"BAh7B0kiCXVzZXIGOgZFVEl1OhFQYXNzd29yZFVzZXIGMQY7AEZJIhBfY3Ny\nZl90b2tlbgY7AEZJIjEvNkIrOHZpZ2pJekRWaUhqZ1h3MVlIWVgwMDVFVnJu\nWHdkVzJpN1k2N0VVPQY7AEY=\n"  
  
  
  
Marshal.load(Base64.decode64("Zl90b2tlbgY7AEZJIjEvNkIrOHZpZ2pJekRWaUhqZ1h3MVlIWVgwMDVFVnJu\nWHdkVzJpN1k2N0VVPQY7AEY=\n".split('\n').first))  

Marshal.load("\x04\b{\aI\"\tuser\x06:\x06ETIu:\x11PasswordUser\x061\x06;\x00FI\"\x10_csrf_token\x06;\x00FI\"1/6B+8vigjIzDViHjgXw1YHYX005EVrnXwdW2i7Y67EU=\x06;\x00F")

  data = "BAh7B0kiCXVzZXIGOgZFVEl1OhFQYXNzd29yZFVzZXIGMQY7AEZJIhBfY3Ny\nZl90b2tlbgY7AEZJIjEvNkIrOHZpZ2pJekRWaUhqZ1h3MVlIWVgwMDVFVnJu\nWHdkVzJpN1k2N0VVPQY7AEY=\n"
  test = Base64.encode64(Marshal.dump(data))
  
"\x04\b{\aI\"\tuser\x06:\x06ETIu:\x11PasswordUser\x061\x06;\x00FI\"\x10_csrf_token\x06;\x00FI\"1/6B+8vigjIzDViHjgXw1YHYX005EVrnXwdW2i7Y67EU=\x06;\x00F"


Base64.decode64("BAh7BzoLZm9vYmFyaQc6D3Nlc3Npb25faWQiJWIzOTRhNGFkNDg1Mjk2NGM2NDU1Mzc4ZTM0YjkzZjE2--67046ba78aa6d656ec7c64e73aac156f5e503627".split('--').first)

Marshal.load("\x04\b{\ai\"\tuser\x06:\x06etiu:\x11passworduser\x061\x06;\x00fi\"\x10_csrf_token\x06;\x00fi\"1/6b+8vigjizdvihjgxw1yhyx005evrnxwdw2i7y67eu=\x06;\x00f")

"BAh7B0kiCXVzZXIGOgZFVEl1OhFQYXNzd29yZFVzZXIGMQY7AEZJIhBfY3Ny\nZl90b2tlbgY7AEZJIjEvNkIrOHZpZ2pJekRWaUhqZ1h3MVlIWVgwMDVFVnJu\nWHdkVzJpN1k2N0VVPQY7AEY=\n"


"\x04\b{\ai\"\tuser\x06:\x06etiu:\x11passworduser\x061\x06;\x00fi\"\x10_csrf_token\x06;\x00fi\"1/6b+8vigjizdvihjgxw1yhyx005evrnxwdw2i7y67eu=\x06;\x00f"




"\x04\b{\aI\"\tuser\x06:\x06ETIu:\x11PasswordUser\x061\x06;\x00FI\"\x10_csrf_token\x06;\x00FI\"1/6B+8vigjIzDViHjgXw1YHYX005EVrnXwdW2i7Y67EU=\x06;\x00F"



{"_csrf_token"=>"/6B+8vigjIzDViHjgXw1YHYX005EVrnXwdW2i7Y67EU=", "return-to"=>"/page/1460"}


    puts "-------------------inside index"
    p cookies[:_session_id]

    sql = "SELECT data from sessions where session_id = '#{cookies[:_session_id]}' "
    result = ActiveRecord::Base.connection.execute(sql)
    data = result.first.first.to_s
    p data

    p user = Marshal.load(::Base64.decode64(data))
    #p data = Base64.decode64(data) #.downcase
    # # p Base64.urlsafe_decode64(data)
    # p Base64.strict_decode64(data)

    # p Marshal.load(data)
    # p data.to_json

    # p current_user = user["user"]
    # p current_user.person_id
    ssssssssssss
	
	
	
    # if session['user'].blank? && cookies[:my_user].present? && !@global_organization.reference_host.include?("sordemo.com")
    #    #cookies.delete(:my_user)
    #    #session['user'] = current_user = Thread.current[:my_user]
    #    user_id = Base64.decode64(cookies[:my_user]).split("-").first
    #    session['user'] = current_user = User.where(:id => user_id).first
    #    my_logger.info(user_id)
    #    my_logger.info(session['user'])
    # end
    # unless cookies[:my_user].present?
    #   # cookies.delete(:my_user)
    #   session['user'] = current_user = nil      
    # end
    # # my_logger.info("------------------------end------------------------\n") 

remotes/origin/andola-leaguer

remotes/origin/ssl_session_v1

ssl_session_v1

978bccc5b82b2998080167f0c3107baa

sql = "SELECT data from sessions where session_id = '2981d114fcd251a0ae02cb1495c0bb68' "



ed7902f18b7ce51842a6930284752859
ed7902f18b7ce51842a6930284752859


be8db08b285f5ff27865301bc7df550e

99f2e95a7fe204aace1f7b8eec1b8774




99f2e95a7fe204aace1f7b8eec1b8774
99f2e95a7fe204aace1f7b8eec1b8774


99f2e95a7fe204aace1f7b8eec1b8774
99f2e95a7fe204aace1f7b8eec1b8774





99f2e95a7fe204aace1f7b8eec1b8774
99f2e95a7fe204aace1f7b8eec1b8774



adc1466194421db901091f94712b8854
ed7902f18b7ce51842a6930284752859





>>Do you think we will be able to fix the session issue by tomorrow?
>Hope so....But not confirm
>As we are unable to fix it local dev
>
>So thats why taking so much time
>
>We should cut over with redirecting to subdomain for the organization now
>In second release we will push the session stuff

Email

Rails 3 - domain running >> Production mode
Facebook (John Wedo) credential >> to verify the login
Chat >> Temporary fix implement >> Cut over



Hi Carmen,

Please find the details as below:

Currently sordemo LB is pointing to rails3 production server that means sordemo.com, soccer.sordemo.com and sportsware.us is running on rails3 production code.
We have also changed the facebook creds(app_id and app_secret) to work with the domani sordemo.com.
Facebook login credentials: 
	Email: test@andolasoft.com
	Password: test1234

We also fixed the following open issues which are ready for test
	Account activation link not working
	Login with Facebook not working
	Custom form widget isn’t working


Please verify those changes and let us know your feedback so that we can go forward to do the cut over tomorrow.	
	
Best,
Amit




3bf5fb9e4d3c6afb35eabdf5eeeb501e
3bf5fb9e4d3c6afb35eabdf5eeeb501e



f3f0e8aae20d0434fcfc1032ac4833c6


ed7902f18b7ce51842a6930284752859
ed7902f18b7ce51842a6930284752859	



DT: Aug 19, 2015
=================
Error details saved to: /tmp/passenger-error-XHMzfz.html
  Message from application: undefined method `symbolize_keys' for nil:NilClass (NoMethodError)
  /var/www/html/Jenkins/workspace/SportOnRails/config/initializers/remit.rb:2:in `<top (required)>'

remotes/origin/andola-leaguer
remotes/origin/rails3_production

ok.  and please email me why the staging server broke when I deployed the different branch


Error information of staging server


If everything works fine, then
Comment all the entries to crontab in rails2 production

git rm amazon_fps.yml facebook.yml


=================================================================================================================================================================

Change the reference_host to leaguer.org(app/controller/application_controller/set_user_for_reference_host.rb) [This includes session fixes] DONE

Default host change to leaguer.org in production.rb DONE

Display maintenance page in rails3 production DONE

Add rails3 server node to LB in rackspace (Users will be able to see the maintenance page) DONE

Import the photos and files from remote server to rails3 production server by running the ruby script DONE

Change the server name(phizzed.com to leaguer.org) in virtual host configuration DONE

Change the SSL path in virtual host configuration DONE

Change database.yml credentials in both application server and background server DONE

Restart Apache in both application and background server

Restart Sidekiq

Deploy both the servers through Jenkin DONE

Modify Apache config to display application rather than maintenance page



RAILS_ENV=production rake db:sessions:clear
pkill -f sidekiq
bundle exec sidekiq -d -e production -L log/sidekiq.log




match  'account/disconnect_facebook' => 'account#disconnect_facebook', :as => 'disconnect_facebook', via: [:get, :post]



ServiceAccount.with_deleted.first


yes from 





if session['user'].blank? && !@global_organization.reference_host.include?("sordemo.com")
  sql = "SELECT data from sessions where session_id = '#{cookies[:_session_id]}' "
  result = ActiveRecord::Base.connection.execute(sql)
  data = result.first.first.to_s
  user = Marshal.load(::Base64.decode64(data))
  logged_user = user["user"]
  my_logger ||= Logger.new("#{Rails.root}/log/mydata.log")
  my_logger.info("--------set_user_for_reference_host--------------at---"+ Time.now.to_s + "-----------")
  my_logger.info(cookies[:_session_id])
  my_logger.info(data)
  my_logger.info(user) 
  my_logger.info(logged_user.present?)
  my_logger.info("------------------------end------------------------\n") 
  if logged_user.present?
	  session['user'] = current_user = logged_user
  else
	  session['user'] = current_user = nil    
  end
end
	
	
https://github.com/mikel/mail/blob/master/lib/mail/check_delivery_params.rb


	
RAILS_ENV=production rake db:sessions:clear
pkill -f sidekiq
bundle exec sidekiq -d -e production -L log/sidekiq.log


Delete contact us fomr


to create a new server as of phizzed.com

touch tmp/restart.txt

https://pradeep88.wordpress.com/2010/07/31/restarting-the-ruby-on-rails-applicationtouch-tmprestart-txt/


================================================================================================================================

I have talked with Auro sir. He said all the configuration are ok in the staging server.

I have sent him the apache config file of live. He will be checking it once he reaches home.

Since there is no issue with the configuration he needs to talk with you about the exact issue.


162.209.0.220 

rails3_production => replica phizzed
rails3_production_new => put this into sordemo LB




Main issue
 >> Photo upload
 >> Session sharing
 
 
 
 bigcityvolleyball.com => bigcityvolleyball.com(Dashboard)  _session_id before login
 bcv.leaguer.org



 # get the organization associated with the active domain
  def set_organization	
    @current_domain = self.get_domain || Organization::SPORTSONRAILS_REFERENCE_SUBDOMAIN
    organization = Organization.find(@current_domain.organization_id)	
    # Auto redirect to the target organization's reference domain.
    unless @current_domain.is_primary? || @rendering_404
      redirect_to "#{request.protocol}#{organization.reference_host}#{request.fullpath}"
    end
    Thread.current[:organization] = organization
    # Due to dynamic domain support, it's necessary to set the mailing host default per
    # request cycle.
    LeaguerExtensions::NotificationUtilities.configure_organization(organization)
  end

  def set_redirect_session

  
  Congratulations!
Your order been placed successfully.
 
Your order number is : 17312365
 
Thank You!


DT: Aug 21, 2015
==================
sordemo.com to 209.20.68.40
savvystreets.com to 209.20.68.40

leaguerdemo.com to 104.239.220.144
carmenbellavia.com to 104.239.220.144
sportware.us to 162.209.4.99



-rw-r--r-- 1 root root 4103 Feb 12  2014 leaguerdemo_com.ca-bundle
-rw-r--r-- 1 root root 2264 Aug 20 00:00 leaguerdemo_com.crt
-rw-r--r-- 1 root root 3272 Aug 21 05:21 leaguerdemo_com.key



-rw-r--r-- 1 root root 4103 Feb 12  2014 phizzed_com.ca-bundle
-rw-r--r-- 1 root root 2248 Aug 20 00:00 phizzed_com.crt
-rw-r--r-- 1 root root 3268 Aug 21 05:52 phizzed_com.key



sordemo.com to 209.20.68.40
savvystreets.com to 209.20.68.40

leaguerdemo.com to 104.239.220.144
carmenbellavia.com to 104.239.220.144
sportware.us to 162.209.4.99


160f891e178f41e14129fb59fd0e6c09

bd20a6323be2ba085cb03bfb5f6ff4d9



160f891e178f41e14129fb59fd0e6c09

--------session_redirect_id--------------at---2015-08-21 06:55:28 +0000-----------
564f2f05d2331672a4f14cdc5cd294b4
564f2f05d2331672a4f14cdc5cd294b4
bd20a6323be2ba085cb03bfb5f6ff4d9


564f2f05d2331672a4f14cdc5cd294b4





before login
=============
0703984216cdc0af723a7d7e6312c67b


if params[:_srid].present? && (session_redirect = SessionRedirect.find_by_redirect_id(params[:_srid]))


--------session_redirect_id--------------at---2015-08-21 09:17:19 +0000-----------
7a4f9d05509da6ecc1bcc423b70a9e43
7a4f9d05509da6ecc1bcc423b70a9e43
e5b383e8653df0d73941e5bfcdf4482c
--------redirect_to_reference_host_with_session_back_or_default--------------at---2015-08-21 09:17:19 +0000-----------
5f39c4317fdf9011c766a8edec668dd69aabfbf5
www.carmenbellavia.com
--------set_redirect_session--------------at---2015-08-21 09:17:20 +0000-----------
nil
5f39c4317fdf9011c766a8edec668dd69aabfbf5
7a4f9d05509da6ecc1bcc423b70a9e43
www.carmenbellavia.com
{"controller"=>"site", "action"=>"index"}


7a4f9d05509da6ecc1bcc423b70a9e43





bedc6a74db11f3db776b64421f062452
bedc6a74db11f3db776b64421f062452


a5b0f047b3a865f925f55ae532c306e6
a5b0f047b3a865f925f55ae532c306e6



DT: Aug 24, 2015
=================
>> photo upload issue
>> session clear issue
>> custom form reply delete issue DONE

<%#= link_to image_tag("icons/delete.png"), destroy_reply_administration_custom_form_path(:id => @custom_form.id, :custom_form_reply_id => reply.id), :method => :delete, :confirm => "Are you sure you want to permanently remove this form reply?" %>		
<a href="<%=destroy_reply_administration_custom_form_path(:id => @custom_form.id, :custom_form_reply_id => reply.id)%>" onclick="if (confirm('Are you sure you want to permanently remove this form reply?')) { var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var m = document.createElement('input'); m.setAttribute('type', 'hidden'); m.setAttribute('name', '_method'); m.setAttribute('value', 'delete'); f.appendChild(m);var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', '<%=form_authenticity_token%>'); f.appendChild(s);f.submit(); };return false;"><img alt="Delete" src="/assets/icons/delete.png"></a>


app/views/administration/custom_forms/_report_row_item.html.erb


http://www.anyonefamily.com/


bundle install
chmod -R 777 /var/www/html/Jenkins/workspace/Production_replica/tmp
chmod -R 777 /var/www/html/Jenkins/workspace/Production_replica/public


/var/www/html/old_leaguer





Started POST "/administration/photos" for 111.93.178.162 at 2015-08-24 04:14:11 -0500
Processing by Administration::PhotosController#create as */*
  Parameters: {"Filename"=>"Jellyfish.jpg", "valid_user"=>"true", "authenticity_token"=>"s5Rakf3DM5cYBfYU+7MwQKIenXhwfeqp/fXA8hBK8no=", "asset_group_id"=>"661", "_session_id"=>"86e32dabcbff666f35e5e31a7c0c729c", "Filedata"=>#<ActionDispatch::Http::UploadedFile:0x007fec511ea1f0 @original_filename="Jellyfish.jpg", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"Filedata\"; filename=\"Jellyfish.jpg\"\r\nContent-Type: application/octet-stream\r\n", @tempfile=#<Tempfile:/tmp/RackMultipart20150824-6843-iw5sk3>>, "Upload"=>"Submit Query"}
Completed 500 Internal Server Error in 20.1ms




dered widget/_show.html.erb (0.4ms)
  Rendered layouts/header_footer_designs/_header_footer_design_1.html.erb (9.4ms)
  Rendered shared/_copyright_powered_by.html.erb (0.4ms)
  Rendered shared/_google_analytics.html.erb (0.1ms)
Completed 200 OK in 102.6ms (Views: 79.8ms | ActiveRecord: 12.9ms)
Started POST "/administration/photos" for 111.93.178.162 at 2015-08-24 04:14:36 -0500
Processing by Administration::PhotosController#create as */*
  Parameters: {"Filename"=>"Lighthouse.jpg", "valid_user"=>"true", "authenticity_token"=>"s5Rakf3DM5cYBfYU+7MwQKIenXhwfeqp/fXA8hBK8no=", "asset_group_id"=>"661", "_session_id"=>"86e32dabcbff666f35e5e31a7c0c729c", "Filedata"=>#<ActionDispatch::Http::UploadedFile:0x007fec5c8e5800 @original_filename="Lighthouse.jpg", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"Filedata\"; filename=\"Lighthouse.jpg\"\r\nContent-Type: application/octet-stream\r\n", @tempfile=#<Tempfile:/tmp/RackMultipart20150824-6843-1oyv9kz>>, "Upload"=>"Submit Query"}
Completed 500 Internal Server Error in 18.1ms
** [Hoptoad] Timeout while contacting the Hoptoad server.
** [Hoptoad] Environment Info: [Ruby: 2.1.5] [Rails: 3.2.19] [Env: production]
** [Hoptoad] Failure: NilClass
** [Hoptoad] Environment Info: [Ruby: 2.1.5] [Rails: 3.2.19] [Env: production]
  Rendered /usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/exception_notification-3.0.1/lib/exception_notifier/views/exception_notifier/_request.text.erb (1.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/exception_notification-3.0.1/lib/exception_notifier/views/exception_notifier/_title.text.erb (0.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/exception_notification-3.0.1/lib/exception_notifier/views/exception_notifier/_session.text.erb (1.4ms)
  Rendered /usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/exception_notification-3.0.1/lib/exception_notifier/views/exception_notifier/_title.text.erb (0.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/exception_notification-3.0.1/lib/exception_notifier/views/exception_notifier/_e
  
  
  prod_replica servers
  
  
  
  
  
  phizzed.com 
  anyonefamily.com
  
  
  
  
my_logger ||= Logger.new("#{Rails.root}/log/my_log.log")
my_logger.info("--------set_user_for_reference_host--------------at---"+ Time.now.to_s + "-----------")
my_logger.info(@global_organization.reference_host) 
my_logger.info(cookies[:after_login_session].present? && !@global_organization.reference_host.include?("#{DEFAULT_HOST}"))
my_logger.info(DEFAULT_HOST) 
my_logger.info("------------------------end------------------------\n")	
  
  
  
  
  Added default host variable set_redirect_session in application controller
  
If you need access to my godaddy account I put the username and pw in dropbox in the production Web and DB server accounts file.  the pw for that file is leaguer123
  
  >>Deploy
  >> change db yml
  >> apache restart
  
For the first test, will you set up 2 new load balancers;   LEAGUERORG2_LB and LEAGUERORG2_LB_ssl that both have IPs 104.239.221.139

[11:20:50 AM] Carmen Bellavia: if that works, then we should be good
[11:21:41 AM] Carmen Bellavia: if that doesn’t work, then you’ll need to test pointing leaguer.org to the phizzed load balancer and see if that load balancer works with leaguer.org
  
  
  RAILS_ENV=production rake db:sessions:clear
  
  
  
  
http://soccer.leaguer.org/administration/teams/680


<a href="<%=destroy_reply_administration_custom_form_path(:id => @custom_form.id, :custom_form_reply_id => reply.id)%>" onclick="if (confirm('Are you sure you want to permanently remove this form reply?')) { var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var m = document.createElement('input'); m.setAttribute('type', 'hidden'); m.setAttribute('name', '_method'); m.setAttribute('value', 'delete'); f.appendChild(m);var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', '<%=form_authenticity_token%>'); f.appendChild(s);f.submit(); };return false;"><img alt="Delete" src="/assets/icons/delete.png"></a>


DT: Aug 26, 2015
=================
>> setting up new vagrant DONE
>> sidekiq issue DONE
>> cc add/delete issue 
>> registration issue
>> add keyword issue in post news



bundle exec sidekiq -d -e staging -L log/sidekiq.log

Carmen Bellavia

55 Ocean Ave
Apt 14M
Monmount Beach
NJ
07750

372717322203000
4/21
8826

/var/www/html/leaguerdemo_ssl/leaguerdemo.key
STAR_leaguerdemo_com.ca-bundle
STAR_leaguerdemo_com.crt


application layout



Started GET "/account/credit_cards?user_id=1" for 10.189.246.6 at 2015-08-26 23:51:32 -0500
Processing by Account::CreditCardsController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendered shared/_include_jquery.html.erb (1.3ms)
  Rendered account/credit_cards/new.html.erb within layouts/blank (10.9ms)
  Rendered shared/_custom_styling_support.html.erb (0.1ms)
  Rendered shared/_flashalert.html.erb (0.1ms)
Completed 200 OK in 34.5ms (Views: 14.2ms | ActiveRecord: 5.9ms)


DT: Aug 27, 2015
=================
remotes/origin/asset_analysis


<a href="/administration/news_item_keywords/32" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var m = document.createElement('input'); m.setAttribute('type', 'hidden'); m.setAttribute('name', '_method'); m.setAttribute('value', 'delete'); f.appendChild(m);var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', 'sOzmHNTrPKGpaKLoD9mhESXXUHSa8vV/QwprlMBCLbo='); f.appendChild(s);f.submit();return false;"><img alt="Delete" src="/images/icons/delete.png?1440266195"></a>


<a href="<%=administration_news_item_keyword_path(:id => keyword.id)%>" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var m = document.createElement('input'); m.setAttribute('type', 'hidden'); m.setAttribute('name', '_method'); m.setAttribute('value', 'delete'); f.appendChild(m);var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', '<%=form_authenticity_token%>'); f.appendChild(s);f.submit();return false;"><img alt="Delete" src="/assets/icons/delete.png"></a>


account/registrations/14823

<%= form_for @person, as: :person,

DT: Aug 28, 2015
=================
/var/www/html/leaguer_ssl/leaguer_org.ca-bundle
/var/www/html/leaguer_ssl/leaguer_org.crt
/var/www/html/leaguer_ssl/leaguer_org.key

Rails2: AirBrake

1.
https://bellaviacorp.airbrake.io/projects/11799/groups/1415374364779573948/notices/1496761052700966534

A NoMethodError occurred in registrations#new:
  undefined method `invites_to_individual_teams' for nil:NilClass
  app/controllers/registrations_controller.rb:17:in `new'

2.
https://bellaviacorp.airbrake.io/projects/11799/groups/1302488244086207734/notices/1496802325013036692


  
  	<a href="<%=administration_news_item_keyword_path(:id => keyword.id)%>" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var m = document.createElement('input'); m.setAttribute('type', 'hidden'); m.setAttribute('name', '_method'); m.setAttribute('value', 'delete'); f.appendChild(m);var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', '<%=form_authenticity_token%>'); f.appendChild(s);f.submit();return false;"><img alt="Delete" src="/assets/icons/delete.png"></a>
	
	
		<a href="<%=destroy_reply_administration_custom_form_path(:id => @custom_form.id, :custom_form_reply_id => reply.id)%>" onclick="if (confirm('Are you sure you want to permanently remove this form reply?')) { var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var m = document.createElement('input'); m.setAttribute('type', 'hidden'); m.setAttribute('name', '_method'); m.setAttribute('value', 'delete'); f.appendChild(m);var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', '<%=form_authenticity_token%>'); f.appendChild(s);f.submit(); };return false;"><img alt="Delete" src="/assets/icons/delete.png"></a>
  
  
50000
10,000
6,00,000







RAILS_ENV=production rake assets:precompile --trace


#       deleted:    app/assets/javascripts/builder.js
#       deleted:    app/assets/javascripts/controls.js
#       deleted:    app/assets/javascripts/dragdrop.js
#       deleted:    app/assets/javascripts/effects.js
#       deleted:    app/assets/javascripts/jquery-ui.js
#       deleted:    app/assets/javascripts/jquery-ui_bak.js
#       deleted:    app/assets/javascripts/jquery/1.7.1/jquery-ui.js
#       deleted:    app/assets/javascripts/jquery/1.7.1/jquery.js
#       deleted:    app/assets/javascripts/prototype.js
#       deleted:    app/assets/javascripts/prototype_new_versions/builder.js
#       deleted:    app/assets/javascripts/prototype_new_versions/controls.js
#       deleted:    app/assets/javascripts/prototype_new_versions/dragdrop.js
#       deleted:    app/assets/javascripts/prototype_new_versions/effects.js
#       deleted:    app/assets/javascripts/prototype_new_versions/prototype.js
#       deleted:    app/assets/javascripts/prototype_new_versions/scriptaculous.js
#       deleted:    app/assets/javascripts/prototype_new_versions/slider.js
#       deleted:    app/assets/javascripts/prototype_new_versions/sound.js
#       deleted:    app/assets/javascripts/prototype_new_versions/unittest.js
#       deleted:    app/assets/javascripts/rails.js
#       deleted:    app/assets/javascripts/scriptaculous.js
#       deleted:    app/assets/javascripts/sound.js



bundle exec whenever --update-crontab workspace --set environment='production'



Production Replica server:
162.209.0.220

Production Background Server:
166.78.100.101


Import the photos and files from remote server to rails3 production server by running the ruby script
Default host change to leaguer.org in production.rb
Change the server name(phizzed.com to leaguer.org) in virtual host configuration
Change the SSL path in virtual host configuration
Change database.yml credentials in both application server and background server
Restart Apache in both application and background server
Restart Sidekiq

DT: Aug 31, 2015
====================

Hi Amit,

Could we both the rails2 and the rails 3 environments pointed to by the same load balancer.  If we turned on “Session Persistence” then the user wouldn’t be routed between the rails2 and rails3 app servers during their sessions.   The only thing we would need to do is to not enable the cron jobs in the rails3 environment until we are ready to turn off the rails 2 environment completely.

Thanks
Carmen


Hi Carmen,

That should work. But we need to make sure that the sessions are correctly handled by the servers.
What I think we should run the rails2 and rails3 staging server parallel. And we will monitor how the requests are coming to different servers and they get the right response from the server.

We can point sordemo.com to leaguerdemo LB(104.239.220.144) and then add the leaguerdemo app server(rails3 staging server) and development1(rails2 staging server) server to that LB. 

Please share your thoughts.


Best,
Amit


Carmen, I also scare if the things get messed up.
If this is the scenario, then it will work,
User A requests LB(port 80) => server1
User A requests LB(port 443) => server1

But if, 
User A requests LB(port 80) => server1
User A requests LB(port 443) => server2

Then it would be huge problem.I was chatting with rackspace support team.

According to them,

You: User A requests LB(port 80) => server1 User A requests LB(port 443) => server1
You: is it correct?
You: or there is a chance,
You: User A requests LB(port 80) => server1 User A requests LB(port 443) => server2
Bruce B: Let me double check on that
You: okay
Bruce B: ok if User A requests LB(port 80) => server1 User A requests LB(port 443) => server1
Bruce B: this does not guarantee that they will get connected to server1 both times
Bruce B: They ma yget Server 1 the 1st time and server2 for 443



Best,
Amit



User A requests LB(port 80) => server1
User A requests LB(port 443) => server1


User A requests LB(port 80) => server1
User A requests LB(port 443) => server2



User A requests LB(port 80) => server2
User A requests LB(port 443) => server2



get messed up



this link might be helpful http://www.rackspace.com/knowledge_center/article/simple-load-balancing-with-apache

I tried testing notifications locally, but couldn't get mailcatcher to work
On vagrant, when I type mailcatcher, the program starts running and tells me I can access the notifications at 127.0.0.1:1080, but when I go to that IP address I get an error



26000/13

2481


DT: Sept 1, 2015
====================

/vagrant/new_dev/SportsOnRails/lib/leaguer_extensions.rb:667:in `associate_user_with_organization'
/vagrant/new_dev/SportsOnRails/app/controllers/account_controller.rb:255:in `block in create'





def self.associate_user_with_organization(user, organization)
      User.transaction do
        organization.usergroups.by_role(:member).users << user
        # In order to be sure to merge with a pending user of the newly associated
        # organization, just re-run through the standard matching process.
        match_preexisting_related_objects_to_user(user) if user.activated?
      end
      # also send an admin new member notice
      NotificationMailer.site_admin_account_created({
        :admin_emails => organization.users_email_address_by_role(:org_admin),
        :full_name_with_email => user.person.full_name_with_email,
        :birthdate => user.person.birthdate,
        :gender => user.person.gender
      }).deliver if organization.users_email_address_by_role(:org_admin).present?
    end


DT: Sept 2, 2015
====================



sandeep.acharya@andolasoft.co.in / sandeep1234

Gote bhala hotel dekha aji kali bhitare katibaku padiba na hele mo goibibo cash expire hei jiba...

gote hotel dekhichi 10500 padiba total 3 rooms pain for 2 days...

Please check and confirm


https://www.goibibo.com/hotels/detail/Shirdi/Anand%20Heritage/8543796975376836518/7404942134710886564/na/hotels-8543796975376836518-20151022-20151024-3-1_0-1_0-1_0/

Shirdi Mandir was also very walkable in 2 mins

ttttttttttset



unless Rails.env.development?
	$redis = Redis.new(:host => '162.209.1.20', :port => 6379)
	$redis.client.reconnect
end




unless Rails.env.development?
	Sidekiq::Web.use(Rack::Auth::Basic) do |user, password|
	  [user, password] == ["admin", "leaguer123"]
	end
	Sidekiq.configure_server do |config|
		config.redis = { :url => 'redis://162.209.1.20:6379' }
	end

	Sidekiq.configure_client do |config|
		config.redis = { :url => 'redis://162.209.1.20:6379' }
	end
end



if Rails.env.production?
	Sidekiq::Web.use(Rack::Auth::Basic) do |user, password|
	  [user, password] == ["admin", "leaguer123"]
	end
	Sidekiq.configure_server do |config|
		config.redis = { :url => 'redis://166.78.100.101:6379' }
	end

	Sidekiq.configure_client do |config|
		config.redis = { :url => 'redis://166.78.100.101:6379' }
	end
end

unless Rails.env.development?
	$redis = Redis.new(:host => '166.78.100.101', :port => 6379)
	$redis.client.reconnect
end



Processing RegistrationsController#new (for 10.189.245.11 at 2015-09-03 06:18:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"registrations", "team_invite_id"=>"29956"}
Redirected to https://dynamicssc.leaguer.org/registrations/84257/edit
Completed in 18ms (DB: 5) | 302 Found [https://dynamicssc.leaguer.org/registrations/new?team_invite_id=29956]


Processing RegistrationsController#edit (for 10.189.245.11 at 2015-09-03 06:18:32) [GET]
  Parameters: {"action"=>"edit", "id"=>"84257", "controller"=>"registrations"}
Rendering template within layouts/registration
Rendering registrations/new
Completed in 568ms (View: 526, DB: 36) | 200 OK [https://dynamicssc.leaguer.org/registrations/84257/edit]



Sidekiq
Add/Delete Credit Card
Photo Upload


http://www.prjrhawks.com/
prjrhawks.leaguer.org



 Rendered widget/_title.html.erb (0.0ms)
  Rendered widgets/text_items/_item.html.erb (0.1ms)
  Rendered widget/_footer.html.erb (0.0ms)
  Rendered widget/_show.html.erb (1.3ms)
  Rendered layouts/header_footer_designs/_header_footer_design_2.html.erb (29.6ms)
  Rendered shared/_copyright_powered_by.html.erb (0.5ms)
Completed 404 Not Found in 62.4ms (Views: 45.4ms | ActiveRecord: 6.7ms)
Started GET "/teams/majors-minors-spring-league-2015-8-12/yankees" for 157.55.39.80 at 2015-09-03 06:36:21 -0500

AbstractController::ActionNotFound (The action 'majors-minors-spring-league-2015-8-12' could not be found for TeamsController):
  actionpack (3.2.19) lib/abstract_controller/base.rb:116:in `process'
  actionpack (3.2.19) lib/abstract_controller/rendering.rb:45:in `process'

HTTP_USER_AGENT                                : Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)

HTTP_USER_AGENT                           : AdsBot-Google (+http://www.google.com/adsbot.html)


http://screencast.com/t/3pjYUKF1bv7  ==> move team issue in rails2

  
  
  app/controllers/account_controller
  from this line no: 384
  
  
  
  
Processing by AccountController#login as HTML
  Parameters: {"authenticity_token"=>"tcp0RZ4fP8t3tHcOow/mN3rJcOsNUP4fi3+W9EDdRco=", "connect_facebook"=>"false", "context"=>"", "operation"=>"login", "user"=>{"login"=>"ronnie.arreola@saeeng.com", "password"=>"[FILTERED]"}, "save_login"=>"1"}
Redirected to http://www.dynamicssc.com/?_srid=49cff06cb78a5f8e829fbe479c63fed33701f9c2
Completed 302 Found in 58.7ms (ActiveRecord: 17.9ms)
Started GET "/?_srid=49cff06cb78a5f8e829fbe479c63fed33701f9c2" for 64.186.160.238 at 2015-09-03 17:48:04 -0500
Processing by SiteController#index as HTML
  Parameters: {"_srid"=>"49cff06cb78a5f8e829fbe479c63fed33701f9c2"}
Redirected to http://www.dynamicssc.com/
Filter chain halted as :set_redirect_session rendered or redirected


2015-09-03 13:53:12 -0500

Started GET "/" for 64.186.160.238 at 2015-09-03 17:47:55 -0500

Started GET "/account/login" for 64.186.160.238 at 2015-09-03 13:53:40 -0500
Processing by AccountController#login as HTML
Redirected to https://dynamicssc.leaguer.org/account/login?_srid=93f1f734ebb663e5b99eb71ff8a745a1ee8bdb70
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 22.8ms (ActiveRecord: 8.6ms)
Started GET "/account/login?_srid=93f1f734ebb663e5b99eb71ff8a745a1ee8bdb70" for 10.189.245.11 at 2015-09-03 13:53:40 -0500
Processing by AccountController#login as HTML
  Parameters: {"_srid"=>"93f1f734ebb663e5b99eb71ff8a745a1ee8bdb70"}
Redirected to https://dynamicssc.leaguer.org/account/login
Filter chain halted as :set_redirect_session rendered or redirected
Completed 302 Found in 15.7ms (ActiveRecord: 5.0ms)
Started GET "/account/login" for 10.189.245.11 at 2015-09-03 13:53:41 -0500
Processing by AccountController#login as HTML
Redirected to
Completed 404 Not Found in 15.5ms




May be, User was able to login after sometime...I was looking into the log file and found some after login pages from his ip address
Could you followup with them


http://soccer.leaguerdemo.com/page/beach-copy/schedule.csv





made some changes in get_user_from_cookie method in application controller

session_id = params[:_session_id] || cookies[:_session_id] 


DT: Sep 7, 2015
================
Restrict ip >> 10.189.245.11

>> Rememeber issue fix
>> forgot password fix
>> Jenkins - Change time zone to eastern time DONE

b39bff1c4589f18f1a035a314217b950df5ba183
b39bff1c4589f18f1a035a314217b950df5ba183



4780ee6803f13487d9bf85ea22b1ff03
4780ee6803f13487d9bf85ea22b1ff03


4118f9125c2b2064605a6606e29eea2c
4780ee6803f13487d9bf85ea22b1ff03



125338be934982ea19397d6c811f69e95a155f00
eb49949bbd0784a5feea2b317541a262
125338be934982ea19397d6c811f69e95a155f00
my_logger ||= Logger.new("#{Rails.root}/log/current_user.log")
my_logger.info("--------login_user--------------at---"+ Time.now.to_s + "-----------")
my_logger.info(@global_organization.reference_host)
my_logger.info(Thread.current[:organization])
my_logger.info(DEFAULT_HOST)
my_logger.info(@global_organization.reference_host.include?("#{DEFAULT_HOST}"))


I don't know what time zone Jenkins is using, but the times that the builds are done is not eastern time, so I don't know when the build actually took place.
Please change the time zone in Jenkins to eastern.


Hi Carmen, We have changed the time zone in Jenkins to eastern. 
Please verify and let us know your feedback.


Best,
Amit



dfd4d105fe745a4a2bf2557d1306dbe24040403f auth_token

493b20be8d75ac8d5919e25b8c3009cb after_login_session

DT: Sept 8, 2015
====================

def set_user_private_domain    
	if session['user'].nil? && cookies[:auth_token]
	  user = User.find(:first,:conditions=>["remember_token=?",cookies[:auth_token]])
	  if user && !user.remember_token_expires.nil? && Time.zone.now < user.remember_token_expires
		 session['user'] = current_user =  @current_user = user
	  end
	end
end


4000
4000
2428
1600
1600
500
1600
2698
607
2000


a3929c63ff6a0c1d111643a79f21cd0f
0c62cd146c676d041c78b4da11f788d7


57d0517a233ea6dc63d0786d997138b5
57d0517a233ea6dc63d0786d997138b5
57d0517a233ea6dc63d0786d997138b5



rails g model SecurityQuestion question:text


  invoke  active_record
  create    db/migrate/20150908102207_create_security_questions.rb
  create    app/models/security_question.rb
  invoke    test_unit
  create      test/models/security_question_test.rb
  create      test/fixtures/security_questions.yml





Started GET "/users/edit" for 10.0.2.2 at 2015-09-08 10:32:48 +0000
Cannot render console from 10.0.2.2! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by RegistrationsController#edit as HTML
  User Load (1.5ms)  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Country Load (3.1ms)  SELECT "countries".* FROM "countries"
  Rendered users/registrations/edit.html.erb within layouts/application (15.8ms)
  Rendered shared/_javascripts.html.erb (807.5ms)
  Rendered shared/_google_analytics.html.erb (0.1ms)
  Rendered shared/_head.html.erb (1393.6ms)
  Rendered shared/_header_menu.html.erb (0.5ms)
  Rendered shared/_header.html.erb (51.4ms)
  Rendered shared/_footer_menu.html (0.1ms)
  Rendered shared/_social_media.html.erb (0.1ms)
  Rendered shared/_footer.html.erb (121.5ms)
Completed 200 OK in 1914ms (Views: 1900.8ms | ActiveRecord: 4.6ms)


Started GET "/assets/login.png" for 10.0.2.2 at 2015-09-08 10:32:51 +0000
Cannot render console from 10.0.2.2! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255


Started GET "/assets/search.png" for 10.0.2.2 at 2015-09-08 10:32:51 +0000
Cannot render console from 10.0.2.2! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
  
DT: Sep 9, 2015
==================

Registration Export - UTF-8 Encoding error
Then will push the site page guest user stuff 
Edit division issue fix


Then will try to fix rememeber issue 
315	Administration Teams - Team page - Add Player button doesn't work - probably an ssl issue


.encode("UTF-8").encode("ISO-8859-1")

.force_encoding("UTF-8").force_encoding("ISO-8859-1")

registration.comment.present? ? registration.comment.force_encoding("UTF-8").force_encoding("ASCII-8BIT") : ''

Auto-merging app/views/layouts/registration.html.erb
Auto-merging app/views/layouts/public.html.erb
Auto-merging app/views/layouts/account.html.erb
Auto-merging app/controllers/application_controller.rb
Merge made by the 'recursive' strategy.
 .../settings/score_keepers_controller.rb           |    2 +-
 .../settings/site_details_controller.rb            |    2 +-
 app/controllers/application_controller.rb          |   12 ++++++-----
 app/models/organization.rb                         |    2 +-
 app/models/registration.rb                         |    6 +++---
 .../settings/site_details/edit.html.erb            |   14 +++++++++++++
 .../settings/site_details/index.html.erb           |    4 ++++
 app/views/layouts/account.html.erb                 |    1 +
 app/views/layouts/public.html.erb                  |    1 +
 app/views/layouts/registration.html.erb            |    1 +
 app/views/shared/_adroll.html.erb                  |   22 ++++++++++++++++++++
 11 files changed, 56 insertions(+), 11 deletions(-)
 create mode 100644 app/views/shared/_adroll.html.erb

 passenger (5.0.11) lib/phusion_passenger/request_handler.rb:415:in `block (3 levels) in start_threads'
  passenger (5.0.11) lib/phusion_passenger/utils.rb:111:in `block in create_thread_and_abort_on_exception'


Started POST "/account/login" for 10.189.245.11 at 2015-09-09 08:03:12 -0500
Processing by AccountController#login as JS
  Parameters: {"authenticity_token"=>"sAduVZVmpBKUT6TLJgPuMTobZeXNhu0nNDLq9MdYVWw=", "connect_facebook"=>"false", "context"=>"registration", "operation"=>"login", "user"=>{"login"=>"jbgross3@gmail.com", "password"=>"[FILTERED]"}, "save_login"=>"1", "_"=>""}
  Rendered account/registration_login.js.rjs (6.0ms)
Completed 200 OK in 60.6ms (Views: 5.5ms | ActiveRecord: 17.5ms)
Started GET "/registrations/new?registration_product_id=5072&_srid=4caaa1ec9cbc9bb41acbf9d5ed41dd8abd508c0f" for 71.167.39.32 at 2015-09-09 08:03:12 -0500
Processing by RegistrationsController#new as HTML
  Parameters: {"registration_product_id"=>"5072", "_srid"=>"4caaa1ec9cbc9bb41acbf9d5ed41dd8abd508c0f"}
Redirected to http://www.chriswardbasketball.com/registrations/new?registration_product_id=5072
Filter chain halted as :set_redirect_session rendered or redirected
Completed 302 Found in 13.8ms (ActiveRecord: 4.4ms)
Started GET "/registrations/new?registration_product_id=5072" for 71.167.39.32 at 2015-09-09 08:03:12 -0500
Processing by RegistrationsController#new as HTML
  Parameters: {"registration_product_id"=>"5072"}
Redirected to https://chrisward.leaguer.org/registrations/new?registration_product_id=5072&_srid=18d12f4e81aa88d8d9d3b882eee8f55978fe22b6
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 16.2ms (ActiveRecord: 5.9ms)
Started GET "/registrations/new?registration_product_id=5072&_srid=18d12f4e81aa88d8d9d3b882eee8f55978fe22b6" for 10.189.245.11 at 2015-09-09 08:03:12 -0500
Processing by RegistrationsController#new as HTML
  Parameters: {"registration_product_id"=>"5072", "_srid"=>"18d12f4e81aa88d8d9d3b882eee8f55978fe22b6"}
Redirected to https://chrisward.leaguer.org/registrations/new?registration_product_id=5072
Filter chain halted as :set_redirect_session rendered or redirected
Completed 302 Found in 16.3ms (ActiveRecord: 5.4ms)
Started GET "/registrations/new?registration_product_id=5072" for 10.189.245.11 at 2015-09-09 08:03:12 -0500
Processing by RegistrationsController#new as HTML
  Parameters: {"registration_product_id"=>"5072"}
  Rendered shared/_fb_js.html.erb (0.1ms)
  Rendered registrations/shared/_product_pricing_details.html.erb (9.9ms)
  Rendered registrations/shared/_product_info.html.erb (10.6ms)
  Rendered account/_login.html.erb (4.5ms)
  Rendered registrations/_login.html.erb (5.0ms)
  Rendered registrations/_empty_contact_person.html.erb (3.3ms)
  Rendered registrations/_details_inner_form.html.erb (76.6ms)
  Rendered registrations/_details.html.erb (97.4ms)
  Rendered registrations/_waiver_summary.html.erb (0.1ms)
  Rendered registrations/new.html.erb within layouts/registration (127.8ms)
  Rendered shared/_meta_tags.html.erb (0.2ms)
  Rendered shared/_custom_styling_support.html.erb (0.1ms)
  Rendered shared/_custom_styling_support.html.erb (0.0ms)
  Rendered shared/_include_jquery.html.erb (1.2ms)
  Rendered shared/_google_analytics.html.erb (0.1ms)
  Rendered shared/_logo.html.erb (0.6ms)
  Rendered layouts/header_footer_designs/_header_content.html.erb (8.6ms)
  Rendered shared/_copyright_powered_by.html.erb (0.4ms)
  Rendered shared/_google_analytics_footer.html.erb (0.1ms)
  Rendered shared/_adroll.html.erb (0.4ms)
Completed 200 OK in 174.1ms (Views: 128.6ms | ActiveRecord: 25.1ms)
Started GET "/page/majors-2015/schedule/team/astros" for 188.165.15.41 at 2015-09-09 08:03:17 -0500
Processing by EventsController#index as */*
  Parameters: {"activity"=>"majors-2015", "division"=>"team", "team"=>"astros"}
  Rendered events/_division_result_row.html.erb (3.5ms)
  Rendered events/_division_results.html.erb (6.5ms)
  Rendered events/_completed_event.html.erb (80.9ms)
  Rendered events/index.html.erb within layouts/automated (122.8ms)
  Rendered shared/_flashalert.html.erb (0.2ms)
  Rendered shared/_meta_tags.html.erb (0.4ms)
  Rendered shared/_custom_styling_support.html.erb (0.1ms)
  Rendered shared/_include_jquery.html.erb (1.2ms)
  Rendered shared/_google_analytics.html.erb (0.1ms)
  Rendered shared/_fb_js.html.erb (0.2ms)
  Rendered account/shared/_account_login_menu.html.erb (1.1ms)
  Rendered shared/_logo.html.erb (0.6ms)
  Rendered widget/_title.html.erb (0.1ms)
  Rendered widgets/slide_show/_shared.html.erb (107.8ms)
  Rendered widget/_footer.html.erb (0.1ms)
  Rendered widgets/slide_show/_show.html.erb (152.4ms)
  Rendered widget/_title.html.erb (0.0ms)
  Rendered widgets/text_items/_item.html.erb (0.1ms)
  Rendered widget/_footer.html.erb (0.0ms)
  Rendered widget/_show.html.erb (1.7ms)
Read fragment views/organization_47_widget_menu_26525 0.3ms
  Rendered widget/_show.html.erb (0.8ms)
Read fragment views/organization_47_widget_menu_26526 0.1ms
  Rendered widget/_show.html.erb (0.3ms)
Read fragment views/organization_47_widget_menu_26527 0.1ms
  Rendered widget/_show.html.erb (0.3ms)
  Rendered widget/_title.html.erb (0.2ms)
  Rendered widget/_footer.html.erb (0.0ms)
  Rendered widget/_show.html.erb (1.0ms)
Read fragment views/organization_47_widget_menu_26529 0.2ms
  Rendered widget/_show.html.erb (0.5ms)
  Rendered widget/_title.html.erb (0.2ms)
  Rendered widget/_footer.html.erb (0.0ms)
  Rendered widget/_show.html.erb (1.0ms)
Read fragment views/organization_47_widget_menu_26531 0.1ms
  Rendered widget/_show.html.erb (0.4ms)
  Rendered widget/_title.html.erb (0.0ms)
  Rendered widget/_footer.html.erb (0.0ms)
  Rendered widget/_show.html.erb (0.9ms)
  Rendered widget/_title.html.erb (0.0ms)
  Rendered widget/_footer.html.erb (0.0ms)
  Rendered widget/_show.html.erb (1.0ms)
  Rendered layouts/header_footer_designs/_header_footer_design_2.html.erb (179.7ms)
  Rendered shared/_copyright_powered_by.html.erb (0.7ms)
  Rendered shared/_google_analytics_footer.html.erb (0.1ms)
  Rendered shared/_adroll.html.erb (0.4ms)
  Rendered layouts/public.html.erb (194.1ms)
Completed 200 OK in 396.1ms (Views: 282.7ms | ActiveRecord: 48.8ms)
Started GET "/administration/schedules/37100/edit" for 199.188.66.61 at 2015-09-09 08:03:20 -0500
Processing by Administration::EventsController#edit as JS
  Parameters: {"id"=>"37100"}
  Rendered administration/events/_new_event.html.erb (75.5ms)
Completed 200 OK in 103.8ms (Views: 73.3ms | ActiveRecord: 9.0ms)

DT: Sept 10, 2015
=======================
.triggerHandler('change'); 

we should update the robots.txt file


[Leaguer Error!] widget_items#destroy (NoMethodError) "undefined method `find_with_destroyed
318	Schedule Administration - Edit Selected: Changes time from PM to AM


 p self.start
    p DateTime.parse(self.start.utc.strftime("%m/%d/%y %H:%M:%S"))
    self.update_column :start, DateTime.parse(self.start.utc.strftime("%m/%d/%y %H:%M:%S")) if self.start.present? && self.start.strftime("%Y")[0..1] == "00"

    p self.start
	
strftime("%m/%d/%y %H:%M:%S%z")
	
Fri, 11 Sep 0015 19:00:00 LMT -04:56
Fri, 11 Sep 2015 19:00:00 -0456
Fri, 11 Sep 2015 19:56:00 EDT -04:00

	'0015-09-11 23:56:02'
	
Fri, 11 Sep 0015 19:00:00 LMT -04:56


Fri, 11 Sep 0015 20:00:00 LMT -04:56
Fri, 11 Sep 0015 20:00:00 LMT -04:56


 new_time = ""

 spl_time = time.split(" ")
 => ["Fri,", "11", "Sep", "0015", "20:00:00", "LMT", "-04:56"]
 spl_time.each_with_index do |t,i|
    if i == 3
		new_time += "2015"
   else
		new_time += t
   end
  end
 => ["Fri,", "11", "Sep", "0015", "20:00:00", "LMT", "-04:56"]
2.0.0-p598 :052 > puts new_time
Fri,11Sep201520:00:00LMT-04:56
	
time = self.start
spl_time = time.split(" ")
spl_time.insert(3, "2015")


0015-09-12 01:56:02

time = Event.last.start.to_s.split("-")
time[0] = "2015"
n_t = time.join("-")


9/10/2015

module ErrorTests


Hi Carmen, We fixed the time entry issue as AM and pushed the changes to production server.
Please verify and let us know your feedback.


Best,
Amit


Hi Carmen, We fixed the date import issue and pushed the changes to production server.
Please verify and let us know your feedback.


Best,
Amit
	
DT: Sept 11, 2015
==================
>> precompile assets in production DONE
>> update robot.txt
>> send email with instruction to carmen on db migrate DONE
>> internal use checkboxes
>> [Leaguer Error!] teams#move_team (NoMethodError) "undefined method `name' for nil:NilClass"
	http://screencast.com/t/3pjYUKF1bv7

cd /var/www/html/Jenkins/workspace/SportOnRails/
RAILS_ENV=staging rake db:migrate:up VERSION=

add_links_to_activity_search

Running migration on server

can we update our robot.txt file to prevent the robots from going to the cart, teams pages and other areas?
the bots don’t need to go to registration or login pages either

ActionController::RoutingError (No route matches [GET] "/assets/303/photos/14483/standard.jpg"):

554

s3a-65 mancheswar 


Server monitoring - Need to add monitoring and auto restart of apache if things time out

In the rails 2 environment, we have pingdom checking the server and we have code in place if the server is not responsive, then apache is automatically restarted.
We need to have this type of monitoring and auto-restarting in place to make sure we don't have any down time

Completed 200 OK in 107.8ms (Views: 83.6ms | ActiveRecord: 13.2ms)
** [Hoptoad] Timeout while contacting the Hoptoad server.
** [Hoptoad] Environment Info: [Ruby: 2.1.5] [Rails: 3.2.19] [Env: production]
** [Hoptoad] Failure: NilClass
** [Hoptoad] Environment Info: [Ruby: 2.1.5] [Rails: 3.2.19] [Env: production]


2acd9ac7a11adba89fcfc74f3f10a585305f637b

DT: Sept 14, 2015
===================
{"page_id"=>"5367", "position"=>"6", "layout_area_name"=>"column_650", "config_id"=>"13", "drop_element_id"=>"dropped_template_420", "_"=>""}


{"position"=>"6", "action"=>"add_config_template", "page_id"=>"5367", "config_id"=>"13", "drop_element_id"=>"dropped_template_874", "controller"=>"site_administration", "_"=>"", "layout_area_name"=>"column_650"}


coming to else part in creating temlate ----------------
"Widgets::InheritedGroup"
"Widgets::PageTitle"
"Widgets::NewsFeed"
"Widgets::PageContent"
"Widgets::EventList"
"Widgets::TeamRoster"
"Widgets::TeamStandings"
"Widgets::EventList"
"Widgets::TeamCoordinatorList"
"Widgets::SlideShow"


31589


:target_page_type: :team
:target_set_id: 1889
:show_timestamp: true
:show_details: true
:picture_format: :thumbnail
:show_author: true
:show_media: true
:keyword_filter: []
:display_max_number: 10
:show_link_to_older: false
:show_article: false
:display_max_days: 60
:make_ticker: false


fall 2014 u10


request.protocol.to_s
/assets/303/photos/14483/standard.jpg

http://screencast.com/t/DdnkIcMf


DT: Sept 16, 2015
===================

Holiday on September 17, 2015!

Hi Carmen,

Our office will remain closed on September 17, Thursday on account of Ganesha Chaturthi celebrated in honour of the lord Ganesha.
We will be back to work on September 18 2015.

Best,
Amit


Plan after db:migrate fix

>> Need to create a new db
>> Running the command "rake db:migrate"
>> import sql dump file into new db



uninitialized constant LoadBaseTableData::Fixtures/vagrant/new_dev/SportsOnRails/config/initializers/fix_already_loading_missing_dependencies.rb:9:in `forgiving_load_missing_constant'
/vagrant/new_dev/SportsOnRails/db/migrate/20081025024923_load_base_table_data.rb:5:in `up'

fixtures_dir = File.join(Rails.root, '/db/migrate/fixtures') #change '/spec/fixtures' to match your fixtures location
      Dir.glob(File.join(fixtures_dir,'*.yml')).each do |file|
      base_name = File.basename(file, '.*')
      puts "Loading #{base_name}..."
      next if base_name.to_s == "photo_albums"
      ActiveRecord::Fixtures.create_fixtures(fixtures_dir, base_name)
     end

>> Mysql2::Error: Can't DROP 'login'; check that column/key exists: ALTER TABLE `users` DROP `login`/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:245:in `query'
>> uninitialized constant RegistrationProcess/vagrant/new_dev/SportsOnRails/config/initializers/fix_already_loading_missing_dependencies.rb:9:in `forgiving_load_missing_constant'
>> Mysql2::Error: Duplicate column name 'recognition_token': ALTER TABLE `users` ADD `recognition_token` varchar(255)/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:245:in `query'
>> Mysql2::Error: Duplicate column name 'waiver_id': ALTER TABLE `pages` ADD `waiver_id` int(11)/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:245:in `query'
>> Index name 'IX_pages_waiver' on table 'pages' already exists/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract/schema_statements.rb:576:in `add_index_options'

>> Mysql2::Error: Can't create table 'sportsdev_new.#sql-36d_1de' (errno: 121): ALTER TABLE registrations
              ADD CONSTRAINT FK_registrations_registration_state
                  FOREIGN KEY (registration_state_id)
                  REFERENCES registration_states (id)
               ON DELETE RESTRICT
               ON UPDATE CASCADE/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:245:in `query'

>> Can't mass-assign protected attributes: name/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/activemodel-3.2.19/lib/active_model/mass_assignment_security/sanitizer.rb:48:in `process_removed_attributes'

>> undefined method `meta_description' for #<Organization:0xdda1080>/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/activemodel-3.2.19/lib/active_model/attribute_methods.rb:407:in `method_missing'

>> Mysql2::Error: Unknown column 'adapter_class' in 'field list': INSERT INTO `oauth_providers` (`access_token_path`, `adapter_class`, `authorize_path`, `consumer_key`, `consumer_secret`, `icon_path`, `name`, `request_token_path`, `scope`, `site`) VALUES ('/oauth/access_token', NULL, '/oauth/authorize', NULL, NULL, NULL, 'Twitter', '/oauth/request_token', NULL, 'https://api.twitter.com')/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:245:in `query'

>> Can't mass-assign protected attributes: name, position/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/activemodel-3.2.19/lib/active_model/mass_assignment_security/sanitizer.rb:48:in `process_removed_attributes'

>> uninitialized constant Deposits0::IpnTransactionLog/vagrant/new_dev/SportsOnRails/config/initializers/fix_already_loading_missing_dependencies.rb:9:in `forgiving_load_missing_constant'

>> uninitialized constant CustomForms::League/vagrant/new_dev/SportsOnRails/config/initializers/fix_already_loading_missing_dependencies.rb:9:in `forgiving_load_missing_constant'
/vagrant/new_dev/SportsOnRails/db/migrate/20110803175514_custom_forms.rb:19:in `up'

>> unknown attribute: pageable/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/activerecord-3.2.19/lib/active_record/attribute_assignment.rb:88:in `block in assign_attributes'

>> Mysql2::Error: Column 'layout_id' cannot be null: INSERT INTO `themes` (`layout_id`, `name`, `preview_image`, `stylesheet`, `thumbnail`) VALUES (NULL, 'Black-Yellow', NULL, NULL, NULL)/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:245:in `query'

DT: 18th Sept, 2015
=====================
>> log rotation
>> db migrate issue in production

ActiveRecord::Schema.define(:version => 20140128135435) d


<URI::HTTPS:0x007f38f7469858 URL:https://wepayapi.com/v2/checkout/create>


/var/www/html/Jenkins/workspace/SportOnRails

/var/www/html/Jenkins/workspace/SportOnRails/log/*.log {
  daily
  missingok
  rotate 12
  compress
  delaycompress
  notifempty
  copytruncate
}

pkill -f sidekiq
bundle exec sidekiq -d -e production -L log/sidekiq.log


-rw-------  1 vagrant vagrant 1679 Feb 20  2015 id_rsa
-rw-r--r--  1 vagrant vagrant  393 Feb 20  2015 id_rsa.pub


DT: 21sep, 2015
=================

D:\MyDev\new_dev\SportsOnRails\app\assets\javascripts\custom_js.js



Started GET "/" for 10.0.2.2 at 2015-09-21 05:39:48 +0000
Processing by SiteController#index as HTML
  Domain Load (0.7ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.7ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`name` = 'Leaguer' LIMIT 1
  Organization Load (0.8ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 3 LIMIT 1
  Domain Load (0.8ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'www' AND `domains`.`organization_id` = 1 LIMIT 1
  Organization Load (0.6ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`name` = 'Prototype' LIMIT 1
  Organization Load (0.6ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 LIMIT 1
Completed 500 Internal Server Error in 716.3ms

SystemStackError (stack level too deep):
  newrelic_rpm (3.9.9.275) lib/new_relic/agent/instrumentation/middleware_tracing.rb:67

  
mysqldump -h 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com -u admin -p sportsdev > sportsdev_921.sql
mysql -h localhost -u root -p sportsdev < sportsdev_921.sql



Hi Carmen, We found the same issue also exist in rails2 application. However we are trying to figure out the issue and will keep you posted.

http://screencast.com/t/LeCVK7IFN

Best,
Amit




SELECT `organizations`.* FROM `organizations` INNER JOIN `locations` ON `organizations`.id = `locations`.organization_id WHERE ((`locations`.id = 142))
SELECT `organizations`.* FROM `organizations` INNER JOIN `locations` ON `organizations`.`id` = `locations`.`organization_id` WHERE `locations`.`id` = 142 ORDER BY locations.name ASC LIMIT 1

also I went through to debug redirect loop issue

------------------------set_complete_state_pending_validation------------------
false
#<ActiveModel::Errors:0x10d09250 @base=#<OfficialEvent id: 8386, type: "OfficialEvent", event_state_id: 2, activity_id: 4462, home_team_id: 1811, visiting_team_id: 1812, venue_id: 154, start: "2014-10-26 12:30:00", start_assigner_id: 1, start_assigned_at: "2015-04-03 16:46:40", most_recent_start: nil, most_recent_start_assigner_id: nil, most_recent_start_assigned_at: nil, original_start: "2014-10-27 00:30:00", original_start_assigner_id: 1, original_start_assigned_at: "2015-04-03 16:46:40", kind: "game", published: true, creator_id: 8, created_at: "2015-04-03 16:46:40", updated_at: "2015-04-27 18:16:41", last_reminder_at: nil, name: "", description: nil, location_id: nil, start_time_null: false, end: nil, end_time_null: false>, @messages={:base=>["Invalid team assigments"]}>
true


100  40
5000 50*40=2000


RewriteEngine On
RewriteCond %{HTTP_HOST} !^www\. [NC]
RewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]


RewriteCond %{HTTP_HOST} ^[^\.]+\.[^\.]+$
RewriteRule ^/(.*)  http://www.%{HTTP_HOST}/$1 [L,R]

DT: 22sep, 2015
=================
>> 327	(Top priority for Monday) LeaguerDemo - Enter Scores isn't working when a venue is on a location
>> 328	Registration - Team Registration - Select from previous roster doesn't work if there's an apostrophe in a player's name
>> reset password

>> Build
>> RAILS_ENV=production rake db:migrate
	>> RAILS_ENV=production rake db:schema:dump
>> RAILS_ENV=production rake assets:precompile --trace
>> service httpd restart
>> pkill -f sidekiq
>> bundle exec sidekiq -d -e production -L log/sidekiq.log
>> service httpd restart


pkill -f sidekiq
bundle exec sidekiq -d -e production -L log/sidekiq.log


==  CreateStandings: migrating ================================================
-- add_column(:scores, :processed_flag, :boolean, {:default=>false})
   -> 0.3811s
-- add_column(:teams, :standings, :text)
   -> 0.2878s
-- add_column(:teams, :standings_rank, :integer)
   -> 0.2919s
-- add_column(:teams, :standings_rank_override, :integer)
   -> 0.2672s
==  CreateStandings: migrated (1.2285s) =======================================


RAILS_ENV=staging bundle exec rake s3db:backup

mysqldump: Got error: 1045: Access denied for user 'leaguerprod'@'10.178.0.128' (using password: YES) when trying to connect

S3DB_BUCKET
S3DB_SECRET_KEY_PATH
S3DB_DATABASE_CONFIG

ENV['S3DB_DATABASE_CONFIG'] = "production"

DT: 23sep, 2015
=================
>> db backup to s3 issue fix
>> Mobile App Estimation


bundle exec whenever --update-crontab workspace --set environment='production'



Hi Carmen, We found same issue also exist in rails2 application. However we will fix the issue and will keep you posted.
http://screencast.com/t/a3ejtr7bTzeY

Best,
Amit


DT: 24sep, 2015
=================
To implement log rotation in production server
To figure out reset password issue in production server
OS #328	Registration - Team Registration - Select from previous roster doesn't work if there's an apostrophe in a player's name 

Bikas
-------
>> OS #325	Infrastructure - All services must start correctly if a server is rebooted
	>> In my rails2 environment, we could reboot the server and all services (website, delayed_job, etc) would all start correctly and the site would automatically come up and work
>> Sidekiq should restart with Jenkin


OOPs Concept
	> class
	> object
	> polymorphism
	> Inheritance etc..
What is Framework?





vi /etc/logrotate.d/staging
892  cat /etc/logrotate.d/staging





/var/www/html/Jenkins/workspace/SportOnRails/log/*.log {
  weekly
  missingok
  rotate 12
  compress
  delaycompress
  notifempty
  copytruncate
}


/var/www/vhosts/sor/shared/log/*.log {
  weekly
  missingok
  rotate 12
  compress
  delaycompress
  notifempty
  copytruncate
}




/var/log/httpd/*log {
    missingok
    notifempty
    sharedscripts
    delaycompress
    postrotate
        /sbin/service httpd reload > /dev/null 2>/dev/null || true
    endscript
}


str.scan(/[aeoui]/).count



I was just checking in to see if you figured out the reset_password and new registration issues. And to hear about what other progress you made today.



I tried to simulate reset_password stuff but they worked correctly. Still trying to figure out the issue.
Other than this, we have integrated log rotation in production server and apostrophe issue has been fixed in staging server.


ActionView::Template::Error (Missing partial /account/reset_password with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :slim, :prawn, :prawn_dsl, :prawn_xxx, :rjs]}. Searched in:
  * "/var/www/html/Jenkins/workspace/Production_replica/app/views"
):
    1: page.replace_html 'login-form', :partial => '/account/reset_password'
  app/views/account/reset_password.js.rjs:1:in `block in _app_views_account_reset_password_js_rjs__2005275663973196245_83963140'
  app/views/account/reset_password.js.rjs:1:in `_app_views_account_reset_password_js_rjs__2005275663973196245_83963140'

 
 
 
DT: 25sep, 2015
=================

328	Registration - Team Registration - Select from previous roster doesn't work if there's an apostrophe in a player's name
315	Administration Teams - Team page - Add Player button doesn't work - probably an ssl issue
329	Tiny MCE - Link to file doesn't always work correctly
326	LeaguerDemo - Redirect Loop a major issue still
325	Infrastructure - All services must start correctly if a server is rebooted
323	Production SSL Issue - Why does this say we are using SHA-1
324	15 Reset Password Errors - Are these legitimate errors?
312	Server monitoring - Need to add monitoring and auto restart of apache if things time out
311	Deployment - Need to make deployment as easy as it was in rails 2
310	Post Go Live - Add back in Airbrake
309	Post Go Live - Set up Log Rotation


/var/lib/jenkins/jobs/BackgroundServer/workspace


/var/lib/jenkins/jobs/BackgroundServer/workspace/log/*.log {
  hourly
  missingok
  rotate 12
  compress
  delaycompress
  notifempty
  copytruncate
}






Why I will choose ruby language?
	1.
	2.
Overview of Ruby
Feature of Ruby
What is RVM?
Ruby 
	 >> Syntax
     >> Classes
     >> Variable
	 >> Operators

...
....
..... 
	 
Next plan of actions:


Lessons learnt

2.81 standard

3.68

top model >> 3.77 - ex showroom



RAILS_ENV=production rake assets:precompile --trace


Even i tried disabling javascript on browser



def paid
      all :joins => :order,
      :conditions => {
        'registrations.registration_state_id' => RegistrationState::STATES[:in_order].id,
        'registrations.held_at IS NOT NULL',
        'orders.order_state_id' => [ OrderState::STATES[:processed].id ]
      }
end




SyntaxError (/vagrant/SportsOnRails/app/models/activity.rb:51: syntax error, unexpected ',', expecting =>
/vagrant/SportsOnRails/app/models/activity.rb:52: syntax error, unexpected =>, expecting keyword_end
...     'orders.order_state_id' => [ OrderState::STATES[:proces...





SELECT `registrations`.* FROM `registrations` INNER JOIN `registration_products` ON `registrations`.`registration_product_id` = `registration_products`.`id` WHERE `registration_products`.`type` IN ('RegistrationProduct') AND `registration_products`.`page_id` = 5344 ORDER BY `registrations`.`id` DESC LIMIT 1


"SELECT `registrations`.* FROM `registrations` INNER JOIN `orders` ON `orders`.`id` = `registrations`.`order_id` WHERE `registrations`.`registration_state_id` = 6 AND `orders`.`order_state_id` IN (4) AND (registrations.held_at IS NOT NULL)"


SELECT `registrations`.* FROM `registrations` INNER JOIN `orders` ON `orders`.`id` = `registrations`.`order_id` INNER JOIN `registration_products` ON `registrations`.`registration_product_id` = `registration_products`.`id` WHERE `registration_products`.`type` IN ('RegistrationProduct') AND `registration_products`.`page_id` = 17 AND (registrations.registration_state_id = 6 and orders.order_state_id = [4])


SELECT `registrations`.* FROM `registrations` INNER JOIN `orders` ON `orders`.`id` = `registrations`.`order_id` INNER JOIN `registration_products` ON `registrations`.`registration_product_id` = `registration_products`.`id` WHERE `registration_products`.`type` IN ('RegistrationProduct') AND `registration_products`.`page_id` = 17 AND (registrations.registration_state_id = 6 and orders.order_state_id IN (4) and registrations.held_at IS NOT NULL)

SELECT `registrations`.* FROM `registrations` INNER JOIN `orders` ON `orders`.`id` = `registrations`.`order_id` INNER JOIN `registration_products` ON `registrations`.`registration_product_id` = `registration_products`.`id` WHERE `registration_products`.`type` IN ('RegistrationProduct') AND `registration_products`.`page_id` = 17 AND (registrations.registration_state_id = 6 and orders.order_state_id IN (4) and registrations.held_at IS NOT NULL)



Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 9.2ms (ActiveRecord: 1.7ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:41 +0000
Processing by SiteController#index as HTML
  Domain Load (0.6ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.8ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 9.5ms (ActiveRecord: 2.2ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:41 +0000
Processing by SiteController#index as HTML
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.8ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 9.5ms (ActiveRecord: 2.1ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:41 +0000
Processing by SiteController#index as HTML
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.7ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 8.7ms (ActiveRecord: 1.9ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:42 +0000
Processing by SiteController#index as HTML
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.8ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 9.2ms (ActiveRecord: 2.0ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:42 +0000
Processing by SiteController#index as HTML
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.8ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.6ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 9.6ms (ActiveRecord: 2.3ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:43 +0000
Processing by SiteController#index as HTML
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.9ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 9.5ms (ActiveRecord: 2.2ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:43 +0000
Processing by SiteController#index as HTML
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.8ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 9.4ms (ActiveRecord: 2.2ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:43 +0000
Processing by SiteController#index as HTML
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.8ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 9.4ms (ActiveRecord: 2.1ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:44 +0000
Processing by SiteController#index as HTML
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.7ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 8.6ms (ActiveRecord: 2.1ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:44 +0000
Processing by SiteController#index as HTML
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.7ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 8.7ms (ActiveRecord: 2.1ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:45 +0000
Processing by SiteController#index as HTML
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.7ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 8.7ms (ActiveRecord: 1.8ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:45 +0000
Processing by SiteController#index as HTML
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.8ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 8.8ms (ActiveRecord: 2.2ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:45 +0000
Processing by SiteController#index as HTML
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.7ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 8.5ms (ActiveRecord: 2.0ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:46 +0000
Processing by SiteController#index as HTML
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.7ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 8.8ms (ActiveRecord: 2.0ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:46 +0000
Processing by SiteController#index as HTML
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (1.2ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.8ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 10.6ms (ActiveRecord: 2.8ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:47 +0000
Processing by SiteController#index as HTML
  Domain Load (0.3ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.7ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (1.3ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 9.4ms (ActiveRecord: 2.7ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:47 +0000
Processing by SiteController#index as HTML
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.6ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 9.0ms (ActiveRecord: 1.9ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:47 +0000
Processing by SiteController#index as HTML
  Domain Load (1.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.6ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.3ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 10.3ms (ActiveRecord: 2.8ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:48 +0000
Processing by SiteController#index as HTML
  Domain Load (0.3ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.7ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.3ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.3ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 8.4ms (ActiveRecord: 1.7ms)
Started GET "/" for 111.93.178.162 at 2015-09-25 14:28:48 +0000
Processing by SiteController#index as HTML
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.7ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.6ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
Redirected to http://soccer.leaguerdemo.com/
Filter chain halted as :enforce_ssl rendered or redirected
Completed 302 Found in 9.3ms (ActiveRecord: 2.2ms)



DT: sept 28, 2015
===================
LegD#guer*!2%

Code security


Hi Carmen,

We have verified the Apache virtual host configuration once again and found that we are using the new ssl certificate not the older one.
We discussed with rackspace support team and according to them "old ssl certificate is being cached in some places". And browsers are able to cache ssl certificates too.


Best,
Amit


soap vs restful
soap
communication happens only in xml

restful
lightweight
simple http
return type is various types

== and ===


Document how to set up and configure the development environment (CB must have dev environment running on his machine)




admin@leaguer.org


Dynamiccs
Big city volley ball




/user/:org_id/:auth_token

/user/1/3dfsfdsfsdfsdf
/user/2/3dfsfdsfsdfsdf

{:1=> }

{:2=> }

DT: 30 Sept, 2015
=====================


>> alignment of login page
>> test it also in ios device

Ruby
--------------
How to execute a ruby file?
is rvm is mandatory to install ruby?
Benefits of RVM?
Go through various commands of RVM?
How to input from keybaord?
	>> what is your name: 
		Iput: xyz
	o/p: Hi! Your name is xyz
	
Leaguer
---------------
iOS and Anroid
	>> UI related
	
#  issue Dev Status QA Status  andorid  iOS	


	
id: 13004
  person_id: 46039

id: 13006
  person_id: 46041

http://screencast.com/t/Z7G9OCx3m
  
  
  --- !ruby/object:GuestUser
attributes:
  id: 13003
  person_id: 46038
  password: 
  salt: 
  is_active: true
  activation_code: 
  remember_token: 
  remember_token_expires: 
  recognition_token: 
  type: GuestUser
  is_temp_password: false
  created_at: 2015-09-30 06:06:17.000000000 Z
  updated_at: 2015-09-30 06:06:17.000000000 Z
  hide_mobile_not_configured: false
  deleted_at: 
  fb_user_id: 
  fb_access_token: 
  fb_access_token_expires: 
  fb_first_name: 
  fb_last_name: 
  fb_email: 
Items In Your Cart
--- true
...
--- 13003



--- !ruby/object:GuestUser
attributes:
  id: 13004
  person_id: 46039
  password: 
  salt: 
  is_active: true
  activation_code: 
  remember_token: 
  remember_token_expires: 
  recognition_token: 
  type: GuestUser
  is_temp_password: false
  created_at: 2015-09-30 06:06:22.000000000 Z
  updated_at: 2015-09-30 06:06:22.000000000 Z
  hide_mobile_not_configured: false
  deleted_at: 
  fb_user_id: 
  fb_access_token: 
  fb_access_token_expires: 
  fb_first_name: 
  fb_last_name: 
  fb_email: 
Items In Your Cart
--- false
...
--- 13004
...


d6e2064562fde46a170f4b9f45c6cdc8	

http://www.sportsware.us/cart?_ga=1.12504500.128850886.1441621920


0ccb27c2b455a576ff0a4bf38675d16a
feea1efa3b030088f568c8fad28c619a


d6e2064562fde46a170f4b9f45c6cdc8



my_logger ||= Logger.new("#{Rails.root}/log/cur_user.log")
my_logger.info("--------set_user_for_reference_host--------------at---"+ Time.now.to_s + "-----------")
my_logger.info(user)
my_logger.info("------------------------end------------------------\n") 

skip_before_filter :enforce_ssl, :only => [:index]
before_filter :cart_enforce_ssl, :only => [:index]

def cart_enforce_ssl
  if request.ssl?
	redirect_to "http://#{Thread.current[:organization].reference_host}#{request.fullpath}"
	return false
  end
end

skip_before_filter :enforce_ssl, :only => [:index]
before_filter :cart_enforce_ssl, :only => [:index]

def cart_enforce_ssl
	if request.ssl?
		redirect_to "http://#{Thread.current[:organization].reference_host}#{request.fullpath}"
		return false
	end
end



Unless a real user will not come up with the new registration and reset password issue, we cant figure it out
because we are already tried from every scenario and found to be working fine






[7:13:24 PM] Carmen Bellavia: Hi Anurag.  I think we need to have a call on Friday
[7:13:40 PM] Carmen Bellavia: We have a long list of serious issues and it’s getting longer

[7:15:06 PM] Carmen Bellavia: These are things that should have been completed before final payment, but I made the payment on good faith. 
Things like the as the ssl issue on the cart, the registration new and account reset issue
The instability of the leaguerdemo staging environment
Airbrake
etc.
[7:15:14 PM] Carmen Bellavia: plus we need to get the transfirst integration completed
[7:15:36 PM] Carmen Bellavia: Plus the local development environment needs to be able to run on apache/passenger
[7:16:08 PM] Carmen Bellavia: There is a long list and I think we need to allocate more people to the work because my clients are losing patience



DT: Oct 1, 2015
===================
Airbrake - Need to get airbrake working again in production and leaguerdemo environments
328	Registration - Team Registration - Select from previous roster doesn't work if there's an apostrophe in a player's name
330	URGENT ISSUE - Add products to cart doesn't work when user not signed in
329	Tiny MCE - Link to file doesn't always work correctly
315	Administration Teams - Team page - Add Player button doesn't work - probably an ssl issue
326	LeaguerDemo - Redirect Loop a major issue still
323	Production SSL Issue - Why does this say we are using SHA-1
324	15 Reset Password Errors - Are these legitimate errors?
321	LeaguerDemo - Site builder not working
312	Server monitoring - Need to add monitoring and auto restart of apache if things time out
309	Post Go Live - Set up Log Rotation



ssl issue on the cart
 >> Issue is not happening all the time(http://screencast.com/t/FItJuKdca)
the registration new 
 >> trying to simulate issue
account reset issue
 >> Fixed in leaguerdemo
instability of the leaguerdemo staging environment  
the transfirst integration completed



http://screencast.com/t/FItJuKdca

225f82a68c6deb8376eef696b2ba41f4
2da22e66b99cfe565a5405e67fcc7109

Convert entered inputs into array and display 
 Please input array size: 2
 
Remove empty string from array 
 Please input array size: 4
 ["","a","ab",""]
 ["a","ab"]
 
Collect highest and lowest number from array of numbers  
 if user type "End/end" => 
 validate input >> only integer
 [1,5,8,0]
 highiest is 8
 low 0
 
Print array from reverse order  
 if user type "End/end" => 
 ["a","ab"] => ["ab", "a"]

Input number of integers and remove the numbers from array if greater that 5
 if user type "End/end" => 
 validate input >> only integer
 
 [1, 15, 2, 5 , 6] => [1, 2 , 5]
 >>Input the 5 number of strings >> convert it to array 
	>> ask for again string >> check if it is present inside array 
	['a', 'e', 't']
	t
>> Combine both arrays and remove duplicate values 
>> Input string as name >> remove the first and last item form the list and display 
>> User input comma separated for array 3 elements => 2 times and find matching and non-matching items in both array  
>> Generate two hashes :  "colors"  => ["red", "blue", "green"] and "letters" => ["a", "b", "c"]. Remove first and last item from that hash 
>> User input for key & value 2 times >> Generate the hash >> Ask for key and display the value. Check key and value is present or not  
>> Replace the hash key and values (reverse keys with values)  
>> Generate two hashes and merge them  



DT: Oct 2, 2015
===================
www.leaguer.org
 soccer.leaguer.org
 bigcityvolleyball.com

lth.me:3000
 soccer.lth.me:3000
 



Upcoming Holiday on Friday, 2nd October

Hi Carmen,

Our office will remain closed on Friday, 2nd October on account of Gandhi Jayanti (National Holiday).
However we will be meeting at Friday 10:30 AM EST.

We will resume to work on Monday, 5th October.

Best,
Amit

Yes, post it but also mention that we will be meeting at Friday 10:30 AM EST.
the weird thing is that I haven’t heard customers mention this to me

DT: Oct 5, 2015
===============
Mobile 
-------------
>> Share the project build to Carmen DROPBOX
>> Notify in OS
>> API for login
>> Excelsheet for API
>> Requirement github repositorys

carmen@leaguer.org

Web
-------------
>> Redirection issue in reset password
>> Capistrano Deployment

DT: Oct 6, 2015
===============
jim@sportsonrails.com/password


b9c5aea022c82304c48960133cfaafa9
b9c5aea022c82304c48960133cfaafa9


20440




Leaguer Mobile - Milestone1 complete - Request to signoff

Hi Carmen,

We have completed the milestone-1. Please find the status as follows:

	Set up Development Environment 
		Decide on mobile app development framework (Rhodes / Sencha+Cordova).
		Create development environment, accounts, install prerequisite software, etc.
	Finalize Application Design
		Determine final page/view design style, look & feel, colors, etc. based on mockups.
		Document how to set up and configure the development environment 

We have already shared the instructions on setting up the dev environment. We will send you a mobile build after getting your device's UDID(Already sent the details on a separate email thread)

Requirement:
 Github repository for mobileapp
 UDID of device
		
We request you to sign off milestone-1.



cookies[:after_login_session] = {:value => "test data",:domain => Thread.current[:organization].reference_host.to_s}   

Hi Carmen,

As we have some restrictions for pages according to roles. Can you tell us that which type user should see specific pages and how these menus is going to work in mobile application.

My Schedule
Registartion
Make a payment/Order History
News
Teams & Team Payment
Cart
Manage Schedules



What query should fire for myschedule


 
c3f0ee4bb2450d47eafce47fde72a1b86d60eda2

Hi Carmen,

We have explained on the video regarding restoring of database from amazon s3.
http://screencast.com/t/k9YnCe2f5qqY

Please find the steps as follows:

Go to project folder
RAILS_ENV=staging rake s3db:latest:fetch
cd db(As the latest dump file is being stored inside db folder named as "latest_dump.sql")
mysql -h <host> -u <username> -p <db name> < latest_dump.sql

Please let us know if you have questions.

Best,
Amit




cookies[:after_login_session] = {:value => "sfdsfsdfsdf",:domain => Thread.current[:organization].reference_host.to_s}  



def reset_password
    Rails.logger.info "----------------------------------------reset passeword"
    Rails.logger.info cookies[:_session_id]
    Rails.logger.info Thread.current[:organization].reference_host.to_s
    cookies[:after_login] = {:value => "sfdsfsdfsdf",:domain => Thread.current[:organization].reference_host.to_s,:http => true}
    Rails.logger.info cookies[:after_login]
    detect_xhr_redirect
    @context = params[:context]
    if request.post?
      #find the user that is currently logged in
      @user = User.find(:first,:conditions=>['id=?',session['user'].id])
      unless @user.nil?
        # make sure the passwords match and fit model validations
        @user.password = params[:user][:password]
        @user.password_confirmation = params[:user][:password_confirmation]
        if @user.valid?
          #change the password
          @user.is_temp_password = false
          if @user.save
           # redirect_to('/account') # process_login(params[:context])
           redirect_to_reference_host_with_session_back_or_default :controller => "site", :action => "index"
          end
        end
      end
    else
      params = session.delete('redirect_params')
      @context = params && params[:context]
    end
  end
333	Reset Password - Not showing user is signed in on top level domain

DT: Oct 8, 2015
===============
ActiveModel
 >> ActiveRecord::Base
 >> CRUD
 >> validation
 >> callback
 >> ORM  
 >> User -> users 
 >> Generating migration
 >> rails g model User name:string email:string
 >> role of db/schema.rb
 >> finder method
 
5 => 4
1
table:

schema_migrations 
 2014874521
 2015412323
 
Database 
 rake db:create
	  db:migrate
	  db:setup
	  db:reload
What is rake?
what is middleware?
ActionController
Convention Over Configuration

SQL
===================
insert 
update
delete
drop
IN



1398595030461154
ed3b24a54d70ae18a51f65e6b7057195






Started POST "/account/sign_in_with_facebook" for 10.0.2.2 at 2015-10-08 10:11:41 +0000
Processing by AccountController#sign_in_with_facebook as HTML
  Parameters: {"utf8"=>"â", "authenticity_token"=>"Uc7fzSxZ7GIIDIl/SffZUEBzRf99imwJ9M1CzWr415g="}
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.4ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.6ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
  Theme Load (0.4ms)  SELECT `themes`.* FROM `themes` WHERE `themes`.`id` = 1 LIMIT 1
  Layout Load (0.3ms)  SELECT `layouts`.* FROM `layouts` WHERE `layouts`.`id` = 3 LIMIT 1
  User Load (2.3ms)  SELECT `users`.* FROM `users` WHERE `users`.`fb_user_id` = '821895421223000' AND (`users`.`deleted_at` IS NULL) LIMIT 1
** fb profile: {"id"=>"821895421223000", "birthday"=>"10/29/1970", "email"=>"test@andolasoft.com", "first_name"=>"John", "gender"=>"male", "last_name"=>"Wedo", "link"=>"https://www.facebook.com/app_scoped_user_id/821895421223000/", "locale"=>"en_GB", "name"=>"John Wedo", "timezone"=>5.5, "updated_time"=>"2015-06-10T06:38:40+0000", "verified"=>true}
  PasswordUser Load (12.5ms)  SELECT `users`.* FROM `users` INNER JOIN `people` ON `people`.`id` = `users`.`person_id` AND `people`.`type` IN ('UserPerson') INNER JOIN `emails` ON `emails`.`person_id` = `people`.`id` WHERE `users`.`type` IN ('PasswordUser') AND `emails`.`address` = 'test@andolasoft.com' AND (`users`.`deleted_at` IS NULL) LIMIT 1
   (0.6ms)  BEGIN
   (1.3ms)  UPDATE `users` SET `fb_user_id` = '821895421223000', `fb_access_token` = 'CAAT4A8f5quIBAACWjV1AgDNaTQY47btpOAABqLvx74DtZBNOyn5Yr0eNAJZB8f5cA5yK4YZCe530cMuqZBmOjYJYbjBiRN7li3Cr1FmUvCApY3zbqgBbM8yAZCqPtIAAcopdprSrPnfRgHy4iWrvEneeXE3Md7dOopZAcZBa60B7KkGRPVquvbplCJ7dXNKWmF2BIBrJGnM288VeZBxZBYO5r', `fb_access_token_expires` = '2015-10-08 12:00:00', `fb_first_name` = 'John', `fb_last_name` = 'Wedo', `fb_email` = 'test@andolasoft.com', `updated_at` = '2015-10-08 10:11:46' WHERE `users`.`type` IN ('PasswordUser') AND `users`.`id` = 9560
  SQL (1.3ms)  UPDATE `users` SET `fb_user_id` = NULL, `fb_access_token` = NULL, `fb_first_name` = NULL, `fb_last_name` = NULL, `fb_email` = NULL WHERE (`users`.`deleted_at` IS NULL) AND (`id` <> 9560 AND `fb_user_id` = '821895421223000')
   (19.8ms)  COMMIT
  Usergroup Load (1.1ms)  SELECT `usergroups`.* FROM `usergroups` INNER JOIN `usergroups_users` ON `usergroups`.`id` = `usergroups_users`.`usergroup_id` WHERE `usergroups_users`.`user_id` = 9560 AND `usergroups`.`organization_id` = 48
   (0.6ms)  BEGIN
   (1.1ms)  UPDATE `users` SET `recognition_token` = 'bd7e09812715f08bdd08ddb009a42a1ddddc76c1', `updated_at` = '2015-10-08 10:11:46' WHERE `users`.`type` IN ('PasswordUser') AND `users`.`id` = 9560
   (5.2ms)  COMMIT
   (0.4ms)  BEGIN
  SQL (0.6ms)  INSERT INTO `session_redirects` (`created_at`, `redirect_id`, `session_id`, `updated_at`) VALUES ('2015-10-08 10:11:47', '21154aa277367a857406261951c261ab449992ea', 'ec4e377b724c0968922222cd7cb5065a', '2015-10-08 10:11:47




"821895421223000"
"CAAT4A8f5quIBAL03VUNPX4ZC3MUpOZBoMm4QhQxPp8e4Yf6y4ZAQxCZBZBk6ze8X5bdZBSVHlucCzPnazWJWmX2r5BlJOWz47G2vFkDnWBk74bnGy6qZBhMyEzwap0YNO8s3fZBT08ZALZBi3C5TukIMJzzGIvQyWUBcvkfgUJKsNcF7FhnM1x1TW3HI1ZCw9EgGPeom6pZAOiabLUBz1wMKJkGl"
6921 seconds


"821895421223000"
"CAAT4A8f5quIBAEzVSqU8goQPl9UcbZCgYWtFHaqoDFC2lurM4yG9a715zgMN6w6yWNsD5KnfcX42wW7Y6DIPISfsFSmHZCRmNVUdhk8WZBNyz8l5ZBr8ZBVMZAcpwZAbX1a3TCP1v0h22FYsZBZCblZCT0cbdE9vdiq8pBwry2Kcyi8Ho8tiWGevdreX30akNHxk6m4XFjZBQYEQB1ZBJHtpDRvz"
6642 seconds



192.168.2.117

3413e7ee7a8f59326a31eb43f51f7512


API - Normal Login

Hi Carmen,

We have integrated API for normal user login. Here are the details.

The required parameters are:

email
password

Added validation to check if the current combination of email and password already in the database, then it will let the user login
In case of authentication failure, it will return error message

The URL of the Login API is 
http://162.209.4.99/api/v1/account/login?email=&password=


Example of response for Login API for successful login is 
	{
	status: "success"
	action: "allow"
	auth_token: "5daef76c98e8f2deca4a7f4fadc84932",
	fb_connected: "false",
	-organizations_list: [4]
		-0:  {
			org_id: 1
			name: "Leaguer"
			logo_url: "/images/logos/d2d2a097-31fc-46a6-8877-c9a30dd30a5b.png"
		}
		-1:  {
			org_id: 6
			name: "Crown Heights Softball"
			logo_url: "/images/logos/6ff8e892-af63-4639-801c-c6319e0e58d6.jpeg"
		}
		-2:  {
			org_id: 48
			name: "USYS Demo Site"
			logo_url: "/images/logos/a1acdcd7-b9a4-40ff-93e5-795140027b40.jpeg"
		}
		-3:  {
			org_id: 50
			name: "Volleyball Demo League"
			logo_url: "NA"
		}
	}

Example of response for Login API for unsuccessful login is
	{
		status: "error"
		error_ident: "login_failed"
		message: "email and/or password are not valid"
	}


PS: All the API related stuffs are deployed to "rails3-api" branch only


Best,
Amit

API - FBLogin
set_user_and_organization

f5ce83fbe2b43b805b874aece6f50636
48

ZjVjZTgzZmJlMmI0M2I4MDViODc0YWVjZTZmNTA2MzY=
NDg=

http://192.168.2.159:3000/api/v1/myschedule/ZjVjZTgzZmJlMmI0M2I4MDViODc0YWVjZTZmNTA2MzY=/NDg=




>> Github clone on Windows and Mac
>> Push updated file to repository
>> css issue fix
>> overall testing


I was able to install the development environment, but I can't get the app to build on my computer.  How do I get the leaguer mobile app to run on my computer?
http://screencast.com/t/8RYKXE0CB


Hi Carmen,

It seems some dependency library files is not installed correctly on your machine. It will be good for us if you can send the ionic environemnt details by runnign the following command on console

$>ionic info 

We can also run the application in xcode itself by adding provision profile. It is faster and we can run the application on device also.
We have shared you the provision files on dropbox(carmen@leaguer.org) and please find the instructions as attached documentto run the application after adding the provision profiles to xcode.

Please let us know if you are still facing any issue.


Best,
Amit

DT: October 12, 2015
=====================
http://192.168.2.159:3000/api/v1/myschedule/ZjVjZTgzZmJlMmI0M2I4MDViODc0YWVjZTZmNTA2MzY=/NDg=


games.each {|game| 	all_games << game.to_listing } bodywash



Find out the number of fibonacii strings present in array
["gdg", "getsa", "iop", "lkj", "ere"]
end
2
aba => aba
fb signin
NWRhZWY3NmM5OGU4ZjJkZWNhNGE3ZjRmYWRjODQ5MzI=
NDg=
[1,2,3]
123
0..array_length
	[o] => "aaa"
end

Elephant => Ele
Elephant => ph
House => ho

/var/www/html/Jenkins/workspace/Production_replica{

}
/var/www/html/Jenkins/workspace/Production_replica/*log {
    missingok
    notifempty
    sharedscripts
    delaycompress
    postrotate
        /sbin/service httpd reload > /dev/null 2>/dev/null || true
    endscript
}

gem "capistrano", "2.5.20"
gem "capistrano-ext", "1.2.1"

  


Started POST "/api/v1/account/fb_login?fb[uid]=809910415779925&fb[access_token]=CAAVDlFG4onMBAMs4IdqtBwuojX0dlgLg5sElKEWFYC8xHowk9V4N3ohXktQvn98yVENmlWBTdBG4ZCRIEgVHi2PE6EBwCboTPoQVhlgk7q7Udh2Gqe4kBxExVT5Esx3BD6xFK9wQkCzpraqGvgL7Qk5JappRwRBFmpw8yeeATVRhmcbQZBNxrmY4pZAZCZA4ZD&fb[expires]=8559&fb[email]=madhu@gmail.com&fb[first_name]=Madhu&fb[last_name]=Smita"



>> FB (search for expire)
>> 

  
  http://www.sportsware.us/
  
  
DT: october 13, 2015
=====================
Madhusmita
-----------
facebook for android with testing - 1hrs
message for Invalid user in case of facebook and normal login - 1hr
Adding splash screen - 1hr
Sportsware login and listing page-1hr-1.5hr
  
Amit
-----
web
----
capistrano deployment on staging


api
----
> modify login api for authorization with organization
> fb expires
> my schedules >> schedule list
48

An account does not exist for email you entered. Please verify the email and password you entered are correct or create an account on the  website

Q:
Write a ruby program to find the date in a specific quarter
Ex: User will give me the date range

mm-dd-yyyy
01-01-2015

01-01-2016

Quarter-1 range
Quarter-2  ""
Quarter-3  ""
Quarter-4  ""


Please enter a date: 05-06-2015
05-06-2018



leaguer main app
-------------------
normal login
	>> validate email and password
	>> if success return number of leagues(aka organization) associated with org
	>> if failure, return validation message
Fb login	
	>> validate fb uid 
		>> if success return number of leagues(aka organization) associated with org
	>> fb uid is not present, but email is present in db
		>> update token on behalf of email id and success message
    >> if failure, return validation message

private mobile app
-----------------------
normal login
	>> validate email and password in specific organization
	>> if success return success message
	>> if failure, return validation message
	
Fb login	
	>> validate fb uid 
		>> if success return success message
	>> fb uid is not present, but email is present in db
		>> update token on behalf of email id and success message
    >> if failure, return validation message


  >> took only status and auth token



1851
1846

DT: 14th October, 2015
========================
> set timezone for user
> expire fb
> if one organization, then go to my schedule


>> Calendar count
>> Select organization screen >> if one organization, then go to my schedule
>> Overall testing
>> Cross platform compatibility


login DONE
FB login DONE
Slect O



1851,1846

1851, 1788, 

,1788


SELECT `events`.*,
 `hrs`.registration_target_user_id AS `hrsf`, `hops`.user_id AS `hopsf`, `htcs`.user_id AS `htcsf`,
 `vrs`.registration_target_user_id AS `vrsf`, `vops`.user_id AS `vopsf`, `vtcs`.user_id AS `vtcsf`,
 `wrs`.registration_target_user_id AS `wrsf`, `wops`.user_id AS `wopsf`, `wtcs`.user_id AS `wtcsf`,
 `officials`.user_id AS `of` FROM `events` INNER JOIN `pages` activities ON `events`.activity_id = `activities`.id LEFT OUTER JOIN `team_registrations` htrs ON `htrs`.team_id = `events`.home_team_id
 LEFT OUTER JOIN `registrations` hrs ON `hrs`.id = `htrs`.registration_id
 LEFT OUTER JOIN `offline_participants` hops ON `hops`.team_id = `events`.home_team_id
 LEFT OUTER JOIN `team_coordinators` htcs ON `htcs`.team_id = `events`.home_team_id LEFT OUTER JOIN `team_registrations` vtrs ON `vtrs`.team_id = `events`.visiting_team_id
 LEFT OUTER JOIN `registrations` vrs ON `vrs`.id = `vtrs`.registration_id
 LEFT OUTER JOIN `offline_participants` vops ON `vops`.team_id = `events`.visiting_team_id
 LEFT OUTER JOIN `team_coordinators` vtcs ON `vtcs`.team_id = `events`.visiting_team_id LEFT OUTER JOIN `event_teams` wets ON `wets`.event_id = `events`.id
 LEFT OUTER JOIN `team_registrations` wtrs ON `wtrs`.team_id = `wets`.team_id
 LEFT OUTER JOIN `registrations` wrs ON `wrs`.id = `wtrs`.registration_id
 LEFT OUTER JOIN `offline_participants` wops ON `wops`.team_id = `wets`.team_id
 LEFT OUTER JOIN `team_coordinators` wtcs ON `wtcs`.team_id = `wets`.team_id LEFT OUTER JOIN `event_officials` ON `event_officials`.event_id = `events`.id
 LEFT OUTER JOIN `officials` ON `officials`.id = `event_officials`.official_id WHERE ((`activities`.organization_id = 48) AND
 (`events`.start IS NULL OR `events`.start >= '2015-10-14 04:00:00') AND
 `events`.published = 1 AND `events`.event_state_id <> 2 AND
 ((`hrs`.registration_target_user_id = 1 OR `hops`.user_id = 1 OR `htcs`.user_id = 1) OR
 (`vrs`.registration_target_user_id = 1 OR `vops`.user_id = 1 OR `vtcs`.user_id = 1) OR
 (`wrs`.registration_target_user_id = 1 OR `wops`.user_id = 1 OR `wtcs`.user_id = 1) OR
 (`officials`.user_id = 1)) AND (`events`.home_team_id IN (1851,1846) OR `events`.visiting_team_id IN (1851,1846) OR `wets`.team_id IN (1851,1846))) GROUP BY `events`.id ORDER BY IFNULL(`events`.start, "9999-99-99 23:59:59") ASC LIMIT 25 OFFSET 0



 {9034=>[#<OfficialEvent id: 9034, type: "OfficialEvent", event_state_id: 1, activity_id: 4537, home_team_id: 1851, visiting_team_id: 1846, venue_id: nil, start: "2015-10-14 06:00:00", start_assigner_id: 1, start_assigned_at: "2015-10-12 06:28:39", most_recent_start: nil, most_recent_start_assigner_id: nil, most_recent_start_assigned_at: nil, original_start: "2015-10-14 06:00:00", original_start_assigner_id: 1, original_start_assigned_at: "2015-10-12 06:28:39", kind: "game", published: true, creator_id: 1, created_at: "2015-10-12 06:28:39", updated_at: "2015-10-12 06:28:39", last_reminder_at: nil, name: "wrewr", description: "ewr", location_id: nil, start_time_null: false, end: nil, end_time_null: true>], 
 
 
 
 8616=>[#<OfficialEvent id: 8616, type: "OfficialEvent", event_state_id: 1, activity_id: 2235, home_team_id: 1788, visiting_team_id: 1787, venue_id: nil, start: nil, start_assigner_id: nil, start_assigned_at: nil, most_recent_start: nil, most_recent_start_assigner_id: nil, most_recent_start_assigned_at: nil, original_start: nil, original_start_assigner_id: nil, original_start_assigned_at: nil, kind: "game", published: true, creator_id: 1, created_at: "2015-09-21 07:48:38", updated_at: "2015-09-21 07:48:38", last_reminder_at: nil, name: "Ewstr", description: "", location_id: nil, start_time_null: false, end: nil, end_time_null: true>]}

 



 event.name,
(event.start.blank? ? '' : event.start.to_s(:mdy)),
(event.start.blank? || event.start_time_null ? '' : event.start.to_s(:time12)),
(event.end.blank? ? '' : event.end.to_s(:mdy)),
(event.end.blank? || event.end_time_null ? '' : event.end.to_s(:time12)),
event.visiting_team && event.visiting_team.division && event.visiting_team.division.name,
event.visiting_team && event.visiting_team.name,
event.home_team && event.home_team.division && event.home_team.division.name,
event.home_team && event.home_team.name,
(
activity.win_scoring ?
[
  ((event.valid_complete_state? && !event.scores.empty?) ? event.visiting_win_count : nil),
  ((event.valid_complete_state? && !event.scores.empty?) ? event.home_win_count : nil),
  ((event.valid_complete_state? && !event.scores.empty?) ? event.tie_count : nil)
] :
[
  ((event.valid_complete_state? && !event.scores.empty?) ? event.scores.map { |score| score.visiting.to_s }.join(', ') : nil),
  ((event.valid_complete_state? && !event.scores.empty?) ? event.scores.map { |score| score.home.to_s }.join(', ') : nil)
]
),
event.location && event.location.name,
event.venue && event.venue.abbreviation,
event.human_officials_list,
event.human_work_team_list,
event.kind.capitalize,
event.state.name.capitalize,
event.published? ? 'Yes' : 'No'


DT: 15th October, 2015
========================

Transfirst remaining tasks
	>> add/delete wallet
	>> order
	>> refund

"Hansen, Andrew" <AHansen@transfirst.com>


Hi Andrew

Merchant DBA: Test Integrations 868	User ID: 7777778598_ADMIN
Gateway ID:	7777778598	Terminal ID: 0003


Hope you remember me. We are resuming transfirst integration on our application back again.
Please help me on the following implementations

We have the functionality that user can add credit card info(aka wallet) and can pay money through credit card.(means wallet sale)

We are asking user following information while adding credit card
	Name
	Billing Address
	City
	State
	Zip
	Card  Number
	Expiration
	CVV

Could you give us sample soap request that will create customer profile and credit card info on a single request. And on the second step what type of request we need to pay money through that profile.

Here is the video for your reference
http://screencast.com/t/kzlLtY3ZRHmp

Best,
Amit



DT: 16 October, 2015
=========================
Put images on 3000 port

http://stackoverflow.com/questions/10403634/loading-dynamic-ajax-content-into-fancybox
http://snipplr.com/view/29911/javascript-alert-and-confirm-dialog-the-fancybox-way/



pingdom check

monitor@bellaviacorp.com

ZjVjZTgzZmJlMmI0M2I4MDViODc0YWVjZTZmNTA2MzY=
NDg=

http://192.168.2.159:3000/api/v1/myschedule/ZjVjZTgzZmJlMmI0M2I4MDViODc0YWVjZTZmNTA2MzY=/NDg=



if no team id returned
  >> api call
		http://162.209.4.99:3000/api/v1/myschedule/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/Ng==?team_ids=all
		
		
		
/home/vagrant/.rvm/rubies/ruby-2.0.0-p598/lib/ruby/2.0.0/uri/common.rb:176:in `split': bad URI(is not URI?): {:host=>"ws.cert.transactionexpress.com", :path=>"/portal/merchantframework/MerchantWebServices-v1", :port=>"443", :query=>nil, :scheme=>"https", :headers=>{"Content-Type"=>"text/xml;charset=UTF-8", "Content-Length"=>"919"}, :body=>"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:v1=\"http://postilion/realtime/merchantframework/xsd/v1/\"><soapenv:Header/><soapenv:Body><v1:UpdtRecurrProfRequest><v1:merc><v1:id>7777778598</v1:id><v1:regKey>BLHP7DK5W385J6WZ</v1:regKey><v1:inType>1</v1:inType><v1:prodType>5</v1:prodType></v1:merc><v1:cust><v1:type>0</v1:type><v1:contact><v1:fullName>Amit Mohanty</v1:fullName><v1:addrLn1>12203 Airport Way</v1:addrLn1><v1:addrLn2>Suite 101</v1:addrLn2><v1:city>Broomfield</v1:city><v1:state>CO</v1:state><v1:zipCode>80021</v1:zipCode><v1:ctry>US</v1:ctry><v1:type>1</v1:type><v1:stat>1</v1:stat></v1:contact><v1:pmt><v1:type>0</v1:type><v1:card><v1:type>1</v1:type><v1:pan>4485896261017708</v1:pan><v1:xprDt>1612</v1:xprDt><v1:sec>922</v1:sec></v1:card><v1:indCode>2</v1:indCode><v1:status>1</v1:status></v1:pmt></v1:cust></v1:UpdtRecurrProfRequest></soapenv:Body></soapenv:Envelope>\n"} (URI::InvalidURIError)

		
		
		
		
Leaguer Mobile - Milestone2 complete - Request to signoff
		
Hi Carmen,

We have completed the milestone-2. Please find the status as follows:

Login, Select Organization and "My Schedule" Page
 Complete Splash Screen DONE
 Complete Login Screen (also Log in with Facebook) DONE
 Complete Select organization screen DONE
 Setting for League Specific app DONE
 MySchedule page DONE
		
Please find the below urls for installing the application.(Need to run the URL on safari browser)
Leaguer main app: http://install.diawi.com/bTuDJ4
Private App(Sportsware): http://install.diawi.com/ReRm5B

If you find any difficulties installing the application from the URL, we have also shared the ipa files in dropbox.
Here is the instructions for installing the app through iTunes
http://screencast.com/t/B9oQQlEX

PS: There are some minor issues present in my schedule section. We will fix it and keep you posted. 

Please let us know your feedback.


Best,
Amit


http://screencast.com/t/48EnwuFQYq

If there will be no organizations, after login in home page 'No data found will display'.
A loader will be added while displaying data in My Schedule page.


DT: 19th October, 2015
=======================
Monit + sidekiq
http://richfisher.me/blog/2014/07/18/monit-configuration-for-rails/



Issue fix
[Leaguer Error!] registrations#export (Psych::SyntaxError) "(<unknown>): found character that cannot start any token whi.

Enhancement
Transfirst

API development

Registration





bundle exec sidekiq -d -e staging --pidfile /var/www/html/Jenkins/workspace/SportOnRails/tmp/pids/sidekiq.pid -L log/sidekiq.log



#317: Registration Export - UTF-8 Encoding error



<soapenv:Envelope
    xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"
    xmlns:v1=\"http://postilion/realtime/merchantframework/xsd/v1/\">
    <soapenv:Header/>
    <soapenv:Body>
        <v1:UpdtRecurrProfRequest>
            <v1:merc>
                <v1:id>7777778598</v1:id>
                <v1:regKey>BLHP7DK5W385J6WZ</v1:regKey>
                <v1:inType>1</v1:inType>
                <v1:prodType>5</v1:prodType>
            </v1:merc>
            <v1:cust>
                <v1:type>0</v1:type>
                <v1:contact>
                    <v1:fullName>Amit Mohanty</v1:fullName>
                    <v1:addrLn1>123 Main</v1:addrLn1>
                    <v1:addrLn2>Second Floor</v1:addrLn2>
                    <v1:city>Gilbert</v1:city>
                    <v1:state>AZ</v1:state>
                    <v1:zipCode>85296</v1:zipCode>
                    <v1:type>1</v1:type>
                    <v1:stat>1</v1:stat>
                </v1:contact>
                <v1:pmt>
                    <v1:type>0</v1:type>
                    <v1:card>
                        <v1:pan>4485896261017708</v1:pan>
                        <v1:xprDt>1602</v1:xprDt>
                        <v1:sec>999</v1:sec>
                    </v1:card>
                    <v1:desc>My Wallet</v1:desc>
                    <v1:indCode>2</v1:indCode>
                </v1:pmt>
            </v1:cust>
        </v1:UpdtRecurrProfRequest>
    </soapenv:Body>
</soapenv:Envelope>





my_logger ||= Logger.new("#{Rails.root}/log/current_user.log")
	my_logger.info("--------connected--------------at---"+ Time.now.to_s + "-----------")
	my_logger.info(registration.id.to_s)
	my_logger.info("------------------------end------------------------\n")	
	
	
	bundle exec sidekiq -d -e staging --pidfile /var/www/html/Jenkins/workspace/SportOnRails/tmp/pids/sidekiq.pid -L log/sidekiq.log
	
	
	
Issue fixes in API


Today's work need to be completed by EOD
>> schedules are not showing properly in mobile device
>> Get Activity Types
>> Get registrations according to activity types
	
	
220 domain


  YAML.load('---
- :value: Shannon Seebach
  :name: Guardian
- :value: `
  :name: Work Phone
- :value: "8476695045"
  :name: Home Phone
- :value: "3129296822"
  :name: Cell Phone
- :value: shanoni73@gmail.com
  :name: Email
- :value: Beginner
  :name: Level of Play
- :value: Youth Small
  :name: T-Shirt Size
- :value: Conley Elementary School
  :name: School
- :value: "4"
  :name: Grade'.force_encoding("UTF-8"))
  
  
  "---\n- :value: Shannon Seebach\n  :name: Guardian\n- :value: `\n  :name: Work Phone\n- :value: \"8476695045\"\n  :name: Home Phone\n- :value: \"3129296822\"\n  :name: Cell Phone\n- :value: shanoni73@gmail.com\n  :name: Email\n- :value: Beginner\n  :name: Level of Play\n- :value: Youth Small\n  :name: T-Shirt Size\n- :value: Conley Elementary School\n  :name: School\n- :value: \"4\"\n  :name: Grade"
  
  
  
  
  registration_export_psych_parse_issue

  


/var/www/html/SportsOnRails/releases/20151014140150



  162.209.0.220
  
  root/sKA8GivjcG7y
  
  
  cd /var/www/html/Jenkins/workspace/Production_replica/
  pkill -f sidekiq
  bundle exec sidekiq -d -e production -L log/sidekiq.log
  
  
#!/bin/bash -xe
cd /var/www/html/Jenkins/workspace/Production_replica/ 
source /etc/profile.d/rvm.sh 
rvm use ruby-2.1.5@leaguer
pkill -f sidekiq
bundle exec sidekiq -d -e production -L log/sidekiq.log



Wallet Sale (with mandatory and conditional fields) (pg 117) to bill against the wallet profile.


service sidekiq start/stop/status




Hi Carmen,

We have successfully configured sidekiq with monit such that whenever it finds sidekiq is not running it will automatically start the sidekiq. This has been implemented in staging server only and we are currently monitoring it.

Temporarily we created a shell script in production server to check and restart sidekiq if stopped. We will update you once we configured monit in production server.

However you can view the monit dashboard in staging server,
http://162.209.4.99:2812/

Credentials: admin/monit

Best,
Amit



admin/monit

team_ids='no-team'



17th Apr,2014

development: &leaguerdemo
  adapter: mysql2
  database: sportsdev
  username: admin
  password: LegD#guer*!2
  port: 3306
  host: 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com
  encoding: utf8
  timeout: 5000
  #socket: /var/lib/mysql/mysql.sock

staging:
  <<: *leaguerdemo

production:
  <<: *leaguerdemo

  
Our office will be closed on Thursday & Friday (22nd & 23rd October 2015) on account of Dussehra (Indian Religious festival). We will be back to work on Monday 26th October. 





For google play store
------------------------------
1. Google play store credentials
2. Icon (1024*1024 and 512*512)
3. Screenshot


For itunes
-------------------------------
1. itunes credentials.
2. Screenshot of app
3. Icon(1024*1024)
4. App Description
5. Contact information of client (If not given while creating account in itunes)



RAILS_ENV=production rake db:migrate

918  2015-10-21 19:22:59  ./sidekiq_stop.sh


DT: October 26, 2015
===========================
Transfirst
Capistrano

However there are some issues with my schedule section from API end and we will fix it.

Please let us know if you have any queries regarding milestones or any other.



/var/www/html/SportsOnRails/shared/logos/


cd /var/www/SportsOnRails/
rails s -e staging -p 3000 -d




Compatibility test on various ios versions
Document on publishing app in google play app store
Integrate registration filter api on mobile app

DT: October 27, 2015
===========================
API update on OS
capistrano
Send built to Carmen
OS issue fix


Hi Carmen,

Here is the link to install the mobile app 
http://install.diawi.com/dzFjxf (Leaguer main app)
http://install.diawi.com/LtSUoM (Sportsware - private app)


Open the link in Safari on the iOS device and click on install.

You can verify the below functionalities which has been completed

Complete Splash Screen 
Complete Login Screen (also Log in with Facebook) 
Complete Select organization screen
Setting for League Specific app 
MySchedule page 


Please let us know your valuable feedback.

Best,
Amit



ipod and ipad - ios 7
iphone 5S - ios 8




/etc/httpd/conf.d

cd /var/www/html/SportsOnRails/current/




df9353ce3fa3baa025aad145295a2a09


Compatibility test with iOS9 => coordinate with Subash
Scroll down issue 



Hi Carmen,

Please find updates as follows:

Added space in between 'Sign In' text of login page for both Android and ios for both Leaguer and Sportsware app.
Generated ipa files for both Leaguer main app and Sportsware app.
Unit tested Leaguer and Sportsware app in ios 6,ios 6 plus, ios 7 simulator. 
Fixed design issue of organization listing page (Word wrap for organization name) in Leaguer app.
Modified Login page of sportsware app same as leaguer for both android and ios.
Fixing functionality issue of event listing page in Leaguer app. (Event list of selected schedules is not displayed).
Rnd on ionic scroll.(Sign out link is not clickable smoothly for ion-scroll)

Next plan of Action :
Fix ionic scroll issue.(Lower content of ionic scroll can't click)
Unit testing private and main app in iOS 9


Best,
Amit



Hi Carmen,

Please find updates as follows:

Fixed the permission issue while importing schedules from csv file in staging server.
Verified the image and file missing issue in skyhighvolleyball.org website.
Modified apache vHost configuration to server from capistrano project folder rather than jenkins.
Fixed an issue where error was throwing after deployment through capistrano to staging server "Warning. Error encountered while saving cache /var/www/html/SportsOnRails/releases/20151027104328/tmp/cache/sass/21e59c2d41e35cf9e7ffe3c0d4f0e567ab3a9c68/_top_menu.scssc: can't dump anonymous class #<Class:0x0000000272a888>"
Pushed all the changes to "capistrano" branch.


Best,
Amit


for the apple developer program.


DT: October 28, 2015
======================
Remove calender(All) and put a gear icon
First page will be myschedule
anurag.pattnaik@andolasoft.com
amit.mohanty@andolasoft.co.in

We do not send the card type (brand) back in any of our responses.  You can run a report that will send back details about a Wallet.  The return data will contain a truncated card number and you can make the can make the determination by the first digit in a card number:
 
Hi Carmen,

Please find updates as follows:

API

Gone through the Mobile app documentation
Created new registration controller for API
Implemented logic to get registration information API  through "GetRegistrationAPI"
Implemented logic to filter by activity type in GetRegistrationAPI
Created new cart controller for API 
Gone through the code for getting cart detail in website
Continuing with implementation of GetCartDetails API


Mobile

Fixed ionic scroll issue for side menu in both Leaguer and Sportsware app.
Modified My Schedule functionality(On selecting My schedule option, all schedules of the respective organizations will display.User can filter schedules by clicking button displayed in My schedule page. ).
Fixed issue in organization detail page.(On selecting an organization,corresponding organization name is not displayed as $filter in angular js nit working.) 
Rnd on Angula $filter method.
Integrated My schedule functionality in Leaguer android platform.
Integrated My schedule functionality in Sportsware ios platform.
Unit tested in android and ios devices.



Best,
Amit 
 

 
DT: 29 Oct, 2015
===================


Leaguer is a free, easy to us app that helps you manage all aspects of your team, club or league.  Leaguer makes it easy to update the content on your website, manage online registration and broadcast game changes.  Leaguer also integrates with leading social websites, meaning you can post announcements on your website, Facebook page and Twitter feeds as well as send email and text messages simultaneously with a single click. 
 
 
 
LEAGUER, INC.
1375 Broadway
Floor 3
New York, NY 10018
1.805.2.LEAGUE
1.805.253.2483
info@leaguer.org



 
 

  alert($('#wallet_form').serialize())
 
 https://play.google.com/apps/publish/?dev_acc=05577449439599915572#AppListPlace

{"utf8"=>"â", "authenticity_token"=>"BTLF8MV57jKYhEzltJCHx/5s+G50ggYP4O51tlkjlDw=", "user_id"=>"1", "wallet"=>{"name_on_card"=>"Ac", "expiration_month"=>"2", "expiration_year"=>"2016"}, "address"=>"55s Main St.", "address2"=>"", "city"=>"New York", "state"=>"NY", "zip"=>"10024", "country"=>"US", "card_number"=>"4485896261017708", "cvv"=>"999", "action"=>"save_wallet", "controller"=>"account/credit_cards"}
#<Transfirst::API:0x17ab38dc @gateway_id=nil, @registration_key=nil>
-------------------------response---------
-------------------------make request
"Transfirst Service Error -- 50011 - Schema validation error."


 "Transfirst Service Error -- 50011 - Schema validation error."
 
 
 
 

 
Hi Carmen,

Please find updates as follows:

API

Implemented logic to get the cart details for "registration" item
Implemented logic to get the details of "registrant", "participants","emergency_contact" for registration type item
Implemented logic to get the "team" details if the registration is a team
Implemented logic to get the "registration_product" details for registration type item
Implemented logic to get the "additional_information" and "team_prepaid" details for registration type item
Implemented logic to get the "payment_option_details" details 
Implemented logic to get the "discount_details","price_adjustment_details","price_adjusted_details","waitlist_details","waitlist_open_details" for registration type item
All the changes are in local server only.

Mobile

Integrated My schedule functionality in Sportsware app.
Fixed design issue of date section of event listing page in android for both Leaguer and Sportsware App.(Date in Event listing page always wrap.)
Fixed issue in Leaguer and Sportsware app for ios and android. (If a user filters the events in calender page and click on Manage schedule menu, the filter result displayed instead of displaying all events).
Unit tested the main and private app for android and ios.
Creates signed apk for both Leaguer and Sportsware Android app and published in Google play store.
Downloaded the published App from google playstore and unit tested.
Created certificate and provisioning profile for Leaguer.


PS:
Leaguer App has been successfully published in Google play store(Attached screenshot for reference) 
https://play.google.com/apps/testing/com.ionicframework.leaguer444077

We are getting the error "Unable to validate your application. The application you have selected does not exist" while submitting the app in iTunes, possibly due to technical issue. However we have completed all the required steps to publish. We will try to publish it tomorrow and keep you posted.



Best,
Amit
 
 
DT: 30Oct, 2015
================  
16
32
40

Update of transfirst

Uploading existing photos to cloud

$("#errors").append('<ul id=\'error_ul\'></ul>');
$("#error_ul").empty().append('<li>' + msg + '</li>');


Fixed loading UI issue in Leaguer app for ios.
In my schedule page, remove the abbreviated name of day and displayed the full day in both Leaguer and Sportsware app for ios.
In my schedule page, modified the date format as October 23, 2015 (Before it displayed as 23rd Oct, 2015) in both Leaguer and Sportsware app for ios.
Removed the 'Home' option from side menu in both Leaguer and Sportsware app for ios.
Displayed the organization name in header of side menu instead of App name in both Leaguer and Sportsware app for ios.
Unit tested the ios apps.
Created app id and provisioning profile for Sportsware.
Submitted the archived of both Leaguer and Sportsware ios app to itunes.


NOTE:

We have added 'cbellavia@ureach.com' as internal tester and added other 2 emails as external testers. A confirmation mail will be sent to those emails which contains a link using which the published app can be installed and tested. Only the internal user can tested those apps immediately but confirmation mail will send to the external testers after 2 or 3days.



Leaguer Mobile - Milestone3 complete - Request to signoff

Hi Carmen,

We have completed the milestone-3. Please find the status as follows:

Launch - Test and Submit to App Stores
 Test app for quality on iOS platform (ad hoc). DONE
 Test app for quality on Android platform. DONE
 Finish testing app for quality and cross platform compatibility. DONE
 Package app for submission to iTunes app store. DONE
 Package app for submission to Google Play app store. DONE
 Launch Leaguer Main App DONE
 Launch specific League App (for test league) DONE
 Document process for submitting app to various stores and how to deploy updates(Shared with you on drobbox) DONE

 
Note:
iOS
We have added 'cbellavia@ureach.com' as internal tester in iTunes. You must have get an email with a link to install the published app.

Android
Please find the urls for installing the app from google play store
https://play.google.com/store/apps/details?id=com.ionicframework.leaguer444077 (Leaguer Main App)
https://play.google.com/store/apps/details?id=com.ionicframework.sportsware252525 (Private APpp - Sportsware)

 
Please let us know if you have any question regarding the milestone.

Best,
Amit


16
17
19



http://install.diawi.com/toq3ZP
http://install.diawi.com/13xEVD

On the My schedule page, the day of the week is abbreviated.  It should NOT be abbreviated
For example: "Sat" should be "Saturday", "Fri" should be "Friday", etc.
Also the date format is incorrect.
The dates are displaying as: 23rd Oct, 2015"
but they should display as: October 23, 2015

Also, when I log in as admin@leaguer.org.
The sorting of the events is off: 
The event with the date of: 10th Oct 2020 is show first, when it should be last.


DT: 3rd Novemeber, 2015
=======================
jQuery.get('<%= account_credit_card_path(the_user.id, :admin_payment => @admin_payment) %>',
              function(data) { jQuery('#cardinfo').html(data) });


Security error displayed during API call and user couldn't logged in




To fix the login issue in simulator, we added below mentioned codes in /platforms/ios/Leaguer/Leaguer-Info.plist file.

<key>NSAppTransportSecurity</key>
<dict>
	<key>NSAllowsArbitraryLoads</key>
	<true/>
</dict>



App Crash issue in Local System


Hi Carmen,

We faced the similar issue on one of our system(iOS 9, iPhone 6) that you are getting on your local system. We suspect it to be a security error displayed during the API call and user couldn't logged in.

We fixed it by adding the below code snippet in /platforms/ios/Leaguer/Leaguer-Info.plist file,
	<key>NSAppTransportSecurity</key>
	<dict>
		<key>NSAllowsArbitraryLoads</key>
		<true/>
	</dict>

We have already pushed the changes to the repository and hopefully it might solve the issue. Can you pull the new changes and try again the same functionality.
If you still get the same issue, lets schedule a meeting on Friday 6th Novemeber, 9:30AM EST to get it resolved.

Please let us know your feedback.
	
Best,
Amit


DT: 4th November, 2015
===========================
development: &leaguerdemo
  adapter: mysql2
  database: sportsdev_api
  username: admin
  password: LegD#guer*!2
  port: 3306
  host: 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com
  encoding: utf8
  timeout: 5000
  #socket: /var/lib/mysql/mysql.sock




Leaguer => half 
Squadz
Preetyinmypocket


Test scenario
User A signedin>> should display success message

GO through other application >> if user closes app and then reopens user should loggedin
Verify that selected organization should always be dispalyed if user reopens the app
http://maps.google.com/maps?f=q&hl=en&q=222+Main+St.%2C+Chicago%2C+IL



    color: white;text-decoration: none;margin: 0 auto;padding: 0.5em 2.5em;
}



_wallet_detail.html.erb

case #34


Hi Carmen,

Please find updates as follows:

Added the jquery effect to remove the credit card from the listing after removal
Added the functionality to select a card from the popup.
Added validation to validate the card must be selected during select functionality
Done RnD to hide the fancybox popup manually as "parent.jQuery.fancybox.close();" and "jQuery.fancybox.close()" stopped working.
Fixed the popup close issue after selecting active credit card.
Created sample soap request for wallet sale to verify the transfirst api.
Going through the existing place order functionality.


Modified Files:
app/controllers/account/credit_cards_controller.rb
app/views/account/credit_cards/new.html.erb
app/views/account/credit_cards/new_wallet.html.erb
app/views/account/credit_cards/wallet_info.html.erb
app/views/account/credit_cards/wallet_list.html.erb

Here is the video to view the delete and select card functionality done so far,
http://screencast.com/t/st5gjlqJ9


Best,
Amit



$(".fancybox").fancybox().trigger('click');

$("#fancybox-close").trigger('click');
2633

033324157905
D:\MyDev\new_dev\SportsOnRails\app\models\adjustments\payment_adjustment.rb
carts controller >> PaymentAdjustment.get_online_payment_adjustment_provider(params)


Hi Carmen,

Please find updates as follows:

Integrated 'My Schedule' functionality in Leaguer Android app.
Integrated 'My Schedule' in Spoortsware Android app.
Modified uploading android app to google play store document format.
Unit tested both Leaguer and Sportsware iOS app.
Unit tested both Leaguer and Sportsware Android app.
Fixed functionality issue in side menu(When user select My Schedule option from side menu, Its shows filtered events stored in local storage instead of displaying all events).
Uploaded 2.0 version of Leaguer and Sportsware iOS app to iTunes.
Generated Signed apk for both Leaguer and Sportsware android app.
Uploaded 2.0 version of Leaguer and Sportsware Android app to Google Play Store.
Generated ipa files of updated iOS app of both Leaguer and Sportsware.
Unit tested the app uploaded to google play store in Beta Testing Mode.

Here is the diawi link to install updated version of app,

http://install.diawi.com/1BKuDD
http://install.diawi.com/xAW9tV

Best,
Amit

Testing link of android apps.

https://play.google.com/apps/testing/com.ionicframework.sportsware252525
https://play.google.com/apps/testing/com.ionicframework.leaguer444077


Best,
Amit

Discussion:

> About transfirst
>> Reminder about capistrano and monit
>> Cloud file storage


DT: 9th November, 2015
===========================
>> Send video on Monit
>> capistrano
>> 

 UPDATE `online_transactions` SET `status` = 5, `transaction_id` = '000010729611', `online_transaction_state_id` = 5, `updated_at` = '2015-11-09 11:25:51' WHERE `online_transactions`.`type` IN ('TransfirstPayment') AND `online_transactions`.`id` = 8828
Redirected to http://soccer.lth.me:3000/account/orders/14470516614707315
   (20.9ms)  COMMIT




Hi Carmen,

Please find updates as follows:

Gone through the existing wepay payment functionality
Created required classes like transfirst_payment_adjustment, transfirst_payment and transfirst_transaction classes so as to implement transfirst payment.
Displayed proper validation messages from transfirst in case of invalid cc information in orders page.
Fixed the data entry issue to the required classes after valid order.
Fixed the conversion issue from dollar to cent in wallet sale api transfirst.
Fixing an issue where after order the data is not being displayed in order detail page.
Pushed all the changes to the staging server.

Modified Files:
app/models/adjustments/payment_adjustment.rb
app/services/api/transfirst/wallet_sale.rb
app/models/adjustments/transfirst_payment_adjustment.rb
app/models/online_transactions/transfirst_payment.rb
app/models/online_transactions/transfirst_transaction.rb


Best,
Amit


root/andola123

config.ssh.insert_key=false
config.ssh.username = "vagrant"
config.ssh.password = "vagrant"





==> default: Attempting graceful shutdown of VM...
==> default: Clearing any previously set forwarded ports...
==> default: Clearing any previously set network interfaces...
==> default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
==> default: Forwarding ports...
    default: 22 => 2222 (adapter 1)
==> default: Booting VM...
==> default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: password
    default: Warning: Connection timeout. Retrying...
    default: Warning: Connection timeout. Retrying...
==> default: Machine booted and ready!
==> default: Checking for guest additions in VM...
    default: The guest additions on this VM do not match the installed version of
    default: VirtualBox! In most cases this is fine, but in rare cases it can
    default: prevent things such as shared folders from working properly. If you see
    default: shared folder errors, please make sure the guest additions within the
    default: virtual machine match the version of VirtualBox you have installed on
    default: your host and reload your VM.
    default:
    default: Guest Additions Version: 4.2.0
    default: VirtualBox Version: 4.3
==> default: Mounting shared folders...
    default: /vagrant => E:/
	
	
	
MySql connect issue with sequelpro
	
	
Hi Carmen,

We guess there are couple of tweaks needed to fix the mysql connect issue with sequelpro.
As the mysql in vagrant can only accessible from localhost that means from vagrant host only.

Please follow the below steps:

1. Open the file
   nano /etc/mysql/my.cnf
   search for word "bind-address"
2. Replace the line 
	From
	bind-address            = 127.0.0.1
	To
	bind-address            = 0.0.0.0

3. Then we need to restart mysql 
	$> service mysql restart	


Command to import the dump file from console,	
$> mysql -h localhost -u root -p sportsdev < "dumpfile(XX.sql)"

Here is the video instruction
http://screencast.com/t/ZLxUovYmjAC2

If the above solution did not work for you, then we will schedule another meeting to fix the issue.


Best,
Amit



DT: 12Nov, 2015
===================
upload existing photo to bucket through rake task
changes in photo model to store in s3
Fetch the photos from the s3 bucket

Gone through the existing photos upload functionality under photos section
Did R&D to explictly store photos on S3 bucket
Created a S3 bucket called "Leaguer"
Modified the photo model to store photo in S3 bucket
Displayed the stored S3 photos under photos section
Created a ruby file called "s3_folder_upload" under middleware folder to upload existing "public/assets/" to S3



Following are command to upload existing "public/assets/" to S3
----------------------------------------------------------------------------------
> Go to rails console
> uploader = S3FolderUpload.new('/public/assets', 'Leaguer', 'AKIAJAVFGWOGKGBOWPWQ', 'OeZLCrLCm1Nu7BzG9epPtuHFHe56LU7j17DPiAeM')
> uploader.upload!

Hi Carmen,

Please find updates as follows:

Transfirst
Gone through the existing wepay payment functionality
Added the observer for transfirst to perform after save functionalities after payment through the credit card
Added the stuffs to include the observer in config/application.rb
Fixed an issue where email is not being sent after payment through transfirst
Integrated the functionality to pay from the cart page
Integrated the functionality to pay from the orders administration - Order details page.
Fixing javascript issue with wepay credit card while selecting cc.
All the changes are pushed to "transfirst" branch

Modified files
app/models/order.rb
app/models/observers/transfirst_payment_observer.rb
app/controllers/account/orders_controller.rb
app/controllers/administration/orders_controller.rb
app/views/orders/shared/_transfirst_wallet_display.html.erb
app/views/orders/shared/_wepay_card_display.html.erb
config/application.rb

Here is the video showing the payment through transfirst,
http://screencast.com/t/rrH2jYN3


Best,
Amit



API

Added the logic to fetch the order listing in api
Modified the order detail code to resume for web and api
Added order detail information in order detail api
Pushed all the changes to 'rails3-api' branch

Created re-usable function to get the order details in Web and API
Added functionality to get the order details information from order_details API
Verified the order_details in web and API



DT: 13 Nov, 2015
=================
Gone through the existing file/image upload functionality under files section
Modified the config/S3 yml as per given credential
Modified the asset model to store, delete and display the file/image in S3 bucket
Modified the "app/views/administration/assets/_asset_row_item.html.erb" to display the stored S3 file/image in photos section

DONE - Organization configures their site to use transfirst by entering their transfirst keys in the settings area
DONE - In the cart, people need to be able to create and remove wallets (like they do when they create and remove credit cards in the WePay integration).  Note: The wepay integration uses iframes, which is really bad.  We should only use Javascript/AJAX for the transfirst integration
DONE - From the cart, people need to be able to pay

- From the teams payments page, people need to be able to add/remove wallets and make payments (like they can do currently) https://soccer.leaguerdemo.com/teams/fall-soccer-2015-session-i/dsc-demo/payments
- From the my account\orders area, people need to be able to add/remove credit cards and make payments - https://soccer.leaguerdemo.com/account/orders/131959735099177
- From the orders administration - Order details page: Admins need to be able to give partial and full refunds https://soccer.leaguerdemo.com/administration/orders/14374965159687676
- From the orders administration payments area, admins need to be able to https://soccer.leaguerdemo.com/administration/orders/new_admin_payment?id=1438308172238599

Hi Carmen,

Please find updates as follows:

Transfirst
Fixed an issue where credit card is being charged twice from order detail page
Integrated functionality to add/remove credit cards and make payments from the my account\orders area
Integrated functionality to add/remove credit cards and make payments from the teams payments page
Going through the transfirst documentation for refund
Fixing the fancybox initialize issue after closing fancybox

Cloud storage of assets

Gone through the existing photos upload functionality under photos section
Did R&D to explictly store photos on S3 bucket
Created a S3 bucket called "Leaguer"
Modified the photo model to store photo in S3 bucket
Displayed the stored S3 photos under photos section
Created a ruby file called "s3_folder_upload" under middleware folder to upload existing "public/assets/" to S3
All the changes are in local branch "cloud_storage" only

Best,
Amit







var $j = jQuery.noConflict();
$j(document).ready(function() {
$j(“.image_lightbox”).fancybox({
‘width’	: 550,
‘height’	: 700,
‘autoScale’	: false,
‘transitionIn’	: ‘none’,
‘transitionOut’	: ‘none’,
‘type’	: ‘iframe’
});
}

https://www.dropbox.com/s/al2vbvocan9n1c3/IonicInstallationforiOS.docx?dl=0
https://www.dropbox.com/s/t7zhnlyfowfoiik/IonicinstallationforAndroid.docx?dl=0


Here are the links to the documents,
https://www.dropbox.com/s/9eci9w3eookvoj4/UploadApptoGooglePlayStore.docx?dl=0
https://www.dropbox.com/s/eyszoycu8h5ppoc/Uploadapptoitunes.docx?dl=0


OS#9	Leaguer Mobile - Milestone1 complete - Request to signoff
OS#8	Leaguer Mobile - Milestone2 complete - Request to signoff
OS#25	Leaguer Mobile - Milestone3 complete - Request to signoff


DT: Nov16, 2015
================
# Disabled in staging as this monitoring generates too many alerts
#check system localhost
#        if loadavg (1min) > 4 then alert
#        if loadavg (5min) > 2 then alert
#        if memory usage > 75% then alert
#        if cpu usage (user) > 70% then alert
#        if cpu usage (system) > 30% then alert
#        if cpu usage (wait) > 20% then alert



Hi Amit,

I don't want to constantly get these emails that tell me the server is fine.  I only need to see them if there is something I should be concerned about.


Hi Carmen,

We have the same settings for server monitoring that you had for rails2 application. However we found that it is commmented in old rails2 staging server as it generates too many alerts

############ RAILS2 CONFIGURATION #######################
# Disabled in staging as this monitoring generates too many alerts
#check system localhost
#        if loadavg (1min) > 4 then alert
#        if loadavg (5min) > 2 then alert
#        if memory usage > 75% then alert
#        if cpu usage (user) > 70% then alert
#        if cpu usage (system) > 30% then alert
#        if cpu usage (wait) > 20% then alert

All your old monitoring emails were being sent to email id "monitor@bellaviacorp.com"

However we will try to change the script.


Best,
Amit


DONE - Organization configures their site to use transfirst by entering their transfirst keys in the settings area
DONE - In the cart, people need to be able to create and remove wallets (like they do when they create and remove credit cards in the WePay integration).  Note: The wepay integration uses iframes, which is really bad.  We should only use Javascript/AJAX for the transfirst integration
DONE - From the cart, people need to be able to pay
DONE - From the teams payments page, people need to be able to add/remove wallets and make payments (like they can do currently) https://soccer.leaguerdemo.com/teams/fall-soccer-2015-session-i/dsc-demo/payments

DONE - From the my account\orders area, people need to be able to add/remove credit cards and make payments - https://soccer.leaguerdemo.com/account/orders/131959735099177
DONE - From the orders administration payments area, admins need to be able to https://soccer.leaguerdemo.com/administration/orders/new_admin_payment?id=1438308172238599

- From the orders administration - Order details page: Admins need to be able to give partial and full refunds https://soccer.leaguerdemo.com/administration/orders/14374965159687676



Hi Carmen,

Please find updates as follows:

Transfirst

Fixed the js issue for closing the fancybox from team payment page
Fixed the wallet list append issue after ajax call in account order detail page
Fixed the payment error issue in case of admin payment
Created sample api request for refund functionality
Fixing javascript issue for initiliazing of fancybox in ajax call 

Transfirst status:
Organization configures their site to use transfirst by entering their transfirst keys in the settings area DONE
In the cart, people need to be able to create and remove wallets (like they do when they create and remove credit cards in the WePay integration).  DONE
From the cart, people need to be able to pay DONE
From the teams payments page, people need to be able to add/remove wallets and make payments (like they can do currently)  DONE
From the my account\orders area, people need to be able to add/remove credit cards and make payments DONE
From the orders administration payments area, admins need to be able to pay DONE
From the orders administration - Order details page: Admins need to be able to give partial and full refunds(Facing issues while calling the transfirst api, already notified Andrew and integration dept.(integrationsupport@transfirst.com) as Andrew is not available) WIP


Cloud storage of assets

Gone through the existing file/image upload functionality under files section
Modified the config/S3 yml as per given credential
Modified the asset model to store, delete and display the file/image in S3 bucket
Modified the "app/views/administration/assets/_asset_row_item.html.erb" to display the stored S3 file/image in photos section
All the changes are in local branch "cloud_storage" only


Modified files
app/controllers/account/orders_controller.rb
app/models/online_transactions/transfirst_payment.rb
app/views/account/credit_cards/new_wallet.html.erb
app/views/orders/shared/_transfirst_wallet_display.html.erb
transfirst_wallet_sale.rb
transfirst_refund.rb

Best,
Amit

{:send_tran_response=>{:rsp_code=>"00", :auth_rsp=>{:aci=>"Y"}, :tran_data=>{:swch_key=>"0A1009331511051F943E0DA755ABE0", :tran_nr=>"000010826451", :dt_tm=>#<DateTime: 2015-11-16T04:43:06-08:00 ((2457343j,45786s,0n),-28800s,2299161j)>, :amt=>"000000050000", :stan=>"004725", :auth=>"Lexc05"}, :card_type=>"1", :map_caid=>"300979940268000", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}


DT: Nov 17, 2015
==========================
File(Document/Image)
	>> status 
	>> Unit testing (Like in Tinymce editor/SB)
Photos
	>> status
	

Mobile Payment fee: $1.00
View all registration details

	

	
TransfirstPaymentAdjustment

NameError (uninitialized constant TransfirstRefund::TranfirstRefundAdjustment)
NameError (uninitialized constant TransfirstRefund::TranfirstRefund)

Hi Carmen,

Please find updates as follows:

Transfirst
Created sample api request for refund void functionality
Integrated refund module inside transfirst api base class.
Created/modified required classes for payment adjustment and refund Transfirst
Fixed the issue, i.e "uninitialized constant TransfirstRefund::TranfirstRefund" during refund functionality
Fixing an issue where email is not being sent after refund
Fixing javascript issue for initiliazing of fancybox in ajax call

Transfirst status:

Organization configures their site to use transfirst by entering their transfirst keys in the settings area DONE
In the cart, people need to be able to create and remove wallets (like they do when they create and remove credit cards in the WePay integration). DONE
From the cart, people need to be able to pay DONE
From the teams payments page, people need to be able to add/remove wallets and make payments (like they can do currently) DONE
From the my accountorders area, people need to be able to add/remove credit cards and make payments DONE
From the orders administration payments area, admins need to be able to pay DONE
From the orders administration - Order details page: Admins need to be able to give partial and full refunds(Facing issues while calling the transfirst api, already notified Andrew and integration dept.(integrationsupport@transfirst.com) as Andrew is not available) WIP

Cloud storage of assets

Modified the photo model to store photo in S3 bucket
Displayed the stored photos from S3 bucket under photos section
Deleted photo from S3 bucket while delete a photo/Album under photos section
Continue working on to display file/image URL in tinymce editor
All the changes are pushed to staging server 'cloud_storage' branch only.


Modified Files:
app/controllers/administration/orders_controller.rb 
app/models/adjustments/adjustment.rb
app/models/adjustments/payment_adjustment.rb 
app/models/online_transactions/transfirst_payment.rb 
app/services/api/transfirst/api.rb 
app/views/administration/orders/commands/_refund_item_payment_adjustment.html.erb
transfirst_refund.rb 
app/models/adjustments/transfirst_refund_adjustment.rb 
app/models/observers/transfirst_refund_adjustment_observer.rb 
app/models/observers/transfirst_refund_observer.rb
app/models/online_transactions/transfirst_refund.rb
app/services/api/transfirst/wallet_refund.rb




Best,
Amit


ON { invalid, nonexist, timeout, size, timestamp }



Can we turn off the limit succeeded messages. I don't think they are necessary.  If there's a sever issue I want to know about it, but getting dozens of everything 's ok emails is annoying


198.61.170.220


photo_local_path = '/var/www/html/dynamicssc_new'
photo_remote_path = '/var/www/vhosts/sor/shared/site_assets/assets/303/photos'

cp -avr /var/www/html/dynamicssc_new/photos/14850 /var/www/html/Jenkins/workspace/Production_replica/public/assets/303/photos

DT: Novemeber 18, 2015
=======================
Fix the email and record save issue while doing refund functionality



Hi Carmen,

Please find updates as follows:

Transfirst
Modified the soap request while issuing void request after payment
Fixed the email and record save issue while implementing refund functionality
Fixing javascript issue for initiliazing of fancybox in ajax call
Pushed all the changes to staging server

Note:
As transfirst expects two types api call for void/refund
If the transaction has not been settled => should be void request (This has been implemented in our application)
If the transaction has been settled => should be full/partial refund request
We already notified the transfirst integration dept. about the api where we can know the status of any transaction so that we can issue a void/credit request from application

Here is the video showing the payment and refund(void) functionality done so far,
http://screencast.com/t/Q1AtOLFBZm

Transfirst status:
Organization configures their site to use transfirst by entering their transfirst keys in the settings area DONE
In the cart, people need to be able to create and remove wallets (like they do when they create and remove credit cards in the WePay integration). DONE
From the cart, people need to be able to pay DONE
From the teams payments page, people need to be able to add/remove wallets and make payments (like they can do currently) DONE
From the my account orders area, people need to be able to add/remove credit cards and make payments DONE
From the orders administration payments area, admins need to be able to pay DONE
From the orders administration - Order details page: Admins need to be able to give partial and full refunds(Facing issues while calling the transfirst api, already notified Andrew and integration dept.(integrationsupport@transfirst.com)   ) WIP

Cloud file storage

Gone through the tinymce editor link for file/image
Modified the "app/views/utilities/_live_field_link_dialog.html.erb" to add custom attribute for S3 URL in select option
Modified the "app/assets/javascripts/tinymce/plugins/sorlink/editor_plugin.js" to display S3 URL for file/image in tinymce editor HTML view option
All the changes are in local branch 'cloud_storage' only


Best,
Amit

DT: Novemeber 19, 2015
=======================

http://192.168.2.159:3000/api/v1/get_payment_methods/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=
http://192.168.2.159:3000/api/v1/select_payment_method/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=&creditcard_id=

API

Integrated the method to fetch all the credit cards on behalf of user
Integrated the method to select the specific credit card on behalf of user
Fixed the page break issue while calling the past orders
Gone through the existing cart details functionality on web part
Modified the "app/helpers/registrations_helper.rb" file to fetch additional cart information
Integrated the logic to send price information in cart api
Pushed all the changes to "rails3-api" staging branch


LegD#guer*!2

https://www.wepay.com/developer/resources/wefarm-tutorial#checkout_charging_a_credit_card

params = {
    :account_id => self.wepay_account_id,
    :short_description => "Produce sold by #{self.farm}",
    :type => :GOODS,
    :currency => 'USD',
    :amount => self.produce_price,			
    :fee => {
        :app_fee => app_fee,
        :fee_payer => 'payee'
    },
    :hosted_checkout => {
        :mode  => 'iframe',
        :redirect_uri => redirect_uri
    }
  }
response = Wefarm::Application::WEPAY.call('/checkout/create', self.wepay_access_token, params)


credit/return request






Did we decide to use amazon instead of rackspace for the images and files?


Hi Carmen,

Hope you remember as per our last discussion on skype, You had confirmed us that you are comfortable with both amazon s3 bucket and rackspace, as we are already using buckets for storing db backups.

We have created bucket "leaguer.staging-assets" to store files/images for our testing purpose.

Best,
Amit



DT: Nov 20, 2015
===================

> Transfirst setup in staging
> Discussion with Anurag sir about ssl in mobile
> 


fix-quick-order



Fall 2015 Soccer League
Spring 2014-15 Soccer League
testtt


Hi Carmen,

We have merged the transfirst stffs to staging server on "transfirst" branch. 

Please find the development status of Transfirst as follows:

Organization configures their site to use transfirst by entering their transfirst keys in the settings area DONE
In the cart, people need to be able to create and remove wallets. Add Wallet - DONE, Remove Wallet - DONE
From the cart, people need to be able to pay [RnD is DONE, need to integrate in app] DONE
From the teams payments page, people need to be able to add/remove wallets and make payments DONE
From the teams payments page, people need to be able to add/remove wallets and make payments DONE
From the my accountorders area, people need to be able to add/remove credit cards and make payments DONE
From the orders administration - Order details page: Admins need to be able to give partial and full refunds DONE
From the orders administration payments area, admins need to be able to DONE


Known issues:
jquery fancybox undefined issue after force closing of fancybox(Described about the issue in video)
Need to test and verify general "Decline" from CC

Here is the login credentials for transfirst(https://vt.cert.transactionexpress.com/)
	username: 7777778598_ADMIN
	password: Leaguer1234#

Here is the video showing overall functionalities,
http://screencast.com/t/EU8cfBGGq

Note: You can deploy "transfirst" branch in Jenkins to view the functionalities

Please let us know your feedback.

Best,
Amit


admin
  password: LegD#guer*!2
  
  
  
  
development: &leaguerdemo
  adapter: mysql2
  database: sportsdev
  username: admin
  password: LegD#guer*!2
  port: 3306
  host: 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com
  encoding: utf8
  timeout: 5000
  #socket: /var/lib/mysql/mysql.sock

staging:
  <<: *leaguerdemo

production:
  <<: *leaguerdemo

  
development: &leaguerdemo
  adapter: mysql2
  database: sportsdev
  username: admin
  password: LegD#guer*!2
  port: 3306
  host: 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com
  encoding: utf8
  timeout: 5000
  #socket: /var/lib/mysql/mysql.sock

staging:
  <<: *leaguerdemo

production:
  <<: *leaguerdemo


Check for decline:
7777778598	10900351	 	Amit Mohanty	400383******4018	 	11/20/2015	 	Declined	Authorization and Settle	$1,000.00	 	 	 	 	Lexc05	Resubmit
Count: 5	 	 	 	 	 	 	 	 	 	Total Sales:	$440.00	$440.00	$0.00	$0


ln -nfs /var/www/html/shared/config/facebook.yml config/facebook.yml
ln -nfs /var/www/html/shared/config/amazon_fps.yml config/amazon_fps.yml


RAILS_ENV=staging rake db:migrate:up VERSION=20150804055058
RAILS_ENV=staging rake db:migrate:up VERSION=20151015095145




venue && venue_description(venue)

DT: Nov 23, 2015
=================
Added the logic to handle error response like decline

API

Fixed the location display issue for some registration
Included google map link in registration api
Modified the "app/models/activity.rb" file to fix the location issue
Modified the" app/controllers/api/v1/teams_controller.rb" file for "upcoming" and "completed" schedule
Integrated the logic to fetch different price attributes for cart page
Created api to fetch the all credit card details.
Created api for selecting a credit card and activating it.
Pushed all the changes to staging server.


 INSERT INTO `credit_cards` (`active`, `card_type`, `created_at`, `credit_card_id`, `customer_id`, `expiration_month`, `expiration_year`, `last4`, `name_on_card`, `updated_at`, `user_id`) VALUES (NULL, 'MasterCard', '2015-11-23 06:48:39', '1448261319864191389', '1448261319848123220', 2, 2017, '4769', 'John mDS', '2015-11-23 06:48:39', 1)

 

https://www.wepay.com/developer/resources/wefarm-tutorial#checkout_charging_a_credit_card

params = {
    :account_id => self.wepay_account_id,
    :short_description => "Produce sold by #{self.farm}",
    :type => :GOODS,
    :currency => 'USD',
    :amount => self.produce_price,			
    :fee => {
        :app_fee => app_fee,
        :fee_payer => 'payee'
    },
    :hosted_checkout => {
        :mode  => 'iframe',
        :redirect_uri => redirect_uri
    }
  }
response = Wefarm::Application::WEPAY.call('/checkout/create', self.wepay_access_token, params)




params = {
"client_id": <%= WEPAY_CLIENT_ID %>,
"user_name": $('#name').val(),
"email": '<%= escape_javascript(current_user.primary_email.address) %>',
"cc_number": $('#card_number').val(),
"cvv": $('#cvv').val(),
"expiration_month": $('#expiration_month').val(),
"expiration_year": $('#expiration_year').val(),
"address":
  {
	"address1": $('#address1').val(),
	"address2": $('#address2').val(),
	"city": $('#city').val(),
	"state": $('#state').val(),
	"country": $('#country').val(),
	"zip": $('#zip').val()
  }


response = WEPAY.call('/credit_card/authorize', @global_organization.wepay_access_token, {:client_id => WEPAY_CLIENT_ID, :client_secret => WEPAY_CLIENT_SECRET, :credit_card_id => @credit_card.credit_card_id})




/api/v1/account/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/order_details?order_state=awaiting_payment&page=1&per_page=10"


The single-table inheritance mechanism failed to locate the subclass: 'TransfirstPayment'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite OnlineTransaction.inheritance_column to use another column for that information.


http://192.168.2.159:3000//api/v1/account/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/order_details?order_state=awaiting_payment&page=1&per_page=2




http://hotelz.makemytrip.com/makemytrip/site/hotels/review?session_cId=1448284381510_1448284395727&hotelAvailabilityCriteria.hotelRef.id=200904111345254582&hotelAvailabilityCriteria.roomType.code=2249&hotelAvailabilityCriteria.ratePlan.code=18291892502698_OFFBAR&countryCode=IN&searchCountryCode=IN&searchCityCode=XPR&hotelAvailabilityCriteria.stayDateRange.start=12/22/2015&hotelAvailabilityCriteria.stayDateRange.end=12/23/2015&roomStayQualifier=1e0e&visitorID=[CS]v1|2AF34A9A052A1B79-60000109E0070718[CE]#?cp=review





DT: Nov 24, 2015
=================

1. Need to figure out what the production environment looks like.  
	Do we merge everything into the current app server, or set up anther server for the mobile app? 
	And we should communicate everything via SSL, since we don’t have to worry about the URLs

	> Set up anther server for the mobile app, as we reused some methods to run in separate server will be good option
	> We can easily force all urls to https on apache configuration

2. We need to be able to have multiple apps on my phone at the same time
        1. The production environment
		
        2. The staging environment (This should include the features for the current milestone that I need to test to put into production)
		
        3. The latest development branch (This would include features for future milestones that you’re currently working on.)
        Note: We would need this for both the main Leaguer app and the private labeled app.




app\assets\javascripts\photo_uploader.js




API
----
Implemented api for save for later functionality in cart page
Implemented api for move to cart functionality in cart page
Implemented api for delete from cart functionality in cart page
Modified cart details api to include more information
Creating api for saving individual registration
Pushed all the changes to "rails3-api" staging branch



http://192.168.2.174:3001/api/v1/get_team_details/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=?team_id=1875




DT: Novemeber 25, 2015
=======================
savvyleagues.com => 37	

API
Gone through the existing add new card functionality
Implemented api to save credit card information
Created api for getting the coordinators for a team 
Modified the same api for retrieving roster information too



Hi Carmen,

We completed transfirst integration and is ready for test.

Please find updates as follows:

Fixed the issue while saving the credit card for authorize column.
Fixed the jquery issue while closing the popup

We have created and merged the new changes to "transfirst_v1" branch.

Please let us know your feedback.

Note: You need to deploy "transfirst_v1" branch to staging server

Best,
Amit


https://soccer.leaguerdemo.com/teams/fall-soccer-2015-session-i/metro-team-2/payments
1875
http://192.168.2.159:3000/api/v1/teams/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/get_team_memebers
http://192.168.2.159:3000/api/v1/teams/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/my_teams

DT: November 26, 2015
======================
Visa 4485896261017708 
MasterCard 5499740000000057
Discover 6011000991001201 
American Express 371449635392376 

> Added the functionality to verify account details before saving cc
> Displayed proper validation while payment


API
Fixed the issue while getting the roster members from teams page api
Created new api for team payment with ability to pay custom/outstanding balance.


Pushed the changes to "rails3-api" staging branch.


	Transfirst			96			16		
	Cloud storage			96			32		
	started: 12nov						48		





American Express => success responses => 00, 11, 08
Discover => 08, 00
Visa, MasterCard => 00


Web:
{"payment_option"=>"custom", "custom_payment_amount"=>"100", "wepay.x"=>"Place Your Order", "activity"=>"fall-soccer-2015-session-i", "id"=>"metro-team-2"}
API:
{"payment_option"=>"custom", "custom_payment_amount"=>"100", "wepay.x"=>"Place Your Order", "activity"=>"fall-soccer-2015-session-i", "id"=>"1875"}



{"payment_option"=>"balance", "wepay.x"=>"Place Your Order", "controller"=>"teams", "action"=>"pay", "activity"=>"fall-soccer-2015-session-i", "id"=>"1875"}



payment_option=custom&custom_payment_amount=100&wepay.x=Place+Your+Order&activity=fall-soccer-2015-session-i&id=metro-team-2


http://192.237.170.38/api/v1/teams/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/pay



DT: November 27, 2015
======================
Put condition only to load order detail

Custom
{"items"=>{"14781"=>{"payment_option"=>"custom", "custom_payment_amount"=>"10"}}, "wepay.x"=>"Place Your Order", "id"=>"7186"}
API
{"items"=>{"14781"=>{"payment_option"=>"custom", "custom_payment_amount"=>"10"}}, "wepay.x"=>"Place Your Order", "id"=>"7186", "fo
rmat"=>"json", "controller"=>"api/v1/account/orders", "action"=>"pay", "auth_token"=>"ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=
", "org_id"=>"NDg="}

http://192.168.2.159:3000/api/v1/account/order/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/pay?items[14781][payment_option]=&items[14781][custom_payment_amount]&wepay.x=Place Your Order&id=


Full amount
{"items"=>{"14781"=>{"payment_option"=>"balance"}}, "wepay.x"=>"Place Your Order", "id"=>"7186"}

registrations_id: 14781


items[14781][payment_option]=balance&wepay.x=Place Your Order&id=



Custom
?items[11237][payment_option]=custom&items[11237][custom_payment_amount]=&items[11239][payment_option]=custom&items[11239][custom_payment_amount]=&wepay.x=Place Your Order&id=5457

Balance
?items[11238][payment_option]=balance&wepay.x=Place Your Order&id=

>> if prepaid  => then dont show price field
>> add checkbox aside price textfield
	>> if checked >> readonly tf and display balance amount
		?items[11238][payment_option]=balance&wepay.x=Place Your Order&id=
	>> if user unchecked >> readonly false >> clear the values
		?items[11237][payment_option]=custom&items[11237][custom_payment_amount]=&items[11239][payment_option]=custom&items[11239][custom_payment_amount]=&wepay.x=Place Your Order&id=5457

lrwxrwxrwx 1 root root    42 Nov 20 14:58 amazon_fps.yml -> /var/www/html/shared/config/amazon_fps.yml
lrwxrwxrwx 1 root root    37 Aug 19 06:05 bitly.yml -> /var/www/html/shared/config/bitly.yml
lrwxrwxrwx 1 root root    40 Aug 19 07:39 database.yml -> /var/www/html/shared/config/database.yml
lrwxrwxrwx 1 root root    40 Nov 20 14:56 facebook.yml -> /var/www/html/shared/config/facebook.yml
lrwxrwxrwx 1 root root    47 Aug 19 06:09 paypal_adaptive.yml -> /var/www/html/shared/config/paypal_adaptive.yml
lrwxrwxrwx 1 root root    42 Aug 19 06:11 shutterfly.yml -> /var/www/html/shared/config/shutterfly.yml
lrwxrwxrwx 1 root root    39 Aug 19 06:12 twitter.yml -> /var/www/html/shared/config/twitter.yml




/var/www/html/Jenkins/workspace/Leaguer-api/public


Production API URL
166.78.241.142

savvyleagues.com => 37	


git checkout sportsware
git checkout -b savvyleagues
 > changes
	org_id
	splash screen
	icon
git push -u origin savvyleagues


Madhu
>> Prefill billing address in add credit card page
>> Pay outstanding balance in order detail page
>> 

API
---
Created api for payment(full/custom) against a order in order detail page.
Created new to return conditions of displaying cancel/postpone/reschedule buttons in event detail page
Continue working with api for canceling game

============================================================================

Open Registrations Listing Page: Ready for test

Hi Carmen,

We have completed displaying of open registrations listing in "Registration" page

Here is the diawi link to verify the functionality,


Please verify and let us know your feedback.

Best,
Amit

============================================================================

My Orders – Listing page only: Ready for test

Hi Carmen,

We have completed displaying of orders listing in "Make a payment/Order History" page

Here is the diawi link to verify the functionality,



Note:
Make a payment >> We are currently working on the payment part in order detail page. After completion of payment we will post this functionality on a separate ticket.


Please verify and let us know your feedback.

Best,
Amit


==============================================================================


Cart: Ready for test

Hi Carmen,

We have completed following functionalities in cart section

Cart listing page
Delete item from cart
Save for later 
Move to Cart
Add a Credit Card
Choose Payment Methods(Credit Cards)
Order Summary and Payment information in "Place Your Order" page

Next plan of action
Edit item
Place Your Order functionality


Here is the diawi link to verify the functionality,


Please verify and let us know your feedback.

Best,
Amit


==================================================================================
Add/Edit Credit Card: Ready for test

Hi Carmen,

We have completed following functionalities

Add Credit Card functionality
Choose Credit Card

Next plan of action:
Prefilling of existing billing address if any against user

Here is the diawi link to verify the functionality,


Please verify and let us know your feedback.

Best,
Amit

==============================================================================
Order Detail Page (with ability to pay outstanding balance)

Hi Carmen,

We have completed displaying of order details in "Make a payment/Order History" page
We are continuing working on payment from the detail page

Here is the diawi link to verify the functionality,

Please verify and let us know your feedback.

Best,
Amit


DT: Novemeber 30, 2015
======================
Mobile
--------

Give update about iTunes stuff also
 >> added new screenshots
 >> layout issue in side menu icons
 >> unit tested the app in test flight
 >> submitted the app(leaguer,savvyleagues) for review
 
 
Leaguer and Test league(Savvyleagues.com) has been successfully published in Google play store.

Please find the URLs as below:
https://play.google.com/store/apps/details?id=com.ionicframework.leaguer444077
https://play.google.com/store/apps/details?id=com.ionicframework.savvyleagues316570

We have already submitted required information to iTunes and its current state is "Waiting For Review". Usually Approval process takes approx 5-10days.

API
----
Created api to retrieve team standing details
Create api to place order functionality in cart checkout page
Modified the parameter names in individual registration api
Pushed all the changes to "rails3-api" branch



Fixed the activity time issues while

https://play.google.com/store/apps/details?id=com.ionicframework.leaguer444077
https://play.google.com/store/apps/details?id=com.ionicframework.savvyleagues316570


"online_purchase_payment_amount"=>"100.0", "wepay.x"=>"Place Your Order"



remotes/origin/feature/new-activity-sort

activity_time_fix


Leaguer published in Google play store

Hi Carmen,

Leaguer and Test league(Savvyleagues.com) has been successfully published in Google play store.

Please find the URLs as follows:
https://play.google.com/store/apps/details?id=com.ionicframework.leaguer444077
https://play.google.com/store/apps/details?id=com.ionicframework.savvyleagues316570


We have already submitted required informations to iTunes and its current state is "Waiting For Review". Usually Approval process takes approx 5-10days.


Best,
Amit

A client reported that when he created activities with start and end dates AND TIMES, that the TIMES aren't saving.
Can we figure out what's going on with the time in the activity create and edit, thanks..


Hi Carmen,

We fixed the time save issue while add/edit activity by creating an instance method in app/models/activity.rb.
We have already pushed the changes to staging "activity_time_fix" branch. After your verification we will push the changes to production.


Best,
Amit


#362: Create/Edit Activity - Times not saving


DT: December 1, 2015
======================
>> Incomplete registrations
>> Move to Cart


API

Changed response for payment option details, added payment option id in RegistrationProductDetails API
Changed response for SaveRegistration API
Implemented Edit Registration API 
Implemented Update Registration API
Modified api to retrieve more team standing details
Pushed all the changes to "rails3-api" branch


Hi Carmen,

We completed "Place Your Order functionality" in cart page.

Next plan of action
Edit item

Here is the diawi link to verify the functionality,
http://install.diawi.com/QY8npq

Please verify and let us know your feedback.


Best,
Amit

DT: December 2, 2015
======================
API
----
Added "activity_id" in my teams api
Created api for adding roster members to team
Created api for adding coordinators to team
Created api for edit individual registration
Modified the save registration api as per requirement for app
Pushed all the changes 'rails3-api' staging branch


Add extra parameter => is_administartor => true/false
Event type --> Game/Play/Scrimmage -> check for static/dynamic
One api to return location with venue, Team name with id


api/v1/teams/:auth_token/:org_id/add_roster?team[team_invites_attributes][0][person_attributes][emails_attributes][0][address]=&team[team_invites_attributes][0][person_attributes][first_name]=&team[team_invites_attributes][0][person_attributes][last_name]=&id=&activity=(activity_id in MyTeam API)


"team"=>{"team_invites_attributes"=>{"0"=>{"person_attributes"=>{"emails_attributes"=>{"0"=>{"address"=>"carmen@leaguer.org"}}, "first_name"=>"Carmen", "last_name"=>"Bellavia"}}, "1"=>{"person_attributes"=>{"emails_attributes"=>{"0"=>{"address"=>""}}, "first_name"=>"", "last_name"=>""}}, "2"=>{"person_attributes"=>{"emails_attributes"=>{"0"=>{"address"=>""}}, "first_name"=>"", "last_name"=>""}}}}, "commit"=>"Send Roster Invitation", "_"=>"", "activity"=>"4691", "id"=>"1875"}



id: 2043
activity: 4691

{"utf8"=>"â", "authenticity_token"=>"evFh/3ZEjyCQa6HSjsQF8+sMBBh0TE6MRBJlwnQSrsA=", "team"=>{"team_coordinators_attributes"=>{"0"=>{"person_attributes"=>{"emails_attributes"=>{"0"=>{"address"=>"dfgdfs@nmkdsa.com"}}, "first_name"=>"dsad ", "last_name"=>"dsasa", "phone"=>"1234567890"}, "role"=>"dsdsa", "is_primary_contact"=>"1", "is_roster_manager"=>"1"}, "1"=>{"person_attributes"=>{"emails_attributes"=>{"0"=>{"address"=>""}}, "first_name"=>"", "last_name"=>"", "phone"=>""}, "role"=>"", "is_primary_contact"=>"0", "is_roster_manager"=>"0"}}}, "commit"=>"Send", "_"=>"", "controller"=>"teams", "action"=>"create_team_coordinators", "activity"=>"4691", "id"=>"1875"}

api/v1/teams/:auth_token/:org_id/add_coordinator?team[team_coordinators_attributes][0][person_attributes][emails_attributes][0][address]=&team[team_coordinators_attributes][0][person_attributes][first_name]=&team[team_coordinators_attributes][0][person_attributes][last_name]=&team[team_coordinators_attributes][0][person_attributes][phone]=&
team[team_coordinators_attributes][0][role]=&team[team_coordinators_attributes][0][is_primary_contact]=&team[team_coordinators_attributes][0][is_roster_manager]=




remotes/origin/feature/new-activity-sort

DT: December 3, 2015
======================

#72: Add/Edit Credit Card: Ready for test

For the most part this looks good, but there are a few issues.
1. When I touch the card information to change it, there is a very long delay before the page that lists all the cards displays.  I don't know if there's something wrong with the UI or if the query to retrieve the user's credit cards is extremely slow.
2.  There is no way to delete credit cards from the credit card listing page.  There are soo many credit cards on file for the test user that it's very unmanageable.
3. Every time I try to make a payment I get an error.  Is the payment not ready to test yet?


Hi Carmen,

1. When I touch the card information to change it, there is a very long delay before the page that lists all the cards displays.  I don't know if there's something wrong with the UI or if the query to retrieve the user's credit cards is extremely slow.

We do not find any performance issue on this page. Could you please make a video for us on this?

2.  There is no way to delete credit cards from the credit card listing page.  There are soo many credit cards on file for the test user that it's very unmanageable.

We are working on it and will be available for testing today. We will post 'delete' functionality in a separate ticket.

3. Every time I try to make a payment I get an error.  Is the payment not ready to test yet?

Payment part is completed. 
The error you found, "unable to find credit card (Error Code: 1008)" is the valid error response from wepay. Because for testing purpose we had added some of invalid credit cards ending with '1111'. 

At the same time we are also getting the error response via email in admin@leaguer.org account. Could you please try payment using cc ending with 4018. We validated the "payment of outstanding balance" functionality and found to be working fine.

https://www.wepay.com/developer/reference/testing (Wepay Test Credit Cards)

Please let us know if you have any questions.

Best,
Amit






Leaguer and Test league(Savvyleagues.com) has been successfully published in Google play store.

Please find the URLs as follows:
https://play.google.com/store/apps/details?id=com.ionicframework.leaguer444077
https://play.google.com/store/apps/details?id=com.ionicframework.savvyleagues316570

We have already submitted required information to iTunes and its current state is "Waiting For Review". Usually Approval process takes approx 5-10days.



===============================================

>> entire row 

API
----
Added extra parameter => is_administartor => true/false

API
Modified edit registration api to include extra parameters
Created a new api to delete credit card functionality
Created a new api to add new event
Continue working on to return location with venue, Team name with id



DT: December 4, 2015
======================
API
Fixed issues during update registration
Created a new api to get event types, locations and teams
Created a new api to get venues
Created a new api to create a new event


>> Transfirst
	>> Displayed spinnig loader
>> CC payment issue Done

ANS
---
Create Schedule api

KRS
---
Registration 

=======================================================================================
70	Cart: Ready for test


Hi Carmen,

We integrated the functionality to edit registrations in cart page.

Here is the diawi link to verify the functionality,


Please verify and let us know your feedback.

Best,
Amit

==================================================================
Individual Registration/Team Registration: Ready for test

Hi Carmen,

We completed functionality for registrations in "Registration" page

Here is the diawi link to verify the functionality,


Please verify and let us know your feedback.

Best,
Amit

==================================================================
Leaguer Mobile - Milestone4 complete - Request to signoff

Hi Carmen,

We have completed all the functionalities that comes under milestone-4. 

Please find the status as follows:
 Open Registrations Listing Page DONE
 Individual Registration DONE
 Team Registration DONE
 Cart DONE
 Add/Edit Credit Card DONE
 Payment Confirmation DONE
 My Orders – Listing page DONE
 Order Detail Page (with ability to pay outstanding balance) DONE

We will submit the new app build to iTunes and GooglePlay store once you verify all the functionalities. 
 
Please let us know your feedback.


Best,
Amit

DT: December 7, 2015
======================
Meeting Agenda:
>> Mobile app testing status
>> Milestone -3 request to signoff
>> Current status of mobile app
>> Transfirst issue fix status

	--> Served asset /jquery-ui/themes/base/ui.datepicker.css - 304 Not Modified (0ms) | iframe


Doubts
>> Team page spec >> organization name 
>> Recent event score display


Transfirst:
Mulltiple overlay issue
Slow rendering 


=======================================================
Team Listing Page: Ready for test

Hi Carmen,

We have completed displaying of team page listing in "Teams and Team Payments" page.

Here is the diawi link to verify the functionality,
http://install.diawi.com/VeEMxV

Please verify and let us know your feedback.

Best,
Amit
========================================================
Team Details Page - Team Payment: Ready for test

Hi Carmen,

We integrated the functionality to pay outstanding balance in team detail page.

Here is the diawi link to verify the functionality,
http://install.diawi.com/VeEMxV

Please verify and let us know your feedback.


Best,
Amit
=========================================================
Madhusmita:

>> Bug fixing => payment section
>> make a payment button condition >> both label and amount should not be balnk
>> Do basic testing as discussed

/api/v1/teams/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/get_next_game?team_id=1819
/api/v1/teams/zgy5mzuzy2uzzmezymfhmdi1ywfkmtq1mjk1ytjhmdk=/ndg=/schedules?team_id=1875&event_type=upcoming&per_page=2&page=1


API changes
date: "Thu 12/17/15" => Wednesday, April 21 
today > true/false





<%= javascript_tag "jQuery('.fancyboxtransfirst,.wallet_link').fancybox({ live: false, 'overlayShow'	:	false, 'fitToView': false,'autoSize': true, titlePosition: 'over', type : 'ajax', beforeLoad: function(){ }, afterClose: function() { refreshwallet(#{the_user.id}); } });" %>

jQuery('.fancybox-overlay').length) 

'onComplete' : function() {
7
    $('#fancybox-frame').load(function() { // wait for frame to load and then gets it's height
8
      $('#fancybox-content').height($(this).contents().find('body').height()+30);
9
    });
10
  }

DT: December 8, 2015
======================
API
---
Fixed the subdomain url issue in confirmation email
Fixing issues while updating scores
Pushed the changes to 'rails3-api' staging branch


 i =1;
{
<div class="schedule_i">

</div>
i++


}




events

DT: December 9, 2015
======================

Hi Nasim,

We are facing weird issues with our current staging server(leaguerdemo.com - 162.209.4.99). 
We need to setup a whole new staging server from scratch, not from any server image.

Server Configuration:
Apache/2.2.15
Phusion Passenger version 5.0.11
ruby 2.1.5p273 (2014-11-13 revision 48405) [x86_64-linux]

We need to complete setup by today EOD. 

Please let me know if you have any further questions.


Best,
Amit




meetmanoj1980@gmail.com
9500 + 10000

HTML5, Javascript and CSS3 Developer
Oracle Certified Associate MySQL 5

https://www.brainbench.com/testcenter/taketest/Ruby-1.9/2967

rvm use ruby-2.1.5@leaguer215

/var/www/html/Jenkins/workspace/SportOnRails

/var/www/html/site_assets
/var/www/html/site_images


ln -nfs /var/www/html/site_icons/icons icons

ln -nfs /var/www/html/shared/config/bitly.yml config/bitly.yml
  907  ln -nfs /var/www/html/shared/config/database.yml config/database.yml
  908  ln -nfs /var/www/html/shared/config/facebook.yml config/facebook.yml
  909  ln -nfs /var/www/html/shared/config/paypal_adaptive.yml config/paypal_adaptive.yml
  910  ln -nfs /var/www/html/shared/config/shutterfly.yml config/shutterfly.yml
  911  ln -nfs /var/www/html/shared/config/twitter.yml config/twitter.yml

  
  
Hi Carmen,

We successfully setup a new staging server from scratch. Currently we are facing some issues while running the app through port 80.
We will try to fix by tomorrow. After fixes we will add the new staging server to Staging LB

Here is the IP address of new staging:
166.78.106.72

Note:
SSH credentials remains same for carmen user


Best,
Amit


========================================================================================================

Leaguer Mobile - Milestone5 complete - Request to signoff

Hi Carmen,

We have completed all the functionalities that comes under milestone-5.

Please find the status as follows:

Order Details – Pay outstanding balance
Team Listing Page
Team Team Details Page
	Team Schedule & Results
	Team Payment

Here is the diawi link to install the latest version of app,
http://install.diawi.com/3wZXF1

Note:
We will submit the new app build to iTunes and GooglePlay store once you verify all the functionalities.

Please let us know your feedback.

Best,
Amit

=====================================================================================================================
Team Team Details Page - Team Schedule & Results: Ready for test

Hi Carmen,

We have completed functionality for Team Schedule & Results page.

Here is the diawi link to verify the functionality,
http://install.diawi.com/3wZXF1

Please verify and let us know your feedback.

Best,
Amit




DT: Dec 10, 2015
-----------------

API
---
Created new api to get informtaions while edit an event
Added count to my get cart details api
Added activity id to my schedules api
Pushed all the changes to 'rail3-api' staging branch



Created new api to update an event
Created new api to send a message




Queries:

MDS
---
#97: Order HIstory - back button takes me in circles - MDS
#96: Add card and process payment: Success Messages: Pop up boxes are awkward - MDS
#94: Place Your Order - If I don't have a credit card on file, I shouldn't be able to click "place your order" also lost the registration when clicking back - MDS
#89: My Schedule - Update the message when the user has no events - MDS

SDP
----
#90: Registration - Select Payment option - Online payment amount is not displayed - SDP - DONE
#95: Cart - Should always land on the Items in your cart section. - SDP
#93: Cart - Add a big "Proceed to Check Out" button to the page - SDP
#92: Registration - Edit Registration that's in the cart. -  online payment amount does not display - SDP
#91: Registration - When there are no custom fields added to the form, the additional information section should not show - SDP




Task No - 97, 96, 94, 89

Fixed & Tested. 

Hi Carmen,

We have couple of questions regarding "Team Photos" and "News".

Team Photos:

How team photos is being displayed on web part?


Site News:

Our understanding is that we will iterate the news from db with specific organization_id.


Team Page >> Post News



Best,
Amit

DT: Dec 11, 2015
-----------------
Staging >> 'redis://162.209.1.20:6379'
Production >> 'redis://166.78.100.101:6379'


ln -nfs /var/www/html/site_assets/assets public/assets
ln -nfs /var/www/html/site_comp_assets/assets public/assets



GetScore >> new



http://192.237.170.38/api/v1/schedules/event/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/Ng==/update_results



http://192.237.170.38/api/v1/schedules/event/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/Ng==/update_results?
activity_id=&activity[events_attributes][8347][scores_attributes][0][visiting]=&activity[events_attributes][8347][scores_attributes][0][home]=&activity[events_attributes][8347][scores_attributes][0][processed_flag]=false

activity[events_attributes][8347][scores_attributes][0][score_id][visiting]=&activity[events_attributes][8347][scores_attributes][0][home]=&activity[events_attributes][8347][scores_attributes][0][processed_flag]=false

8347 => id


http://192.237.170.38/api/v1/schedules/event/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/Ng==/update_results
?activity_id=
activity[events_attributes][8173][scores_attributes][0][visiting]
activity[events_attributes][8173][scores_attributes][0][home]
activity[events_attributes][8173][scores_attributes][0][processed_flag]
activity[events_attributes][8173][scores_attributes][0][id]


Hi Carmen,

Regarding mobile app,

There will be no app submissions during Dec 22 - 29 [iTunes Connect Holiday Break: Dec 22 - 29, During this time, they will disable some features, such as app submissions.]

For this we need to submit te app updates(Milestone 4 and 5) ASAP. 

We have already resolved all the issues raised by you under Milestone-4 in OS. And also completed Milestone-5. It would be great if we are able to signoff both the milestones by Monday so that we will start working on to deploy new updates to iTunes and Google Play store.


Here is the video,
http://screencast.com/t/0d6PE1fXZT

Please share your thoughts.


Best,
Amit


DT: Dec 14, 2015
=================
Reminder to signoff milestone-4

"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:v1=\"http://postilion/realtime/merchantframework/xsd/v1/\"><soapenv:Header/><soapenv:Body><v1:SendTranRequest><v1:merc><v1:id>7777778598</v1:id><v1:regKey>BLHP7DK5W385J6WZ</v1:regKey><v1:inType>1</v1:inType><v1:prodType>5</v1:prodType></v1:merc><v1:tranCode>14</v1:tranCode><v1:reqAmt>1105</v1:reqAmt><v1:indCode>2</v1:indCode><v1:recurMan><v1:id>1449742238618149931</v1:id></v1:recurMan></v1:SendTranRequest></soapenv:Body></soapenv:Envelope>\n"

Task break down: 9hours

Authentication 3
 Design 1 
 Coding  2





#365: Transfirst - Error messages: Fix text of error message >> DONE
#367  Transfirst - Order administration - Order details: Need to display which processor was used to process a payment >> Done
#366  Transfirst - Refunds: Failed refund did not give an error message



Started GET "/administration/orders/new_refund/135302630334097" for 10.0.2.2 at 2015-12-14 12:31:04 +0000
  OrderState Load (0.6ms)  SELECT `order_states`.* FROM `order_states`
  OnlineTransactionState Load (0.6ms)  SELECT `online_transaction_states`.* FROM `online_transaction_states`
  RegistrationState Load (0.6ms)  SELECT `registration_states`.* FROM `registration_states`
  AdjustmentState Load (0.7ms)  SELECT `adjustment_states`.* FROM `adjustment_states`
  EventState Load (0.5ms)  SELECT `event_states`.* FROM `event_states`
Processing by Administration::OrdersController#new_refund as JS
  Parameters: {"id"=>"135302630334097"}
  Domain Load (0.6ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.8ms)  SELECT `organiza



flash[:warning] = "There was an error processing your order.  You can attempt to pay again at the bottom of this page. <br/>".html_safe + online_transaction.service_message


administration/orders/create_refund.js.rjs




flash-warning


https://soccer.leaguerdemo.com/administration/orders/1450100104837814


http://screencast.com/t/tfA55QB43AL
Tried refunding this order and it didn't work and from the error message I have no idea why it didn't work.
https://soccer.leaguerdemo.com/administration/orders/14498474115890522


Hi Carmen,

Seems there is an issue with settled transaction. We will look into this and keep you posted.
In the meantime you can test the 


Best,
Amit



Remove alert while moving cart


DT: Dec 15, 2015
=================
1 - Done
  Waiver/release link is there then "Continue" button to be placed in next page   
	>> if waiver not selected, then show prompt with "Okay and Cancel"
	>> Click on Okay redirect to waiver sign page

2 - Payment error - error message displayed when payment is done (After payment error item is not displayed in cart so, no. of itmes in check out becomes 0)
 3:57

3 - Done
 Items saved for later >> Move to cart 
 >> Change "Are you sure?" to "You will be redirected to your cart upon clicking the OK button"
 >> After OK button click redirect to cart page

4 - Payment cannot be done in app but can be done in web >> Not an issue

5 - Any order that is cancelled and payment cannot be done, then still the pay now option comes for it.

6 - The balance amount is not displayed properly in the orders for which the payment has to be done.

7 - Put "CheckOut Now" button at the bottom of the cart page too Done

8 - Comming from order detail page to listing >> Dont make api call 
    api call only if click from main menu "Make a payment/Order History"


remotes/origin/activity-sort-and-custom-registration-field-validation



http://soccer.lth.me:3000/administration/orders/1450099123306925

>> return cancelled in order listing api  and also for each product/line items

is_cancelled



product_line_items
registrations



mysql -h localhost -u root -p sportsdev_local < sportsdev_dec_15.sql



{:send_tran_response=>{:rsp_code=>"00", :auth_rsp=>nil, :tran_data=>{:swch_key=>"0A100933151A4711D33A7B029CADEC", :tran_nr=>"000011506821", :dt_tm=>Mon, 14 Dec 2015 23:00:55 -0800, :amt=>"000000002000", :stan=>"035183"}, :card_type=>"1", :map_caid=>"300979940268000", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}






https://soccer.leaguerdemo.com/administration/orders/1450159211005832


{"tranNr"=>["11379701"], "CustRefID"=>[""], "Auth"=>["Lexc05"], "Status"=>["Refunded"], "Message"=>["Approved or completed successfully"]}


https://soccer.leaguerdemo.com/administration/orders/1450159211005832





{"registration"=>{"registration_product_id"=>"2074", "payment_type"=>"65", "target_self"=>"false", "registration_target_person_attributes"=>{"email_address"=>"admin@leaguer.org", "email_id"=>"38690", "other_first_name"=>"Gina", "other_last_name"=>"Johnson", "other_gender"=>"male", "other_birthdate(1i)"=>"1982", "other_birthdate(2i)"=>"12", "other_birthdate(3i)"=>"10", "address"=>"1375 Broadway, Fl 3", "city"=>"New York", "state"=>"NY", "zip"=>"10018", "phone"=>"212-555-1212", "id"=>"47096"}, "emergency_contact_person_attributes"=>{"first_name"=>"Carmen", "last_name"=>"Bellavia", "phone"=>"917-714-9088", "emails_attributes"=>{"0"=>{"email_address"=>"carmen@leaguer.org", "id"=>"38691"}}, "id"=>"47097"}, "comment"=>""}, "team_invite_id"=>"", "preselected_registration_target_person"=>"47096", "custom_form_reply"=>{"extra_field_data"=>{"Your_Name_"=>"", "Additional_Info_To_Share_With_Us_"=>""}}, "commit"=>"Continue", "_"=>"", "id"=>"15148", "auth_token"=>"ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=", "org_id"=>"NDg="}


{"registration"=>{"registration_product_id"=>"2074", "payment_type"=>"online", "target_self"=>"1", "registration_target_person_attributes"=>{"emails_attributes"=>{"0"=>{"address"=>"admin@leaguer.org", "id"=>"38688"}}, "first_name"=>"admin", "last_name"=>"user", "gender"=>"male", "birthdate"=>"1980-03-29", "address"=>"jsdnfj", "city"=>"Ny", "state"=>"Ny", "zip"=>"89765", "phone"=>"2365897458", "id"=>"47094"}, "emergency_contact_person_attributes"=>{"first_name"=>"fsdf", "last_name"=>"sdfsdf", "phone"=>"566778990", "emails_attributes"=>{"0"=>{"email_address"=>"fsdfn@sdfnk.com", "id"=>"38689"}}, "id"=>"47095"}, "comment"=>""}, "team_invite_id"=>"", "preselected_registration_target_person"=>"customer", "commit"=>"Continue", "_"=>"", "controller"=>"registrations", "action"=>"update_details", "id"=>"15147"}


{"registration"=>{"registration_product_id"=>"2074", "payment_option_id"=>"65", "target_self"=>"1", "registration_target_person_attributes"=>{"emails_attributes"=>{"0"=>{"address"=>"admin@leaguer.org", "id"=>"38688"}}, "first_name"=>"admin", "last_name"=>"user", "gender"=>"male", "birthdate"=>"1980-03-29", "address"=>"jsdnfj", "city"=>"Ny", "state"=>"Ny", "zip"=>"89765", "phone"=>"2365897458", "id"=>"47094"}, "emergency_contact_person_attributes"=>{"first_name"=>"fsdf", "last_name"=>"sdfsdf", "phone"=>"566778990", "emails_attributes"=>{"0"=>{"email_address"=>"fsdfn@sdfnk.com", "id"=>"38689"}}, "id"=>"47095"}, "comment"=>""}, "team_invite_id"=>"", "preselected_registration_target_person"=>"customer", "commit"=>"Continue", "_"=>"", "controller"=>"registrations", "action"=>"update_details", "id"=>"15147"}


http://screencast.com/t/tfA55QB43AL
Tried refunding this order and it didn't work and from the error message I have no idea why it didn't work.
https://soccer.leaguerdemo.com/administration/orders/14498474115890522


Hi Carmen,

We fixed the refund issue if the transaction has been settled.
Please verify and let us know your feedback.

Note:
https://soccer.leaguerdemo.com/administration/orders/14498474115890522
We have already refunded some amount with transaction id associated with the above order in our local system. So it may throw error due do DB inconsistency
You can either try refund with another order, or you can try by entering minimum custom amount like $20 for this particular order.

Best,
Amit




branch >> transfirst_v2
Add a tab in My Account >> Payment options

https://github.com/cbellavia/SportsOnRails/blob/transfirst_v2/app/controllers/account/credit_cards_controller.rb
method wallet_info

@user.wallets

credit_cards >> table >> customer_id is not null


DT: Dec 16, 2015
=================
Created a new api to get news items
Modified order details api for is_canceled and price

API
----
Created api for getting the activities for manage schedule section
Created new api to return events as per the selected activities.
Pushed all the changes to 'rails3-api' staging branch.

Bug
----
Reschedule >> Start date and time should be prefilled 
cancel >> loader untill getting the response
cancel >> keyboard open issue
event detail >> click on location page >> click back button >> loader is spinning in event detail page for infinite time

respond_to do |format|

format.js { render text: res, status: :unprocessable_entity }  

end

$.ajax
success
error

http://soccer.leaguerdemo.com/administration/schedules?activity_id=4462
Find query for "League/Activity"






DT: Dec 17, 2015
=================
Get rid of old leaguerdemo server by taking image
Status of Milestone 4 and 5

>> All services must restart on reboot

API
----
Modified the api to get upcoming and completed in manage schedule section
Created api to get events according to month and year in manage schedule section
Pushed all the changes to 'rails3-api' staging branch




adding a new tab in my account called “payment options”, which would allow customers to at least remove the credit cards (aka wallets) that are stored in our system.
 
Transfirst - My Account - Payment Options tab added




  
 
remotes/origin/activity-sort-and-custom-registration-field-validation


month year



There are no recently completed events in your calendar.

----------------------------------------------------------

There are currently no upcoming events in your calendar. 
There are currently no events in your calendar. 





You will be redirected to your cart upon clicking the OK button

return error_response(INVALID_REQUEST, "required parameters are missing") unless params[:activity_ids].present?
past_upcoming_cutoff = Time.zone.parse(Time.zone.today.to_s)
completed_cutoff = past_upcoming_cutoff - 2.weeks
if params[:activity_ids] == "all"
  activities = @current_organization.activities.where("activity_end >= ? AND activity_start >= ?", Time.zone.today - 7.days, Time.zone.today - 7.days)      
else
  activities = Activity.find_all_by_id(params[:activity_ids].split(","))      
end


 events = activities.map { |act| act.events.where("start in between ? and ?", start , end}.flatten
 
 
 
DT: Dec 18, 2015
=================
"all transaction types being used (sale, auth, void, credit, recurring, reporting etc….) Please also include the integration method being used for all transaction types (Hosted, POST, Web Service)." 


Credit Card Web Services


Transaction types

Sale
===============================================================================================

Add Credit Card functionality:

Recurring Web Services page: 126

Transaction type: Add Customer, Wallet, Recurring Details (We are not using the recurring details portion) page: 139

Integration method: UpdtRecurrProfRequest

==============================================================================================================================

Authorizing credit Card functionality (During Credit Card save)

Account Verification (with mandatory and conditional fields) page: 112

Integration method: SendTranRequest

==================================================================================================

Purchase functionality:

Wallet Sale (with mandatory and conditional fields) page: 117

Integration method: SendTranRequest

======================================================================================================

Refund functionality:

Credit / Return (with mandatory fields) page: 96

Integration method: SendTranRequest


=================================================================
authorize

purchase

refund

authorize/purchase/refund

You should be using the Sale, not the Auth Only function for credit card sales since the transactions are for customer payments


There is a request that allows you to create a customer and wallet profile at the same time.  There is also a second request that allows you to run a sale against a wallet.  The requests are found in the integration guide.
 
Use:
 
Add Customer, Wallet, Recurring Details (pg 139) to create the customer and wallet profiles.  You do not need to use the recurring details portion.
 
Then Use:
 
Wallet Sale (with mandatory and conditional fields) (pg 117) to bill against the wallet profile.



UpdtRecurrProfRequest => for creating customer and wallet profile (pg 139)
SendTranRequest => Wallet verification(before saving credit card) / Wallet Sale (with mandatory and conditional fields) (pg 117)
SendTranRequest => Refund



DT: Dec 21, 2015
=================

>> Add Carmen in sudo user group

API
---
Modified the get_billing_address api for wepay environment and client id
Modified the add_credit_card api to get the credit card id
Modified the get_team_photos api to display album id and name
Pushed all the changes to "rails3-api" staging branch


ln -nfs /var/www/html/site_comp_assets/assets public/assets



 .gitignore                                         |    6 ++
 Gemfile                                            |    3 +
 .../administration/activities_controller.rb        |   22 ++--
 .../administration/orders_controller.rb            |    2 +-
 .../administration/registrations_controller.rb     |   56 ++++++++--
 .../activity_search_settings_controller.rb         |   45 ++++++++
 .../organization_team_page_defaults_controller.rb  |    1 -
 app/controllers/registrations_controller.rb        |    1 +
 app/models/activity.rb                             |   17 +++
 app/models/adjustments/adjustment.rb               |    8 +-
 app/models/order.rb                                |    9 ++
 app/models/page.rb                                 |    1 -
 app/models/product_line_item.rb                    |   30 ++++++
 app/models/registration.rb                         |  113 ++++++++++++++++++--
 app/models/registration_product.rb                 |   13 +++
 .../administration/activities/_filter_bar.html.erb |    1 +
 app/views/administration/activities/index.html.erb |   23 ++--
 .../administration/orders/_order_summary.html.erb  |   22 +++-
 .../_accounts_receivable_action_bar.html.erb       |   34 ++++++
 .../_accounts_receivable_row_item.html.erb         |   24 +++++
 .../registrations/_in_progress_filter_bar.html.erb |    8 ++
 .../registrations/_registration_areas_bar.html.erb |    3 +-
 .../registrations/accounts_receivable.html.erb     |   41 +++++++
 .../activity_search_settings/show.html.erb         |   16 +++
 .../organization_team_page_defaults/show.html.erb  |    1 -
 .../settings/shared/_navigation.html.erb           |    2 +
 .../_radio_buttons_input.html.erb                  |    2 +-
 .../_details_enabled_registration_fields.html.erb  |    4 +-
 config/assets.yml                                  |    2 +-
 config/routes.rb                                   |    2 +
 config/sms_fu.yml                                  |    2 +-
 config/wepay.yml                                   |    2 +-


 
 
Hi Amit,


I'm getting a page observer error when the page observer is trying to clear the cached menu widget.

Please look at this ASAP, because I was hoping to deploy my changes to production.

Thanks,
Carmen


-----------------build request
---------> body
"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:v1=\"http://postilion/realtime/merchantframework/xsd/v1/\"><soapenv:Header/><soapenv:Body><v1:UpdtRecurrProfRequest><v1:merc><v1:id>7777778598</v1:id><v1:regKey>BLHP7DK5W385J6WZ</v1:regKey><v1:inType>1</v1:inType><v1:prodType>5</v1:prodType></v1:merc><v1:cust><v1:type>0</v1:type><v1:contact><v1:fullName>Justin Gat</v1:fullName><v1:addrLn1>55s Main St.</v1:addrLn1><v1:city>New York</v1:city><v1:state>NY</v1:state><v1:zipCode>10024</v1:zipCode><v1:type>1</v1:type><v1:stat>1</v1:stat></v1:contact><v1:pmt><v1:type>0</v1:type><v1:card><v1:pan>41111111111111111</v1:pan><v1:sec>789</v1:sec><v1:xprDt>1601</v1:xprDt></v1:card><v1:desc>My Wallet</v1:desc><v1:indCode>2</v1:indCode></v1:pmt></v1:cust></v1:UpdtRecurrProfRequest></soapenv:Body></soapenv:Envelope>"



--------------> make_request <---------------------
#<Savon::Client:0x1ca4a01c @globals=#<Savon::GlobalOptions:0x1ca49fb8 @option_type=:global, @options={:encoding=>"UTF-8", :soap_version=>1, :namespaces=>{}, :logger=>#<Logger:0x1ca49f7c @progname=nil, @level=0, @default_formatter=#<Logger::Formatter:0x1ca49f40 @datetime_format=nil>, @formatter=#<Logger::SimpleFormatter:0x1ca49eb4 @datetime_format=nil>, @logdev=#<Logger::LogDevice:0x1ca49f18 @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<IO:<STDOUT>>, @mutex=#<Logger::LogDevice::LogDeviceMutex:0x1ca49f04 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x1ca49ec8>>>>, :log=>false, :filters=>[], :pretty_print_xml=>true, :raise_errors=>true, :strip_namespaces=>true, :convert_response_tags_to=>#<Proc:0x1ca49dd8@/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/savon-2.7.2/lib/savon/options.rb:85 (lambda)>, :convert_attributes_to=>#<Proc:0x1ca49dc4@/home/vagrant/.rvm/gems/ruby-2.0.0-p598@leaguer3/gems/savon-2.7.2/lib/savon/options.rb:86 (lambda)>, :multipart=>false, :adapter=>nil, :use_wsa_headers=>false, :no_message_tag=>false, :follow_redirects=>false, :ssl_verify_mode=>:none, :wsdl=>"/vagrant/new_dev/SportsOnRails/app/services/api/transfirst/wsdl/transfirst-v1.wsdl"}>, @wsdl=#<Wasabi::Document:0x1ca499dc @document="/vagrant/new_dev/SportsOnRails/app/services/api/transfirst/wsdl/transfirst-v1.wsdl", @adapter=nil, @request=#<HTTPI::Request:0x1ca499b4 @auth=#<HTTPI::Auth::Config:0x1ca4998c @ssl=#<HTTPI::Auth::SSL:0x1ca49978 @verify_mode=:none>>, @follow_redirect=false>>>
"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:v1=\"http://postilion/realtime/merchantframework/xsd/v1/\"><soapenv:Header/><soapenv:Body><v1:SendTranRequest><v1:merc><v1:id>7777778598</v1:id><v1:regKey>BLHP7DK5W385J6WZ</v1:regKey><v1:inType>1</v1:inType></v1:merc><v1:tranCode>9</v1:tranCode><v1:card><v1:pan>41111111111111111</v1:pan><v1:sec>789</v1:sec><v1:xprDt>1702</v1:xprDt></v1:card><v1:contact><v1:addrLn1>55s Main St.</v1:addrLn1><v1:zipCode>10024</v1:zipCode></v1:contact></v1:SendTranRequest></soapenv:Body></soapenv:Envelope>\n"
:send_tran



https://ws.cert.transactionexpress.com:443/portal/merchantframework/MerchantWebServices-v1?xsd=2

service iptables status


var soapRequest ='<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">   <soap:Body> <getQuote xmlns:impl="http://abc.com/services/soap/server1.php">  <symbol>' + $("#txtName").val() + '</symbol>   </getQuote> </soap:Body></soap:Envelope>';







https://mail.google.com/mail/u/0/#search/carmen%40leaguer.org+transfirst/14f252ab28c309cd





var wsUrl = "http://myserver/anysite/_layouts/myfolder/webservice1.asmx?op=Hello";



var soapRequest =
'<?xml version="1.0" encoding="utf-8"?> \
<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" \
    xmlns:xsd="http://www.w3.org/2001/XMLSchema" \
    xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"> \
  <soap:Body> \
    <Hello xmlns="http://tempuri.org/"> \
      <name>' + $("#txtName").val() + '</name> \
    </Hello> \
  </soap:Body> \
</soap:Envelope>';


var wsUrl = "https://ws.cert.transactionexpress.com:443/portal/merchantframework/MerchantWebServices-v1?xsd=2";
var soapRequest = 
	'<?xml version="1.0" encoding="utf-8"?> \
		<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" \
			xmlns:v1="http://postilion/realtime/merchantframework/xsd/v1/"> \
			<soapenv:Header/> \ 
			<soapenv:Body><v1:SendTranRequest> \
			<v1:merc><v1:id>7777778598</v1:id> \
			<v1:regKey>BLHP7DK5W385J6WZ</v1:regKey> \
			<v1:inType>1</v1:inType> \
			</v1:merc><v1:tranCode>9</v1:tranCode> \
			<v1:card><v1:pan>41111111111111111</v1:pan><v1:sec>789</v1:sec><v1:xprDt>1702</v1:xprDt></v1:card> \
			<v1:contact><v1:addrLn1>55s Main St.</v1:addrLn1><v1:zipCode>10024</v1:zipCode></v1:contact> \
			</v1:SendTranRequest></soapenv:Body></soapenv:Envelope>' ;

jQuery.ajax({
			type: "POST",
			url: wsUrl,
			contentType: "text/xml",
			dataType: "xml",
			data: soapRequest,
			success: processSuccess,
			error: processError
		});



		
		
		--------> body
"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:v1=\"http://postilion/realtime/merchantframework/xsd/v1/\"><soapenv:Header/><soapenv:Body><v1:UpdtRecurrProfRequest><v1:merc><v1:id>7777778598</v1:id><v1:regKey>BLHP7DK5W385J6WZ</v1:regKey><v1:inType>1</v1:inType><v1:prodType>5</v1:prodType></v1:merc><v1:cust><v1:type>0</v1:type><v1:contact><v1:fullName>test test</v1:fullName><v1:addrLn1>55s Main St.</v1:addrLn1><v1:city>New York</v1:city><v1:state>NY</v1:state><v1:zipCode>10024</v1:zipCode><v1:type>1</v1:type><v1:stat>1</v1:stat></v1:contact><v1:pmt><v1:type>0</v1:type><v1:card><v1:pan>5454545454545454</v1:pan><v1:sec>789</v1:sec><v1:xprDt>1702</v1:xprDt></v1:card><v1:desc>My Wallet</v1:desc><v1:indCode>2</v1:indCode></v1:pmt></v1:cust></v1:UpdtRecurrProfRequest></soapenv:Body></soapenv:Envelope>\n"

https://leonidius2010.wordpress.com/2011/05/16/98/
http://stackoverflow.com/questions/12796941/how-to-call-soap-ws-from-javascript-jquery

http://fahadismy.name/soap-calls-using-jquery-ajax/


Hi Carmen,

After investigation, we found that heavy bandwidth is being used by an anonymous command "unama" running on the server(See Screenshot). Interesting about this is that the overall average for traffic is low but, there are points in time where the traffic spikes really high and there's no pattern to it, it's at different times everyday.

When we went to start iptables(firewall), then we got redis connect issue from remote. We found that lots of user facing same issue(redis connect issue from remote with firewall on) in CentOS server.

We setup new server(Ubuntu 14.04)(IP address: 198.61.177.4), installed redis keeping firewall on, now we are able to communicate with redis server from remote. We will install Jenkin and run the crontab on new server, so that we can get rid of the current staging background server.


Note:
Making production background server only accessible via the Rackspace network may not resolve issue, as we are having issue with outgoing calls(See screenshot).
We need to follow same steps as new staging background server. Please suggest.


Best,
Amit




Leaguer-api => 166.78.241.142
Leaguer_staging => 166.78.106.72
LeaguerDemo_API => 192.237.170.38


DT: Dec 24, 2015
-------------------

Please deploy to production between 4:30am and 6am eastern tonight and run a db:migrate.
The migration may take a while because it’s denormalizing data on every record in the registrations table.


Additionally, please be 100% sure that the application comes back online by going to www.leaguer.org and www.bigcityvolleyball.com
I’m worried that the sidekiq.rb and redis.rb configuration files might get messed up and cause the server not to start correctly.
Also, I’m worried that the permissions issue that occurred in staging, might show up in production and I want to be 100% certain we don’t have issues, especially, since it’s christmas eve tomorrow.




{"Envelope"=>{"xmlns:soapenv"=>"http://schemas.xmlsoap.org/soap/envelope/", "xmlns:v1"=>"http://postilion/realtime/merchantframework/xsd/v1/", "Header"=>nil, "Body"=>{"UpdtRecurrProfRequest"=>{"merc"=>{"id"=>"7777778598", "regKey"=>"BLHP7DK5W385J6WZ", "inType"=>"1", "prodType"=>"5"}, "cust"=>{"type"=>"0", "contact"=>{"fullName"=>"test test", "addrLn1"=>"55s Main St.", "city"=>"New York", "state"=>"NY", "zipCode"=>"10024", "type"=>"1", "stat"=>"1"}, "pmt"=>{"type"=>"0", "card"=>{"pan"=>"5454545454545454", "sec"=>"789", "xprDt"=>"1702"}, "desc"=>"My Wallet", "indCode"=>"2"}}}}}, "action"=>"save_wallet", "controller"=>"account/credit_cards"}








https://ws.cert.transactionexpress.com/portal/merchantframework/MerchantWebServices-v1/UpdtRecurrProfRequest?wsdl


app/assets/javascripts/soap.js
app/controllers/account/credit_cards_controller.rb
app/services/api/transfirst/api.rb
app/views/account/credit_cards/new_wallet.html.erb
config/initializers/redis.rb
config/initializers/sidekiq.rb




create mode 100644 db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb
create mode 100644 db/migrate/20151219023951_add_outstanding_and_past_due_amounts_to_pli.rb



https://rocky1982.wordpress.com/2011/06/14/call-soap-xml-web-services-with-jquery-ajax/



Hi Carmen,

We verified again all our services we created during initial setup of leaguer staging servers. All the services were already stopped(See screenshot). We should not be worried about the email.
You can also verify the same from the amazon dashboard.



Best,
Amit



10.177.128.109


 
198.61.177.4 => staging background
198.61.170.22 => production background




Rails 4.0. Move them out and bundle them in your Gemfile, or fold them in to your app as lib/myplugin/* and config/initializers/myplugin.rb. See the release notes for more on this: http://weblog.rubyonrails.org/2012/1/4/rails-3-2-0-rc2-has-been-released. (called from <top (required)> at /var/www/html/Jenkins/workspace/Production_replica/Rakefile:7)
rake aborted!
Redis::CannotConnectError: Error connecting to Redis on 166.78.100.101:6379 (Redis::TimeoutError)
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/redis-3.2.1/lib/redis/client.rb:331:in `rescue in establish_connection'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/redis-3.2.1/lib/redis/client.rb:317:in `establish_connection'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/redis-3.2.1/lib/redis/client.rb:94:in `block in connect'





rake aborted!
StandardError: An error has occurred, all later migrations canceled:

undefined method `*' for nil:NilClass/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:174
5:in `adjusted_price'



==  AddOutstandingAndPastDueAmounts: migrating ================================
-- add_column(:registrations, :outstanding_balance, :float, {:default=>0})
   -> 5.2554s
-- add_column(:registrations, :past_due, :float, {:default=>0})
   -> 4.5874s
rake aborted!
StandardError: An error has occurred, all later migrations canceled:

undefined method `*' for nil:NilClass/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:174
5:in `adjusted_price'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1969:in `outstanding_balance_amount_nonw
aitlist'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1956:in `outstanding_balance_amount'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1960:in `update_outstanding_balance_amou
nt'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:7
:in `block in up'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:6
:in `each'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:6
:in `up'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:410:in `block (2 levels
) in migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:410:in `block in migrat
e'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract/connect
ion_pool.rb:129:in `with_connection'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:389:in `migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:528:in `migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:720:in `block (2 levels
) in migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:777:in `call'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:777:in `ddl_transaction
'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:719:in `block in migrat
e'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:700:in `each'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:700:in `migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:570:in `up'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:551:in `migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/railties/databases.rake:193:in `bloc
k (2 levels) in <top (required)>'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/bin/ruby_executable_hooks:15:in `eval'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/bin/ruby_executable_hooks:15:in `<main>'
NoMethodError: undefined method `*' for nil:NilClass
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1745:in `adjusted_price'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1969:in `outstanding_balance_amount_nonw
aitlist'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1956:in `outstanding_balance_amount'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1960:in `update_outstanding_balance_amou
nt'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:7
:in `block in up'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:6
:in `each'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:6
:in `up'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:410:in `block (2 levels
) in migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:410:in `block in migrat
e'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract/connect
ion_pool.rb:129:in `with_connection'



Hi Amit,

Please deploy to production between 4:30am and 6am eastern tonight and run a db:migrate.
The migration may take a while because it’s denormalizing data on every record in the registrations table.

Additionally, please be 100% sure that the application comes back online by going to www.leaguer.org and www.bigcityvolleyball.com
I’m worried that the sidekiq.rb and redis.rb configuration files might get messed up and cause the server not to start correctly.
Also, I’m worried that the permissions issue that occurred in staging, might show up in production and I want to be 100% certain we don’t have issues, especially, since it’s christmas eve tomorrow.




Hi Carmen,

We deployed successfully to production server. We had to change the redis server urls in staging and production as got error immediate after deployment.
We also found one faulty code in config/initializers/sidekiq.rb(See screenshot below) which has been rectified by us.
We also did some testing like news posting and editing an event, all worked fine.

But when we tried to run the migration, found below error after running for 30mins 

==  AddOutstandingAndPastDueAmounts: migrating ================================
-- add_column(:registrations, :outstanding_balance, :float, {:default=>0})
   -> 5.2554s
-- add_column(:registrations, :past_due, :float, {:default=>0})
   -> 4.5874s
rake aborted!
StandardError: An error has occurred, all later migrations canceled:

undefined method `*' for nil:NilClass/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:174
5:in `adjusted_price'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1969:in `outstanding_balance_amount_nonw
aitlist'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1956:in `outstanding_balance_amount'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1960:in `update_outstanding_balance_amou
nt'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:7
:in `block in up'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:6
:in `each'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:6
:in `up'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:410:in `block (2 levels
) in migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:410:in `block in migrat
e'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract/connect
ion_pool.rb:129:in `with_connection'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:389:in `migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:528:in `migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:720:in `block (2 levels
) in migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:777:in `call'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:777:in `ddl_transaction
'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:719:in `block in migrat
e'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:700:in `each'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:700:in `migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:570:in `up'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:551:in `migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/railties/databases.rake:193:in `bloc
k (2 levels) in <top (required)>'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/bin/ruby_executable_hooks:15:in `eval'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/bin/ruby_executable_hooks:15:in `<main>'
NoMethodError: undefined method `*' for nil:NilClass
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1745:in `adjusted_price'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1969:in `outstanding_balance_amount_nonw
aitlist'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1956:in `outstanding_balance_amount'
/var/www/html/Jenkins/workspace/Production_replica/app/models/registration.rb:1960:in `update_outstanding_balance_amou
nt'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:7
:in `block in up'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:6
:in `each'
/var/www/html/Jenkins/workspace/Production_replica/db/migrate/20151219011642_add_outstanding_and_past_due_amounts.rb:6
:in `up'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:410:in `block (2 levels
) in migrate'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/migration.rb:410:in `block in migrat
e'
/usr/local/rvm/gems/ruby-2.1.5@leaguer/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract/connect
ion_pool.rb:129:in `with_connection'



We are unable to do anything in order to fix as we are not aware of the requirement/implmentation. 
Could you please look into this?


PS:
Please make sure that we do not push these config files(redis.rb and sidekiq.rb inside initializer folder) to staging/production.
Changed the new url for redis in production branch


Best,
Amit





===========================

Rackspace may be willing to waive some of the excess charges, but want to know the answers to these questions.  Could you please provide me with the answers and I will relay them to Rackspace.

We can look into the potential of assisting you with a portion of your outgoing bandwidth charges for that server if you can provide me with the following:

    1) The vulnerability that caused the server compromise.
    2) The actions you took to resolve the server compromise.
    3) The actions you are taking to prevent this kind of server compromise in the future.

Please keep in mind that this is a one-time offer being made in good-faith, and will not be repeated if another server compromise occurs. I would recommend installing a bandwidth monitor on your server that will keep track of your bandwidth (VNStat and/or NewRelic are two options), and notify you of any unusual activity.


==============================================================================

1) The vulnerability that caused the server compromise.
Heavy bandwidth is being used by an anonymous command "unama" running on the server. Interesting about this is that the overall average for traffic is low but, there are points in time where the traffic spikes really high and there's no pattern to it, it's at different times everyday.


2) The actions you took to resolve the server compromise.
We have applied security patches by updating the CentOS server(yum update). We also tried to manage firewall. But the process is getting started automatically even after killing.
Additionality we have another cache server(redis) installed on that faulty server, but incomming connection to port 6379 could not happen with firewall enabled due to some glitches with this particlur CentOS edition.


3) The actions you are taking to prevent this kind of server compromise in the future.
We are now setting up new server with Ubuntu OS with firewall enabled to prevent such type of server comprisation in future. Once we completed the setup we will destroy the faulty servers ASAP.


=====================================================================



Hi Carmen,

Please find updates as follows:

Mobile
Displayed all events in manage schedule and my schedule page accrording to spec.
Fixed location issue in event detail and manage event detail page.
Displayed event status in event my schedule page.
Changed the position of event status in my schedule and manage schedule listing page.
Rnd on scrollto function in jquery and angular js.
Implemented 'today' functionality in manage schedule page.


Here is the diawi link to install updated version of app,
http://install.diawi.com/KG7QtB

Best,
Amit




























   function soap_call(){     
	var wsUrl = "https://ws.cert.transactionexpress.com/portal/merchantframework/MerchantWebServices-v1?wsdl";
	var soapRequest = 
	    '<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:v1="http://postilion/realtime/merchantframework/xsd/v1/"> \
		  <SOAP-ENV:Body> \
			<v1:UpdtRecurrProfRequest> \
				 <v1:merc> \
					<v1:id>7777778598</v1:id> \
					<v1:regKey>BLHP7DK5W385J6WZ</v1:regKey> \
					<v1:inType>1</v1:inType> \
					<v1:prodType>5</v1:prodType> \
				 </v1:merc> \
				 <v1:cust> \
					<v1:type>0</v1:type> \
					<v1:contact> \
					   <v1:fullName>Test Person</v1:fullName> \
					   <v1:addrLn1>123 Main</v1:addrLn1> \
					   <v1:addrLn2>Second Floor</v1:addrLn2> \
					   <v1:city>Gilbert</v1:city> \
					   <v1:state>AZ</v1:state> \
					   <v1:zipCode>85296</v1:zipCode> \
					   <v1:type>1</v1:type> \
					   <v1:stat>1</v1:stat> \
					</v1:contact> \
					<v1:pmt> \
					   <v1:type>0</v1:type> \
					   <v1:card> \
						  <v1:pan>4485896261017708</v1:pan> \
						  <v1:sec>999</v1:sec> \
						  <v1:xprDt>1602</v1:xprDt> \
					   </v1:card> \
					   <v1:ordNr>Cust Ref ID  Can be used for extra info</v1:ordNr> \
					   <v1:desc>Can be used to name wallet again</v1:desc> \
					   <v1:indCode>2</v1:indCode> \
					</v1:pmt> \
				 </v1:cust> \
			  </v1:UpdtRecurrProfRequest> \
		  </SOAP-ENV:Body> \
		</SOAP-ENV:Envelope>' ;
		jQuery.ajax({
			type: "POST",
			url: wsUrl,
			contentType: "text/xml; charset=\"utf-8\"",
			dataType: "xml",
			data: soapRequest,
			//processData: false,
			//async:true,
			headers: {
				SOAPAction: "UpdtRecurrProf"
			},
			complete: function (xmlHttpRequest) {
				alert(xmlHttpRequest.responseXML);
			},

		});
		
	}
	
	
	
	
	
	RAILS_ENV=production rake update_balances_and_past_due_aounts
	
	
	
	why does the redis and sidekiq configs alway revert to the old ip addresss
	
	
	
	
	rescue => e
	Rails.logger.info e.message
	
	Rails.logger.info e.backtrace.join("\n")
	
	
	
Leaguer Mobile - Milestone6 complete - Request to signoff
	
	
Hi Carmen,

We have completed all the functionalities that comes under milestone-5.

Please find the status as follows:

Cancel Events Done
Postpone Events Done
Reschedule Events Done


We have merged all the changes to "staging" branch.

Here is the diawi link to install the latest version of app,
http://install.diawi.com/KG7QtB

Please let us know your feedback.

Best,
Amit
	
	
	
DT: Dec 28, 2015
----------------

Mobile
>> Enter Scores

Web
>> Transfirst create cc api 

but looking at the response, it does not return this header it this case



integrationsupport@transfirst.com 


API call from Javascript - CORS issue

Hi,

The problem is appearing because of we are using javascript to create wallet and same origin policy doesn't allow us to request domain, which are different from ours.

We found that remote host is not providing a CORS header, like Access-Control-Allow-Origin: *, which allows all domains to request it. 

Just checked the same request with a Postman(https://www.getpostman.com/) - there's everything absolutely fine with our request itself. 

Cache-Control → private
Content-Encoding → gzip
Content-Type → text/xml;charset=utf-8
Date → Thu, 24 Dec 2015 11:28:37 GMT
Server → WebServer
Transfer-Encoding → chunked

But looking at the response, it does not return this(Access-Control-Allow-Origin) header it our case.



Here is the javascript code snippet,

function soap_call(){     
    var wsUrl = "https://ws.cert.transactionexpress.com/portal/merchantframework/MerchantWebServices-v1?wsdl";
    var soapRequest = 
        '<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:v1="http://postilion/realtime/merchantframework/xsd/v1/"> \
          <SOAP-ENV:Body> \
            <v1:UpdtRecurrProfRequest> \
                 <v1:merc> \
                    <v1:id>7777778598</v1:id> \
                    <v1:regKey>BLHP7DK5W385J6WZ</v1:regKey> \
                    <v1:inType>1</v1:inType> \
                    <v1:prodType>5</v1:prodType> \
                 </v1:merc> \
                 <v1:cust> \
                    <v1:type>0</v1:type> \
                    <v1:contact> \
                       <v1:fullName>Test Person</v1:fullName> \
                       <v1:addrLn1>123 Main</v1:addrLn1> \
                       <v1:addrLn2>Second Floor</v1:addrLn2> \
                       <v1:city>Gilbert</v1:city> \
                       <v1:state>AZ</v1:state> \
                       <v1:zipCode>85296</v1:zipCode> \
                       <v1:type>1</v1:type> \
                       <v1:stat>1</v1:stat> \
                    </v1:contact> \
                    <v1:pmt> \
                       <v1:type>0</v1:type> \
                       <v1:card> \
                          <v1:pan>4485896261017708</v1:pan> \
                          <v1:sec>999</v1:sec> \
                          <v1:xprDt>1602</v1:xprDt> \
                       </v1:card> \
                       <v1:ordNr>Cust Ref ID  Can be used for extra info</v1:ordNr> \
                       <v1:desc>Can be used to name wallet again</v1:desc> \
                       <v1:indCode>2</v1:indCode> \
                    </v1:pmt> \
                 </v1:cust> \
              </v1:UpdtRecurrProfRequest> \
          </SOAP-ENV:Body> \
        </SOAP-ENV:Envelope>' ;
        jQuery.ajax({
            type: "POST",
            url: wsUrl,
            contentType: "text/xml; charset=\"utf-8\"",
            dataType: "xml",
            data: soapRequest,
            headers: {
                SOAPAction: "UpdtRecurrProf"
            },
            complete: function (xmlHttpRequest) {
                alert(xmlHttpRequest.responseXML);
            },

        });

    }

	
Error reads in broser console:
	
Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource


Could you guys go through our issue and assist us ASAP?


Best,
Amit


URGENT!!! Review of Milestone 4 and 5

Hi Carmen,

We hope you had a nice Christmas.

We had already resolved these milestones before the due dates keeping in mind about the holiday season. Currently we are waiting for your feedback on Milestone 4 and 5. 
Should we assume that all the functionalities looks good to you and signed off?

Please suggest.


Best,
Amit
ᐧ





SALK KT Session I - 12/28/2015


Hi Sir,

Please find the status as follows:

Got the basic knowledge regarding different user types in the application.
Got the knowledge of user sign-up processes.
Got the basic knowledge for co-ordinator's research creation process.
Knowledge regarding feedogram and feedogram history
Got the knowledge for creating questionnaire sets for the participants
Got the basic knowledge regarding baseline and intervention


Best,
Amit

===================================================================================================================================


When I deploy to the staging environment, sidekiq/redis breaks.
After deploying, I tried to post news but it didn't work, which means the configuration for sidekiq and redis gets reset.

Please tell me why deployment is so hard.  It's been months and I still don't have a good deployment process.




Hi Carmen,

After investigation we found that deployment did not break any configuration regarding sidekiq and redis. There is some issue while communication to redis server(NOAUTH Authentication required.). 

We will look into this and keep you posted.

Best,
Amit







Hi Amit,
 
Here is what I was able to find after consulting with one of my peers.  There are some basic critiques of your Java call and adjustments that were made in order to get it to work. 




Hi Andrew,

Thanks for looking into my issue. Just want to let you know that I am able to create wallet from server side using my own program language(ruby).

To avoid PCI compliance certificate, we are requesting directly to transfirst api directly from client side(through ajax). I am not sure how other vendors handing these types of consequnces.

Does that mean all your customers are having PCI compliance certificate with them?

Could you please do one favor for us? Could you please confirm me that you are having "Access-Control-Allow-Origin" in response by passing into to technical team.
I am sure they are able to understand things pretty clear.

Thanks in advance.

Best,
Amit




DT: Jan 4, 2016
===================

>> Background server issue fix
>> reply to carmen rackspace email
>> staging + capistrano
>> api
>> SALK issue 


/var/www/html/shared/config

RAILS_ENV=staging bundle exec rake s3db:backup


/teams/:auth_token/:org_id/get_team_standings?id=&activity=
/teams/:auth_token/:org_id/get_team_photos
/teams/:auth_token/:org_id/get_team_memebers

DT: Jan 5, 2016
===================

RAILS_ENV=staging bundle exec rake leaguer:events:remind




New staging and production background server setup completed

http://192.237.170.38/api/v1/teams/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/add_coordinator?id=1794&activity=1468&team[team_coordinators_attributes][0][person_attributes][emails_attributes][0][address]=helloLife@gmail.cov&team[team_coordinators_attributes][0][person_attributes][first_name]=HelloFname&team[team_coordinators_attributes][0][person_attributes][last_name]=HelloLname&team[team_coordinators_attributes][0][person_attributes][phone]=7894561235&team[team_coordinators_attributes][0][role]=DocterManager&team[team_coordinators_attributes][0][is_primary_contact]=1&team[team_coordinators_attributes][0][is_roster_manager]=1





Leaguer Mobile - Milestone 7 complete - Request to signoff


Hi Carmen,

We have completed "Enter Score" functionality.
We have also pushed all the changes to "staging" branch.


Here is the diawi link to install the latest version of app,
http://install.diawi.com/ZFm6t3

Please let us know your feedback.

Best,
Amit


API
===
Added new paramter as "is_admin" in login api
Added new flag parameters for showing "add roster" and "add coordinator" links
Fixed the page break issue while getting the events by month
Modify the team standings api to return as team arrays
Fixed the create event issue with no location present
Pushed all the changes to "rails3-api" staging branch



DT: Jan 6, 2016
===================
Thanks for the update.  Do the deploys to the staging and production app servers work with the new server IPs.  I just want to make sure the configuration files are all updated and when apache and passenger restart, the app connects correctly to the new background servers.



>> capistrano
>> remember issue fix


166.78.106.72

API
====

Validate >> Add Roster Member and add coordinator
		 Send a message >> email to roster 
		 



"if [ -d /var/www/html/SportsOnRails/shared/cached-copy ]; then cd /var/www/html/SportsOnRails/shared/cached-copy && git fetch -q origin && git reset -q --hard 7e8b0fa5f603bc51f4177db4eb001060aa07cb52 && git clean -q -d -x -f; else git clone -q git@github.com:cbellavia/SportsOnRails.git /var/www/html/SportsOnRails/shared/cached-copy && cd /var/www/html/SportsOnRails/shared/cached-copy && git checkout -q -b deploy 7e8b0fa5f603bc51f4177db4eb001060aa07cb52; fi"



if [ -d /var/www/html/SportsOnRails/shared/cached-copy ]; then cd /var/www/html/SportsOnRails/shared/cached-copy && git fetch -q origin && git reset -q --hard 7e8b0fa5f603bc51f4177db4eb001060aa07cb52 && git clean -q -d -x -f; else git clone -q git@github.com:cbellavia/SportsOnRails.git /var/www/html/SportsOnRails/shared/cached-copy && cd /var/www/html/SportsOnRails/shared/cached-copy && git checkout -q -b deploy 7e8b0fa5f603bc51f4177db4eb001060aa07cb52; fi



DT: Jan 7, 2016
================
https://soccer.leaguerdemo.com/teams/open/payment-regression/index

>> Transfirst status to Carmen
>> API
>> Sample photo gallery


API call from Javascript - CORS issue

API call from Javascript - CORS issue


CORS issue while making jquery ajax call to Transfirst


Hi Carmen,

The problem is appearing because of we are using jquery ajax to create wallet and same origin policy doesn't allow us to request domain, which are different from ours.
We also found that remote host(Transfirst) is not providing a CORS header, like Access-Control-Allow-Origin: *, which allows all domains to request it.

Error reads in browser console:
"Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource"


We tried to contact support team and according to them, they suggested us to do as follows:

JavaScript is a client scripting language and is not secure for this type of work.



NOTE:
Where as WePay is already providing js library to create credit cards through jquery ajax.
https://static.wepay.com/min/js/tokenization.v2.js


Best,
Amit



http://192.168.2.159:3000/api/v1/teams/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/get_team_memebers?team_id=1798
http://192.168.2.159:3000/api/v1/teams/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/add_coordinator?
id=1798&team%5Bteam_coordinators_attributes%5D%5B0%5D%5Bperson_attributes%5D%5Bemails_attributes%5D%5B0%5D%5Baddress%5D=johnson%40gmail.com&team%5Bteam_coordinators_attributes%5D%5B0%5D%5Bperson_attributes%5D%5Bfirst_name%5D=Johnson&team%5Bteam_coordinators_attributes%5D%5B0%5D%5Bperson_attributes%5D%5Blast_name%5D=heather&activity=1468&team%5Bteam_coordinators_attributes%5D%5B0%5D%5Bperson_attributes%5D%5Bphone%5D=7894561235&team%5Bteam_coordinators_attributes%5D%5B0%5D%5Brole%5D=Coach&team%5Bteam_coordinators_attributes%5D%5B0%5D%5Bis_primary_contact%5D=1&team%5Bteam_coordinators_attributes%5D%5B0%5D%5Bis_roster_manager%5D=1

http://192.168.2.159:3000/api/v1/teams/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/add_roster
id=1798&team%5Bteam_invites_attributes%5D%5B0%5D%5Bperson_attributes%5D%5Bemails_attributes%5D%5B0%5D%5Baddress%5D=jdfgay8%40ds.com&team%5Bteam_invites_attributes%5D%5B0%5D%5Bperson_attributes%5D%5Bfirst_name%5D=jayghf&team%5Bteam_invites_attributes%5D%5B0%5D%5Bperson_attributes%5D%5Blast_name%5D=dixit&activity=1468



ln -nfs /var/www/html/shared/config/bitly.yml config/bitly.yml
ln -nfs /var/www/html/shared/config/database.yml config/database.yml
ln -nfs /var/www/html/shared/config/facebook.yml config/facebook.yml
ln -nfs /var/www/html/shared/config/paypal_adaptive.yml config/paypal_adaptive.yml
ln -nfs /var/www/html/shared/config/shutterfly.yml config/shutterfly.yml
ln -nfs /var/www/html/shared/config/twitter.yml config/twitter.yml
ln -nfs /var/www/html/shared/config/amazon_fps.yml config/amazon_fps.yml




le@gandolauer321

=====================
staging redis - 198.61.175.92
>Staging App(166.78.106.72)

production redis - 198.61.179.42
>Production App (Rails3)(162.209.0.220)

Hi Carmen,

We have successfully setup and configured the new background servers for staging and production server.

Here is the new jenkin URL,
http://198.61.175.92:8385/ (You can use old jenkin credentials to login)

Please find the server details as follows:

Staging background server => 198.61.175.92 (IP address)
Production background server => 198.61.179.42 (IP address)

We have already shared the document with ssh details of the server in dropbox as "bgserver_details.txt".
As we realize the risk involved with deployment during bussiness hours, so we will do the cutover tomorrow 8th January 4:30AM EST and will delete the faulty servers after thorough testing.

Please let us know if you have any questions.

Best,
Amit



 47  source /etc/profile.d/rvm.sh
   48  rvm -v
   49  rvm list
   50  rvm install 2.1.5
   51  rvm list
   52  rvm gemset create leguer215
   53  rvm list
   54  rvm list gemset
   55  rvm gemset use ruby-2.1.5@leguer215 --default
   56  rvm gemset list
   57  rvm gemset delete --default
   58  rvm gemset use ruby-2.1.5@leguer215 --default
   59  rvm list
   60  rvm gemset list
   61  rvm gemset use ruby-2.1.5@leaguer215 --default
   62  rvm gemset create leaguer215
   63  rvm gemset use ruby-2.1.5@leaguer215 --default
   64  rvm gemset list
   65  rvm gemset use ruby-2.1.5@leaguer215 --default
   66  rvm gemset list
   67  rvm gemset use leaguer215
   68  rvm gemset list
   69  rvm gemset use ruby-2.1.5@leaguer215 --default
   70  rvm gemset list
   71  yum install libxml2-devel xslt-devel
   72  apt-get install libxml2-devel xslt-devel
   73  rvm gemset delete leguer215
   74  rvm gemset list
   75  ruby -v
   76  rvm --v
   77  rvm -v
   78  rvm gemset list
   79  rvm gemset create Leaguer
   80  history
   81  rvm gemset use Leaguer
   82  rvm gemset ruby-2.1.5@Leaguer --gefault
   83  rvm gemset use ruby-2.1.5@Leaguer --gefault
   84  rvm list
   85  rvm gemset list
   86  rvm gemset delete leaguer215
   87  rvm gemset list
   88  gem install rake -v '10.4.2'
   89  gem install i18n -v '0.7.0'
   90  gem install multi_json -v '1.9.0'
   91  cd /var/www/html/
   92  ls
   93  cd /var/lib/jenkins/jobs/BackgroundServer/workspace
   94  ls
   95  bundle install
   96  gem install mysql2 -v '0.3.18'
   97  apt-cache search mysql
   98  apt-get install libmysql++-dev ruby-mysql
   99  gem install mysql2 -v '0.3.18'
  100  bundle install

  
  
  
DT: Jan 8, 2016
================
#122 - Registration - Required fields not indicated and waiver page flow - SDP
#125 - Events - Calendar view - Arrows don't work - SDP
#126 - Event Calendar - Month View:  Not showing any events + Dates with events need to be underlined - SDP


#123 - Make a payment - After making a payment the user should be taken to the order details page. - MDS Done
#124 - My Events and Manage Events not showing the same events + sorting issue - MDS Done
#127 - Schedules - Events with no dates: These events should be sorted so they are last - MDS 
  
  
  
    http://192.237.170.38/api/v1/account/order/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/pay?items[15002][payment_option]=custom&items[15002][custom_payment_amount]=10&wepay.x=Place Your Order&id=7300&items[15002][payment_option]=custom&items[15002][custom_payment_amount]=10&wepay.x=Place Your Order&id=7300
	
	
pkill -f sidekiq
bundle exec sidekiq -d -e staging -L log/sidekiq.log
bundle exec sidekiq -d -e production -L log/sidekiq.log
	
	
	
	
See video where an upcoming event on my schedule is not displaying on the manage schedules page
Also, I scrolled up to pull in past events and when I scrolled back down the dates were not sorted correctly
	
	
	
	
	NoMethodError (undefined method `organization_id' for nil:NilClass):
  app/controllers/application_controller.rb:99:in `set_organization'
  
  
  
  
  
NEW Staging Background & Jenkins
NEW_Production_Background


require 'sidekiq'
require 'sidekiq/web'

Sidekiq::Web.use(Rack::Auth::Basic) do |user, password|
  [user, password] == ["admin", "leaguer123"]
end
Sidekiq.configure_server do |config|
	config.redis = { :url => Rails.env.production? ? 'redis://198.61.179.42:6379' : 'redis://198.61.175.92:6379' }
end

Sidekiq.configure_client do |config|
	config.redis = { :url => Rails.env.production? ? 'redis://198.61.179.42:6379' : 'redis://198.61.175.92:6379' }
end




staging redis - 198.61.175.92
>>Staging App(166.78.106.72)
>> Staging API(192.237.170.38)

production redis - 198.61.179.42
>>Production App (Rails3)(162.209.0.220)
>>Production API(166.78.241.142)


ufw allow from 192.237.170.38 to any port 6379




In the calendar view, the right arrow doesn't do anything and the left arrow jumps back two months instead of one month


Hi Carmen,

We verified the functionality and found to be working fine in ipod(ios 9.1), ipad(ios 7) and iphone5(ios 8.1). We even tried in simulator and it works for us.(Attached screenshot for your reference)

Could you please try the functionality in a real device and let us know if you find the same issue.


Best,
Amit




/api/v1/account/order/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/pay?items[14949][payment_option]=custom&items[14949][custom_payment_amount]=20&wepay.x=Place%20Your%20Order&id=7260





On the registration screen, the required fields are not indicated in any way, and each field is validated individually instead of giving the user a full list of error messages.  For example, if shirt size and emergency contact are both required, but the user leaves them both blank, the error message only tells the user that the emergency contact is required.

Also, the sign waiver flow isn't quite how the spec intended.  If a waiver is required, the original intent was to make the user agree to the waiver before the add to cart button active, but if that is difficult to do, you can use logic to determine if the button should says "Continue" or "Add to Cart" depending on whether or not the waiver is required.  

Also.  when viewing the waiver, if I click the back button at the top, the modifications I made to the registration form are reset.


Hi Carmen,

Please find updates as follows:

Mobile

Modified 'Past Order' tab name to 'All Orders'.
Implemented functionality redirect to order detail page after make a payment with updated data.
Implemented functionality to display 'TBD' in heading if any event doesn't have date in manage schedule and my schedule page.
Modified page heading 'Create Event' or 'Edit Event' according to functionality.
Fixed issue in create/edit event page.(When a new location added, that location displayed in location dropdown but venue dropdown was still in disable mode).
Displayed newly created venue in create/edit event page after successfully added a venue.
Fixed issue of create/edit event page.(After filling the form,if user create a new venue/location,filled data erased).
Added validation in new location functionality.(If no activity selected,new location can't be created).
Fixed order detail balance amount issue.
Pushed all the changes to "staging" branch.



Best,
Amit


DT: Jan 11, 2016
================
Production Server:

IP: 162.209.0.220
Credentials : carmen/le@gandolauer321
SSH PORT : 22
------------------------------
Production Background Server:

IP: 198.61.179.42
Credentials : carmen/le@gandolauer321
SSH PORT : 22

------------------------------
Staging Server:
IP: 166.78.106.72
Credentials : carmen/le@gandolauer321
SSH PORT : 22
-----------------------------
Staging Background Server:

IP: 198.61.175.92
Credentials : carmen/le@gandolauer321
SSH PORT : 22





131	Registration - Going back from waiver creates infinite loop
125	Events - Calendar view - Arrows don't work
130	Orders/Make a Payment: Design tweaks
122	Registration - Required fields not indicated and waiver page flow
129	Registrations - Activity Listing page: Register now button bug and Modification: Change size, text and location of the button
126	Event Calendar - Month View: Not showing any events + Dates with events need to be underlined


pkill -f sidekiq
bundle exec sidekiq -d -e staging -L log/sidekiq.log

Hi Carmen,

We opened ssh port 22 from anywhere and created special user carmen with a strong password. Details has been shared with you in dropbox("servers_ssh_detail.txt").




ln -nfs /var/www/html/shared/config/bitly.yml config/bitly.yml
ln -nfs /var/www/html/shared/config/database.yml config/database.yml
ln -nfs /var/www/html/shared/config/facebook.yml config/facebook.yml
ln -nfs /var/www/html/shared/config/paypal_adaptive.yml config/paypal_adaptive.yml
ln -nfs /var/www/html/shared/config/shutterfly.yml config/shutterfly.yml
ln -nfs /var/www/html/shared/config/twitter.yml config/twitter.yml
ln -nfs /var/www/html/shared/config/amazon_fps.yml config/amazon_fps.yml

/var/www/html/Jenkins/workspace/Leaguer_staging/public
/var/www/html/SportsOnRails/current



DT: Jan 12, 2016
==================
/usr/local/rvm/gems/ruby-2.1.5@leaguer/bin/bundle

/usr/local/rvm/gems/ruby-2.1.5@leaguer/bin:/usr/local/rvm/gems/ruby-2.1.5@global/bin:/usr/local/rvm/rubies/ruby-2.1.5/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/rvm/bin
http://stackoverflow.com/questions/9313687/capistrano-bundler-doesnt-use-rvm-gemset
http://stackoverflow.com/questions/22505265/how-to-get-capistrano-3-to-use-rvm-ruby
cap production rvm:check

Leaguer Mobile - Milestone 8 complete - Request to signoff


Hi Carmen,

Completed "Create/Edit Events" functionality.
Pushed all the changes to "staging" branch.

Here is the diawi link to install the app,
http://install.diawi.com/Mj9aQL

Please let us know your feedback.

Best,
Amit





https://jrcorner.wordpress.com/2012/12/13/command-not-found-in-capistrano/

DT: January 14, 2016
====================
http://192.237.170.38/api/v1/teams/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/get_team_photos?id=2050&activity=4537
http://192.237.170.38/api/v1/teams/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/news?id=2050&per_page=10&page=1&activity=4537

staging: 166.78.106.72
production: 162.209.0.220

MDS
#147 Make a Payment - UI Clean up: Clean up design and make consistent with other design tweaks
#145 Order Details - UI Clean up
#143 Team Payments - Make a Payment: After paying user should be taken to the team home page
#142 Teams & Team Payments: Make listing page look like orders listing page with button on side

SDP
#146 Manage Events - Month View: Create Event button disappears when in the month view & Dates should default

The tasks posted by you yesterday in OS are going to take tentative 8 hours and would be billable. 


#143 Team Payments - Make a Payment: After paying user should be taken to the team home page



Leaguer Mobile: Few concerns about the enhancements



CONFLICT (content): Merge conflict in Gemfile
CONFLICT (content): Merge conflict in .gitignore
CONFLICT (content): Merge conflict in app/models/adjustments/adjustment.rb


http://humanbiology.lvh.me:3004/

LoadError: libmysqlclient_r.so.16: cannot open shared object file: No such file or directory - /var/www/html/SportsOnRails/shared/bundle/ruby/2.1.0/extensions/x86_64-linux/2.1.0/mysql2-0.3.18/mysql2/mysql2.so
/var/www/html/SportsOnRails/shared/bundle/ruby/2.1.0/gems/mysql2-0.3.18/lib/mysql2.rb:31:in `require'
/var/www/html/SportsOnRails/shared/bundle/ruby/2.1.0/gems/mysql2-0.3.18/lib/mysql2.rb:31:in `<top (required)>'
/var/www/html/SportsOnRails/releases/20160115104206/config/application.rb:9:in `<top (required)>'
/var/www/html/SportsOnRails/releases/20160115104206/Rakefile:5:in `require'
/var/www/html/SportsOnRails/releases/20160115104206/Rakefile:5:in `<top (required)>'
(See full trace by running task with --trace)






Madhusmita
----------------
#123: Make a payment - After making a payment the user should be taken to the order details page.(1hr)
#129: Registrations - Activity Listing page: Register now button bug and Modification: Change size, text and location of the button(2hrs)
#130: Orders/Make a Payment: Design tweaks(2hrs)


Sandeep
--------------
#146: Manage Events - Month View:  Create Event button disappears when in the month view & Dates should default (1hr)
#141: Registration - Additional information asterisk isn't exactly right (1hr)
#140: #140: Manage Schedules - Month View Tweaks: Back button, default view and today button (4hr)
#136: Registration - Registration form not matching settings in activity and some validations need to be added (3hr)
#135: Manage Schedule - Month View - Back button: Back button doesn't take you to the date you were looking at. (3hr)
#134: Registration - Emergency Contact Email not remembered from prior registration (0.5hr)
#133: Registration - Team Registration - Will You be on the roster: Default value should be yet (0.5hr)
#131: Registration - Going back from waiver creates infinite loop (2hr)
#126: Event Calendar - Month View: Not showing any events + Dates with events need to be underlined (2hr)
#125: Events - Calendar view - Arrows don't work (1hr)
#122: Registration - Required fields not indicated and waiver page flow (1.5hr)
#119: Registration - Sign Waiver: Radio button should default to not selected (0.5hr)




Hi Carmen,

Please find updates as follows:

Mobile
Rnd on creating gallery using ionic.
Gone through the ion-gallery plugin of ionic.
Implemented ion-gallery in ionic.
Displayed photos of teams inside photos page group by album.
Rnd on sliding image in ionic,angular and jquery.
Implemented ion-imageslider inside news detail page for displaying multiple images.
Rnd on ion-slide-box of ionic.
Implemented functionality to display news images in news detail page where images can slide and clicking on the image,image zoom view will displayed in a popup.
Added cross icon in view image page to hide zoom view popup.
Modified design of image view popup.


API
Created a new api to get notification settings
Created a new api to get the album photos
Modified the post news api for news keywords

Best,
Amit


DT: January 18, 2016
====================
D:\MyDev\new_dev\SportsOnRails\app\views\account\_login.html.erb



Started GET "/account/logout?id=8" for 10.0.2.2 at 2016-01-18 11:05:23 +0000
Processing by AccountController#logout as HTML


#AFTER RAILS3 MIGRATION...setting up the token irrespective of all domains
	#cookies[:recognition_token] = { :value => session['user'].update_recognition_token, :expires => 6.months.from_now, :domain => !Thread.current[:organization].reference_host.include?("#{DEFAULT_HOST}") ? Thread.current[:organization].reference_host.to_s : }

https://semaphoreci.com/blog/2013/11/26/capistrano-3-upgrade-guide.html
http://capistranorb.com/documentation/upgrading/#
https://github.com/capistrano/rvm/


remember_fix


Rackspace - key based ssh login

Hi Carmen,

We contacted the rackspace support team for providing key based ssh login today, but for this they asked us one security question(What is your favorite book?). Additionaly they also provide the key to account holder email address only and the request from the account owner. 

Can you please contact them and provide us the key.


Best,
Amit



https://crm.4beauty.net/leads/56954f493638350003df0000
> Questionnaire not submitted

https://crm.4beauty.net/leads/569484973966300003120000
> Questionnaire not submitted

https://crm.4beauty.net/leads/568312943061300003aa0000
> Questionnaire not submitted

https://crm.4beauty.net/leads/568c3efd6537380003400100
> Questionnaire not submitted

https://crm.4beauty.net/leads/56875fc66634330003210000
> Questionnaire not submitted

https://crm.4beauty.net/leads/568c86456537380003260200
> Questionnaire not submitted

https://crm.4beauty.net/leads/568d7c666534370003500000
> Questionnaire not submitted

https://crm.4beauty.net/leads/56952fad3862650003600000
> Questionnaire not submitted

https://crm.4beauty.net/leads/56869d2b65303400034a0000
> Questionnaire submitted and moved to qualified stage automatically.


DT: January 19, 2016
====================
https://amitrmohanty.wordpress.com/
https://github.com/amitrmohanty
https://twitter.com/amitrmohanty
http://stackoverflow.com/users/2573155/amit



This is a CMS based application built with RefineryCMS. This application allows the site admin to manage the pages and contents through its dynamic content editor. We have customized it, according to the application requirement by creating custom engines for the RefineryCMS. PayPal payment gateway is integrated for the membership payments. Here we have used “Elastic Search” search engine for the searching & indexing. For image and file storage we have used Amazon S3 bucket. This application runs on the Amazon EC2 cloud and we have implemented Load balancer/Auto scaling to handle higher traffic.




api:
Get next game >> count is not working
api changes in month view


cap install STAGES="stagingb"



DT: January 20, 2016
=========================
Interview feedback of Sukanta Kumar Mandal for ruby on rails


Hi Padmalochan,
​​
Deepak Sir and me interviewed the candidate Sukanta Kumar Mandal for ruby on rails developer.

Please find the feedback of Sukanta as below

Remarks:

He has 2.1yrs of relevant experience in RoR. (May be this candidate showing fake experience, as we found different years of experience in resume )

Pros:
Communication is not good
Attitude seems to be good
Average idea on GIT
Avarage knowledge on ruby and rails concept(Not so much clear about the concepts)
Basic idea about deployment tools like capistrano

Cons:
Average idea on HTML, CSS, Javascript and SQL

	
Here is the rating out of 10

RoR:             6
Javascript:      5
CSS:             6
HTML:            7
MongoDB:         5   
Attitude:        8
Communication skill: 4


/var/lib/jenkins/jobs/BackgroundServer/workspace

DT: January 21, 2016
=====================

#130: Orders/Make a Payment: Design tweaks
#129: Registrations - Activity Listing page: Register now button bug and Modification: Change size, text and location of the button



#147 Make a Payment - UI Clean up: Clean up design and make consistent with other design tweaks
#145 Order Details - UI Clean up
#142 Teams & Team Payments: Make listing page look like orders listing page with button on side



Registration, Cart and initial My Orders
Order Payments, Team Pages (Listing Page, Schedule, Payments) 
Cancel/Postpone/Reschedule Events
Enter Scores
Create/Edit Events



Layout changes
Manage schedule
Registration Process


cd /etc/httpd/conf.d/


var/www/html/project/SportsOnRails/releases/20160121102917


batch_edit_registrations



capistrano version3 script - ready to test

Hi Carmen,

We successfully integrated capistrano version 3(as we had major issues with rvm and capistrano v2) in staging and its background server. We deployed all the new stuffs to "cap_v3" branch only and modified the apache configuration to fetch application codes that cap deploys to.

staging server: cap staging deploy --trace
background server: cap stagingb deploy --trace

Deploying other branch wont work as we have Gemlock file in .gitignore for other branches.
cap staging deploy branch=any-branch-other-than-cap3

After your confirmation we will merge those changes in staging branch i.e "andola-leaguer" and start deploying to staging servers using Capistrano.


Note: 
Deploy password is same as the ssh password of servers for user "carmen"

Is leaguer demo running from the directory that cap deploys to?


DT: January 22, 2016
=====================


Processing by Api::V1::RegistrationsController#update_registration as JSON
  Parameters: {"registration"=>{"registration_product_id"=>"2022", "payment_type"=>"online", "target_self"=>"true", "registration_target_person_attributes"=>{"emails_attributes"=>{"0"=>{"address"=>"admin@leaguer.org", "id"=>"38211"}}, "first_name"=>"admin", "last_name"=>"user", "gender"=>"male", "birthdate"=>"1980-03-29", "address"=>"1375 Broadway, Fl 3, USA", "city"=>"Loss Angeles", "state"=>"LA", "zip"=>"34343", "phone"=>"", "id"=>"46564"}, "skill_level"=>"Beginner", "division"=>"Recreational", "shirt_size"=>"YS", "short_size"=>"YS", "emergency_contact_person_attributes"=>{"first_name"=>"Krishna", "last_name"=>"Rani", "phone"=>"111-111-1111", "emails_attributes"=>{"0"=>{"email_address"=>"amit.mohanty@andolasoft.com", "id"=>"38212"}}, "id"=>"46565"}, "comment"=>""}, "team_invite_id"=>"", "preselected_registration_target_person"=>"customer", "custom_form_reply"=>{"extra_field_data"=>{"Your_Name_"=>"", "Additional_Info_To_Share_With_Us_"=>""}}, "commit"=>"Continue", "_"=>"", "id"=>"14993", "auth_token"=>"ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=", "org_id"=>"NDg="}
  
  
  
  


Register for an activity, but stop when it gets into your cart.
Save the registration for later, so it's in the in cart - saved for later tab.
Go to the saved for later tab and click to edit the registration. 
When you click on the continue button, you'll see an invalid state transition error.
When a user clicks on the edit button from the saved for later section, the state of the registration is going to have to change to in progress.



Hi Carmen,

After investigation we found that the specific error message "invalid state transition error" is only occuring when we are trying to edit registration in "Saved for late" tab cart section. 

Currently in our web application, there is no edit button available for the saved for later registrations. We also didnot find any "in progess" state for a registartion.If we changed the status of registration when user click on the edit and suppose the user didnot change anything and click back button then the registrations will be moved to cart, in such case user might be confused and UX will be bad.

However, we have removed the Edit button from "saved for later" tab and user can edit the same registartion by moving it to cart, like what we are doing in web version too.


Best,
Amit





Step 1:
	Visit http://www.buttsbymendieta.com/
	Fill the form as required

Step 2:
	The token for email will be sent only from staging URL. So change the URL from https://crm.4beauty.net/* to https://crm-4beauty-staging.herokuapp.com/*
	Note: Astrik(*) stands for the remaining part of the URL. Do not change that.

	Complete beauty profile.

Step 3:
	Reply to the received email from sales coordinator.

Step 4:
	The replied content will be stored under notes section for that lead.
	Lon on to staging server and verify the replied content.


Code review:
============
ionic
rails3-api



DT: January 28, 2016
=====================
*/2 * * * * /bin/bash /root/work/jenkin.sh >/dev/null 2>&1

https://www.rackspace.com/knowledge_center/article/cloud-servers-with-managed-operations-support-for-linux

Milestone - 11 - GAME REMINDERS Spec




Leaguer Mobile - Milestone 9 complete - Request to signoff

Hi Carmen,

Added an option in side menu for reminders.
Displayed dynamic notifications fetched from api end in reminders page.
Displayed notifications with toggle button in edit reminder page.
Implemented functionality in edit reminder page that if the text/email of any notification is true,toggle button will be displayed as checked otherwise it will be displayed as uncheck.
Added the design and layout for inputing external website link 
Implemented the functionality so that user can also save the external website link
Iterated the team page API result and displayed all pages according to parent child concept
Added the logic so that the right arrow navigation image will only come if that page has child page
Fixed the issue for localstorage of selecting the Album and photo details
Added the design and layout for news textarea functionality
Implemented the logic for catching and passing the value of news text value
Added validation so that select page buttons will only display after the page list display
Prepared the array values for saving the post news details
Implemented functionality for updating reminder setting.
Unit tested Reminder setting functionality in ipod.


Best,
Amit

DT: January 29, 2016
=====================

Hi Amit,

Reminders is really a notifications settings area for people to configure when the app will push a notification to their phone, similar to what’s on the website.  The question is how do you do that?  Should we discuss this next week?
I was thinking the screen would look something like below.


Hi Carmen,

Screen looks very nice. We have already worked with push notifications earlier, so there is no issues implementing this functionality. According to the settings, user will receive instant notification directly on their mobile device. For this we normally use APNS for iOS and GCM for android.

Only doubt I have is Instant Messages from Teammates(Is it the "Send A Message" from Team page?) under Notification settings. 
Let us discuss on this Monday morning 9:30AM EST.




Started GET "/photos/selector_dialog_load_albums?id=666" for 111.93.178.162 at 2016-01-29 14:11:12 +0000
Processing by PhotosController#selector_dialog_load_albums as JS
  Parameters: {"id"=>"666"}
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`domain` = 'soccer' AND `domains`.`is_subdomain` = 1 LIMIT 1
  Organization Load (0.7ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 0 AND `domains`.`is_primary` = 1 LIMIT 1
  Domain Load (0.3ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
  Theme Load (0.4ms)  SELECT `themes`.* FROM `themes` WHERE `themes`.`id` = 1 LIMIT 1
  Layout Load (0.3ms)  SELECT `layouts`.* FROM `layouts` WHERE `layouts`.`id` = 3 LIMIT 1
  Usergroup Load (0.3ms)  SELECT `usergroups`.* FROM `usergroups` INNER JOIN `usergroups_users` ON `usergroups`.`id` = `usergroups_users`.`usergroup_id` WHERE `usergroups_users`.`user_id` = 1 AND (usergroups.role_id = 2 OR
 usergroups.organization_id = 48)
  Role Load (0.4ms)  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (2, 5, 8, 9, 16)
  ServiceAccount Load (0.4ms)  SELECT `service_accounts`.* FROM `service_accounts` WHERE `service_accounts`.`id` = 666 AND (`service_accounts`.`deleted_at` IS NULL) LIMIT 1
  CACHE (0.0ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Service Load (0.4ms)  SELECT `services`.* FROM `services` WHERE `services`.`id` = 8 LIMIT 1
got the service
adapter created
  Rendered photos/dialogs/photo_selector/_account_albums.html.erb (7.5ms)
Completed 200 OK in 428.8ms (Views: 8.8ms | ActiveRecord: 4.1ms)



DT: Feb 1, 2016
==================

Q. How the device token will be inserted to db for mobile users?
	At the time of login, we will insert the device tokens(UDID)
Q. Currently email and sms is being sent, will continue? as we already sending the push notifications to mobile
Q. Default value of the settings.




$Fz8harH

DT: Feb 2, 2016
==================

>> Add 4 new columns to "notification profile" - default is true
>> return the settings response in login response api
save device token while user loggedin
>> multiple
>> device_infos (table)
	>> device token 
	>> device_type
	>> user_id
	>> org_id
	
	

Q. How the device token will be inserted to db for mobile users?
	At the time of login, we will insert the device tokens(UDID)
Q. Currently email and sms is being sent, will continue? as we already sending the push notifications to mobile
Q. Default value of the settings.

>> Capistrano
>> Milestone 9 status

DT: Feb 3, 2016
==================


regaxchange

source code 
ppk file



http://www.9lessons.info/2013/05/message-conversation-database-design.html




Www.regaexchange.com

we looked into the configuration
normally rewrite condition

Hi Sir,

Normally all the redirect stuffs are written in apache virtual host configuration. We looked into that configuration on the server configuration and did not find any automatic redirection to www.regaex.com. 

We are able to visit the application with port 80 and 443.

Here are URLs,
www.regaexchange.com
https://www.regaexchange.com


Best,
Amit



User A => token1
User A => token2
User B => token 1

Thanks to GOD who gave me the most amazing angel to share  my life with. I can't believe we've completed one year of journey of togetherness with love and care. You always stand high over my expectations. I learnt many things from yοu, Without you, Ι wonder how wοuld I come Αll the way Τhrough!

I don't know why people take marriage as loss of freedom, barrier, sacrifices...etc. BUT MY EXPERIENCE IS TOTALLY DIFFERENT. I cant find a better friend and mentor than you my dear.
Your smile is my fuel, so pls keep smiling always.
Thank you dear for all the support you have shown in every moment of my life.

Lastly we would like to thank my bro and sis-in-law with a big heart, who made/support us together.




Celebrating A Year of AWESOME.
					  yay us!

DT: Feb 4, 2016
==================

>> bug fix >> find admin organization wise
>> update the notification settings
>> return response
>> rake task for the notification


jQuery 2.1
ZC12226-SLAX-3PBF


/api/v1/carts/OWE5M2UyODJjNWFiYjNjMzEzODY1ZmY4ZjU4YTE4MTU=/Ng==/total_cart_item
softball
Ng==
soccer
NDg=
leaguer
MQ==




type = schedule/team_news/site_news


http://192.237.170.38/api/v1/news_items/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/get_detail?news_item_id=982
http://192.237.170.38/api/v1/schedules/event/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/get_detail?event_id=9054


DT: Feb 9, 2016
==================
http://www.9lessons.info/2013/05/message-conversation-database-design.html


Leaguer Mobile - Milestone 10 complete - Request to signoff

Hi Carmen,

We have completed all the functionalities that comes under milestone-10. Pushed all the changes to "staging" branch.
Please find the status as follows:


Site news
	Site News Listing Page
	Site News Detail Page
	Site News Posting


Here is the diawi link to install the latest version of app,
http://install.diawi.com/f9AUPd


Best,
Amit






yes we have revoked the certificate. We also updated the provisioning profile. The app is working fine with latest certificate.

Hi Carmen,

We have created a new provisioning profile for implementing push notification functionality, so we revoked the old certificate. We should not be worried about this email.

Best,
Amit


10632
5316.15

31423



push_notification_from_web



<DeviceInfo id: 3, user_id: 5, device_token: "694c1f0e698340458b2cea48c0308365e570c3928f69d3454a4...", device_type: "ios", created_at: "2016-02-09 11:48:19", updated_at: "2016-02-09 11:48:19">



#<DeviceInfo id: 4, user_id: 5, device_token: "4fe4ced22947ac0b322ade17bcc99b7195b58e662a44a8eae6b...", device_type: "ios", created_at: "2016-02-09 11:49:37", updated_at: "2016-02-09 11:49:37">


#<DeviceInfo id: 4, user_id: 1, device_token: "4fe4ced22947ac0b322ade17bcc99b7195b58e662a44a8eae6b...", device_type: "ios", created_at: "2016-02-09 11:49:37", updated_at: "2016-02-09 11:49:37">

/api/v1/schedules/event/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/get_activity_calendar
/api/v1/schedules/event/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/get_activity_events?activity_ids=all&type=upcoming&per_page=10&page=1


5380



10/01/2014
05/30/2015


Started POST "/api/v1/schedules/event/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/get_activity_events?activity_ids=all&type=completed&per_page=10&page=1" for 111.93.178.162 at 2016-02-09 15:08:44 +0000
Processing by Api::V1::Schedules::EventsController#get_activity_events as JSON
  Parameters: {"activity_ids"=>"all", "type"=>"completed", "per_page"=>"10", "page"=>"1", "auth_token"=>"ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=", "org_id"=>"NDg="}
WARNING: Can't verify CSRF token authenticity
  Domain Load (0.4ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`is_subdomain` = 0 AND `domains`.`domain` IS NULL LIMIT 1
  Organization Load (0.5ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 LIMIT 1
  Theme Load (0.4ms)  SELECT `themes`.* FROM `themes` WHERE `themes`.`id` = 1 LIMIT 1
  Layout Load (0.3ms)  SELECT `layouts`.* FROM `layouts` WHERE `layouts`.`id` = 3 LIMIT 1
  User Load (0.4ms)  SELECT `users`.* FROM `users` WHERE `users`.`authenticity_token` = 'df9353ce3fa3baa025aad145295a2a09' AND (`users`.`deleted_at` IS NULL) LIMIT 1
  Organization Load (1.7ms)  SELECT DISTINCT organizations.* FROM users
 JOIN usergroups_users ON (usergroups_users.user_id = users.id)
 JOIN usergroups ON (usergroups.id = usergroups_users.usergroup_id)
 JOIN organizations ON (organizations.id = usergroups.organization_id)
 WHERE users.id = 1
  Domain Load (0.5ms)  SELECT `domains`.* FROM `domains` WHERE `domains`.`organization_id` = 48 AND `domains`.`is_subdomain` = 1 AND `domains`.`is_primary` = 1 LIMIT 1
  Activity Load (0.5ms)  SELECT `pages`.* FROM `pages` WHERE `pages`.`type` IN ('Activity') AND `pages`.`organization_id` = 48 AND `pages`.`id` IS NULL LIMIT 1
  Event Load (0.5ms)  SELECT `events`.* FROM `events` INNER JOIN `pages` activities ON `events`.activity_id = `activities`.id LEFT OUTER JOIN `team_registrations` htrs ON `htrs`.team_id = `events`.home_team_id
 LEFT OUTER JOIN `registrations` hrs ON `hrs`.id = `htrs`.registration_id
 LEFT OUTER JOIN `offline_participants` hops ON `hops`.team_id = `events`.home_team_id
 LEFT OUTER JOIN `team_coordinators` htcs ON `htcs`.team_id = `events`.home_team_id LEFT OUTER JOIN `team_registrations` vtrs ON `vtrs`.team_id = `events`.visiting_team_id
 LEFT OUTER JOIN `registrations` vrs ON `vrs`.id = `vtrs`.registration_id
 LEFT OUTER JOIN `offline_participants` vops ON `vops`.team_id = `events`.visiting_team_id
 LEFT OUTER JOIN `team_coordinators` vtcs ON `vtcs`.team_id = `events`.visiting_team_id LEFT OUTER JOIN `event_teams` wets ON `wets`.event_id = `events`.id
 LEFT OUTER JOIN `team_registrations` wtrs ON `wtrs`.team_id = `wets`.team_id
 LEFT OUTER JOIN `registrations` wrs ON `wrs`.id = `wtrs`.registration_id
 LEFT OUTER JOIN `offline_participants` wops ON `wops`.team_id = `wets`.team_id
 LEFT OUTER JOIN `team_coordinators` wtcs ON `wtcs`.team_id = `wets`.team_id LEFT OUTER JOIN `event_officials` ON `event_officials`.event_id = `events`.id
 LEFT OUTER JOIN `officials` ON `officials`.id = `event_officials`.official_id WHERE ((`activities`.organization_id = 48) AND
 (`events`.start < '2016-02-09 05:00:00' OR `events`.event_state_id = 2) AND
 `events`.start > '2016-01-26 05:00:00' AND `events`.published = 1 AND (`activities`.activity_end >= 2016-02-02 AND `activities`.activity_start >= 2016-02-02)) GROUP BY `events`.id ORDER BY `events`.start DESC LIMIT 10 OFFSET 0
  Team Load (0.5ms)  SELECT `teams`.* FROM `teams` WHERE `teams`.`id` IN (2083, 1851, 2064, 1875, 1787, 2068, 1775, 2117)
  Division Load (0.5ms)  SELECT `divisions`.* FROM `divisions` WHERE `divisions`.`id` IN (286)
  Team Load (0.5ms)  SELECT `teams`.* FROM `teams` WHERE `teams`.`id` IN (2069, 1850, 2070, 2045, 2076, 1787, 1776)
  Division Load (0.4ms)  SELECT `divisions`.* FROM `divisions` WHERE `divisions`.`id` IN (329, 286)
  Venue Load (0.4ms)  SELECT `venues`.* FROM `venues` WHERE `venues`.`id` IN (22, 191, 21, 167)
  Location Load (0.4ms)  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` IN (34, 177, 151) ORDER BY locations.name ASC
  Score Load (0.5ms)  SELECT `scores`.* FROM `scores` WHERE `scores`.`event_id` IN (9230, 9054, 9213, 9232, 8341, 9212, 8616, 9211, 9210, 9183)
  Page Load (0.7ms)  SELECT `pages`.* FROM `pages` WHERE `pages`.`id` IN (5379, 4537, 4691, 2235, 5383)
  EventOfficial Load (0.7ms)  SELECT `event_officials`.* FROM `event_officials` WHERE `event_officials`.`event_id` IN (9230, 9054, 9213, 9232, 8341, 9212, 8616, 9211, 9210, 9183)
   (0.5ms)  SELECT COUNT(*) AS count_all, `events`.id AS events_id FROM `events` INNER JOIN `pages` activities ON `events`.activity_id = `activities`.id LEFT OUTER JOIN `team_registrations` htrs ON `htrs`.team_id = `events`.home_team_id
 LEFT OUTER JOIN `registrations` hrs ON `hrs`.id = `htrs`.registration_id
 LEFT OUTER JOIN `offline_participants` hops ON `hops`.team_id = `events`.home_team_id
 LEFT OUTER JOIN `team_coordinators` htcs ON `htcs`.team_id = `events`.home_team_id LEFT OUTER JOIN `team_registrations` vtrs ON `vtrs`.team_id = `events`.visiting_team_id
 LEFT OUTER JOIN `registrations` vrs ON `vrs`.id = `vtrs`.registration_id
 LEFT OUTER JOIN `offline_participants` vops ON `vops`.team_id = `events`.visiting_team_id
 LEFT OUTER JOIN `team_coordinators` vtcs ON `vtcs`.team_id = `events`.visiting_team_id LEFT OUTER JOIN `event_teams` wets ON `wets`.event_id = `events`.id
 LEFT OUTER JOIN `team_registrations` wtrs ON `wtrs`.team_id = `wets`.team_id
 LEFT OUTER JOIN `registrations` wrs ON `wrs`.id = `wtrs`.registration_id
 LEFT OUTER JOIN `offline_participants` wops ON `wops`.team_id = `wets`.team_id
 LEFT OUTER JOIN `team_coordinators` wtcs ON `wtcs`.team_id = `wets`.team_id LEFT OUTER JOIN `event_officials` ON `event_officials`.event_id = `events`.id
 LEFT OUTER JOIN `officials` ON `officials`.id = `event_officials`.official_id WHERE ((`activities`.organization_id = 48) AND
 (`events`.start < '2016-02-09 05:00:00' OR `events`.event_state_id = 2) AND
 `events`.start > '2016-01-26 05:00:00' AND `events`.published = 1 AND (`activities`.activity_end >= 2016-02-02 AND `activities`.activity_start >= 2016-02-02)) GROUP BY `events`.id
  ActivityType Load (0.4ms)  SELECT `activity_types`.* FROM `activity_types` WHERE `activity_types`.`id` = 127 ORDER BY position ASC LIMIT 1
  
  
  
  
  
  
  EventState Load (0.4ms)  SELECT `event_states`.* FROM `event_states` WHERE `event_states`.`id` = 1 LIMIT 1
  SportCategory Load (0.4ms)  SELECT `sport_categories`.* FROM `sport_categories` WHERE `sport_categories`.`id` = 6 ORDER BY position ASC LIMIT 1
  Organization Load (0.6ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Location Load (0.4ms)  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = 148 ORDER BY locations.name ASC LIMIT 1
  CACHE (0.0ms)  SELECT `activity_types`.* FROM `activity_types` WHERE `activity_types`.`id` = 127 ORDER BY position ASC LIMIT 1
  CACHE (0.0ms)  SELECT `event_states`.* FROM `event_states` WHERE `event_states`.`id` = 1 LIMIT 1
  SportCategory Load (0.5ms)  SELECT `sport_categories`.* FROM `sport_categories` WHERE `sport_categories`.`id` = 46 ORDER BY position ASC LIMIT 1
  CACHE (0.0ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Location Load (0.4ms)  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = 34 ORDER BY locations.name ASC LIMIT 1
  EventState Load (0.4ms)  SELECT `event_states`.* FROM `event_states` WHERE `event_states`.`id` = 2 LIMIT 1
  Location Load (0.3ms)  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = 177 ORDER BY locations.name ASC LIMIT 1
  CACHE (0.0ms)  SELECT `activity_types`.* FROM `activity_types` WHERE `activity_types`.`id` = 127 ORDER BY position ASC LIMIT 1
  CACHE (0.0ms)  SELECT `event_states`.* FROM `event_states` WHERE `event_states`.`id` = 2 LIMIT 1
  Location Load (0.4ms)  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = 168 ORDER BY locations.name ASC LIMIT 1
  CACHE (0.0ms)  SELECT `activity_types`.* FROM `activity_types` WHERE `activity_types`.`id` = 127 ORDER BY position ASC LIMIT 1
  EventState Load (0.4ms)  SELECT `event_states`.* FROM `event_states` WHERE `event_states`.`id` = 3 LIMIT 1
  CACHE (0.0ms)  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = 34 ORDER BY locations.name ASC LIMIT 1
  CACHE (0.0ms)  SELECT `event_states`.* FROM `event_states` WHERE `event_states`.`id` = 1 LIMIT 1
  Location Load (0.4ms)  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = 151 ORDER BY locations.name ASC LIMIT 1
  CACHE (0.0ms)  SELECT `event_states`.* FROM `event_states` WHERE `event_states`.`id` = 1 LIMIT 1
  CACHE (0.0ms)  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = 148 ORDER BY locations.name ASC LIMIT 1
  CACHE (0.0ms)  SELECT `event_states`.* FROM `event_states` WHERE `event_states`.`id` = 1 LIMIT 1
  CACHE (0.0ms)  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = 151 ORDER BY locations.name ASC LIMIT 1
  CACHE (0.1ms)  SELECT `event_states`.* FROM `event_states` WHERE `event_states`.`id` = 1 LIMIT 1
  Location Load (0.7ms)  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = 174 ORDER BY locations.name ASC LIMIT 1
  ActivityType Load (0.5ms)  SELECT `activity_types`.* FROM `activity_types` WHERE `activity_types`.`id` = 430 ORDER BY position ASC LIMIT 1
  CACHE (0.0ms)  SELECT `event_states`.* FROM `event_states` WHERE `event_states`.`id` = 1 LIMIT 1
  SportCategory Load (0.4ms)  SELECT `sport_categories`.* FROM `sport_categories` WHERE `sport_categories`.`id` = 47 ORDER BY position ASC LIMIT 1
  CACHE (0.0ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 48 LIMIT 1
  Location Load (0.7ms)  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = 158 ORDER BY locations.name ASC LIMIT 1
Completed 200 OK in 199.4ms (Views: 0.2ms | ActiveRecord: 20.7ms)


[1,2]

1,2



DT: Feb 10, 2016
=====================
Messaging:
>> scope
>> case study


Hi Carmen,

We fixed the event not showing issue in Manage Schedule section.


NOTE:
As per the spec,
The calendars listed in the manage shedules view are all calendars for activities that have end dates >= Today - 7 days and start dates >= today - 7 Days

Best,
Amit


The calendars listed in the manage shedules view are all calendars for activities that have end dates >= Today - 7 days and start dates >= today - 7 Days

["694c1f0e698340458b2cea48c0308365e570c3928f69d3454a439aaec9bd12e5", "4fe4ced22947ac0b322ade17bcc99b7195b58e662a44a8eae6bd602cb0a0a5fb", "null", "APA91bFr1dsseAnhvEfch0W_WFqSZuDD34Bvu35F5rx7Cv6jvhmkc2AopaH26Vxwf3Fadnbfj3WVubTOIaDjUiSYS58n-qEepcz81DYoCDKYeIarypDfAPjAZfngNHzjeGy4XXyUXkHUJ8EvlhlYeaZstoviNdoqvg", "87cc6a1188a01a776ff24acdd83f5ed78b4e48eb34febbadb4b39eedaa8ab8ec", "781b588f76fe8cd9d404221c05c0a6ab7238ef17ffe30c1bab15a1243ee1c25a", "APA91bEI9bqNYl4O_9zNsW-Lsf5lgpDIVfUpdHmtbWHe-Mg3BAlYmKNgLzBt_ZLxd81ZTrwXPV3gAJ3RpmoRK0c21Rs5IaNqUfjaHX6O93bmvEmqlvZDPY6UDzBdmxRSH0b-TouyOMMtA8bAbIeLv1RCBo6_G-v7Kg", "APA91bGrV7rigxouXtyvuctTUwCUmKHQw7LmgXj3noA9kC4I4hL0elgovkh9p1UyqQIaWOjrgEzmZo0S0z0YqsavoXi1i1s1oKP51cadFcxtxB2qmsUctLKuCfpb5dmp07A9ovjpEAKjbfrGCJn3Xmzw5VpSpnPBrA"]



ipod
"973ad3fd741b39ee264ecbbbdc4df74b31636899c53b3e05a63d41bf82148644"

iphone
"694c1f0e698340458b2cea48c0308365e570c3928f69d3454a439aaec9bd12e5"


android



Meeting Discussion:
===================
>> Cloud file storage - push to staging
	>> 
>> Transfirst integration


DeviceInfo.send_message([694c1f0e698340458b2cea48c0308365e570c3928f69d3454a439aaec9bd12e5, 973ad3fd741b39ee264ecbbbdc4df74b31636899c53b3e05a63d41bf82148644],"Hi another test message","iOS","")

post news api
---------------------
http://192.168.2.174:3001/api/v1/news_items/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/create?news_item[headline]=Article Headline&news_item[details]=Article Details1&news_item[media_url]=http://166.78.106.72/assets/48/PFC_banner_bg.jpg&news_item[target_url]=&news_item[open_in_new_window]=&news_item[widget]=1&news_item[twitter]=1&news_item[is_as_message]=1&news_item[news_item_keyword_ids]=22&target_media[service_account_id]=319&target_media[resource_id]=1827&target_media[resource_type]=photo&target_media[album_id]=1&target_media[resource_key]=undefined&attachment=article&new_link_context=organization&article_text=This is the test Article Content&refresh_news_page=false

event api
---------------------
http://192.168.2.174:3001/api/v1/schedules/event/ZGY5MzUzY2UzZmEzYmFhMDI1YWFkMTQ1Mjk1YTJhMDk=/NDg=/create_cancel?activity_id=4462&activity[events_attributes][8387][id]=8387&message=test2&news_item[include]=1&news_item[widget]=1&news_item[twitter]=1&news_item[facebook]=1&to[coordinators]=&to[registrations]=&to[officials]=&to[work_teams]=




DT: Feb 11, 2016
==================

app/controllers/api/v1/news_items_controller.rb    |    2 +-
 .../api/v1/schedules/events_controller.rb          |    3 +-
 app/models/device_info.rb                          |   51 ++-
 app/models/news_item.rb                            |    4 +-
 app/structs/event_update_push_notification_job.rb  |  169 +++++++++
 app/structs/news_item_push_notification_job.rb     |   97 +++--
 lib/tasks/event_reminders_push_notification.rake   |  370 ++++++++++++++++++++



 
 
 User Load (0.9ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9097 AND (`users`.`deleted_at` IS NULL) LIMIT 1
 => #<PasswordUser id: 9097, person_id: 41459, password: "8383ebaced0d87dedcc902431ac702998a5524a6", salt: "eb678255c387895632692c7e843c6586908fe3c4", is_active: true, activation_code: nil, remember_token: nil, remember_token_expires: nil, recognition_token: "4c3f8d21f7cc19717e61dc5aeb8c4d5918161f19", type: "PasswordUser", is_temp_password: false, created_at: "2015-03-25 05:17:24", updated_at: "2015-10-12 13:49:04", hide_mobile_not_configured: false, deleted_at: nil, fb_user_id: "809910415779925", fb_access_token: "CAAVDlFG4onMBAFLxZCGnXuJgXavrXv22YdmtZCk2QxC6U2Jx90...", fb_access_token_expires: "2015-10-12 16:11:43", fb_first_name: "Madhu", fb_last_name: "Smita", fb_email: "amit.mohanty@andolasoft.co.in", authenticity_token: "b6a804649b3240dee0041e62d890d28b", settings: nil>
2.1.5 :015 > u.person
  UserPerson Load (0.7ms)  SELECT `people`.* FROM `people` WHERE `people`.`type` IN ('UserPerson') AND `people`.`id` = 41459 LIMIT 1
 => #<UserPerson id: 41459, type: "UserPerson", first_name: "Amit", last_name: "MOha", send_mail: true, phone: nil, cell_phone: nil, work_phone: nil, birthdate: "1990-09-16", gender: "male", address: nil, address2: nil, city: nil, state: nil, zip: nil, schools: nil, picture: nil, created_at: "2015-03-25 05:17:24", updated_at: "2015-03-25 05:17:24", matched_user_id: 9097>

 
 
 
 
Action required - You've reached your Mailgun email limit

http://www.mailgun.com/pricing




What is working: 
When a lead replies to our email the notes is saved.
When our sales coordinator replies to that original email thread - the note is saved.
When a lead, opens a brand new email and sends a new email, that note is saved.
What is not working:
When a sales coordinator opens a new email, not a reply, and mails a lead - that note is not being saved.



Hi Max,

We investigated and found the reason behind the note saving when sales coordinator sends a new mail to lead itself. We fixed it and pushed the changes to staging server.

What is not working:
When a sales coordinator opens a new email, not a reply, and mails a lead - that note is not being saved. FIXED

On a separate note, the mailgun monthly message limit 10,000 reached today, so the note saving functionality wont work anymore. 
You can create a paid account in mailgun and share with us.

Here is the URL about the mailgun pricing,
http://www.mailgun.com/pricing

Please share your thoughts.

Best,
Amit



I’ve seen a very high number of exceptions today.  Do you have any idea why?  Are these all caused by bots?  It looks like this one is, but I don’t know about the rest.

Also, I really miss Airbrake, because I could manage the exceptions that occur.


Hi Carmen,

Seems all exceptions caused by bots. We tried and able to view all the pages that we got from exception notifier.

Here are the links to the pages,

http://www.skyhighvolleyball.org/teams/girls-club-2015-16/14-miller/index
http://www.skyhighvolleyball.org/teams/girls-club-2015-16/18-black-1/index
http://www.cyclonesvolleyballclub.com/teams/2015-16-girls-club/16-black-3/index
http://www.eastsidevb.com/teams/2015-summer-sand-program/13u14u-doubles-2s/index
https://dynamicssc.leaguer.org/teams/kickball-co-ed-thursdays-winter-2015/south-bay-sonics/index


We will try to fix Airbrake and keep you posted.




DT: Feb 12, 2016
=================
>> rake task for reminders
>> notification should come from web also(Need to merge it model and push notification stuff in andola-leaguer)
>> test of push notification in case of sitenews, team news and schedules


1. Issue fixing given by suryakant - WIP
2. Merge the milestone11 branch in staging.
3.Updated code merging in android and unit testing.



Amit - Minutes of meeting - Project Manager Trainning Session 2 - Feb 10, 2016


Hi Sir, 

Please find the details as follows:

Title : Project Manager Trainning Session 2
Attendees: JD Sir, Deepak Sir,Girija Madam, Meera Madam and Soumya
Presenter : Anurag Sir

Topic:
How to improvise thought process, visualization
Project ZippyAR scope specific discussion
Discussed on our undestanding about the project
Discussed about the unknown areas and challenges of ZippyAR​ project
Discussed about the tentative timeline of the project

Case Study : ZippyAR​
 
Scope:
Scan QR code through mobile application to create/retrive the message where message is associted with a text/image/video.


As per the discussion, Here is the task break down and tentative timeline 

Api - 40hrs

Generate QR code
List QR code
Create message api
Retrieve message api

Mobile
Home page
Camera view
View page
Video player intagration

unknown areas of project:

Live streaming of videos
Video compression


Best,
Amit


 Topics
How to  improve the communication skill.
Prepared the estimation for mobile app and server side development time.
Discussed on how to upload bigger size of videos or high resolution images.
​  Case Study : ZippyAR​

   Scope

  Design an Android or IOS  app where user can upload a message with a video or image as attachment with a QR code is associated with that message. To View that message user needs to scan the QR code . after successfully scanned the QR code the message wil be display to that user. 

Assigned Tasks
Write down the summary of the project.
Breakdown of the tasks for mobile and server side with estimation.




Sir seems credentials are wrong. I am unable to login to Mandril.

iphone5:
"a7ecf42df22b9001ac4df9c4ff0141dff541b11595602865d9c9e3d30d2096e2"

android:
"APA91bFWSZWrcILYJ5KiuVCd4NfqasXKIyiE7ZkBCcMUaPO23DtFO4rlKsnRzxLAEb4sH7UG8GmI-1cwbrbcK_rwAEIHhfCCB1_ujjMwst18OG8dtFy5tFdur4NS8RZRl5Akt-9GOykKGZ8Ij56E5WDHLB69IIbmjg"




bundle exec whenever --clear-crontab workspace --set environment='staging'
bundle exec  whenever --update-crontab workspace --set environment='staging'




/api/v1/account/MTA4ZDdkODc4Y2E4ZTBhZGMzNzJmMmRhNDRkNmI4Nzg=/NjI=/check_user_admin




/api/v1/schedules/event/NTE1ZThiY2Q3NmM3Y2YyM2M5OWE3NmZhM2Y4NjQ5ZDA=/MzY2/get_activity_events?activity_ids=all&type=upcoming&per_page=10&page=1" for 111.93.178.162 at 2016-02-12 11:18:16 +0000
Completed 200 OK in 37.4ms (Views: 0.2ms | ActiveRecord: 14.6ms)
Processing by Api::V1::Schedules::EventsController#get_activity_events as JSON
  Parameters: {"activity_ids"=>"all", "type"=>"upcoming", "per_page"=>"10", "page"=>"1", "auth_token"=>"NTE1ZThiY2Q3NmM3Y2YyM2M5OWE3NmZhM2Y4NjQ5ZDA=", "org_id"=>"MzY2"}

  
  
 [#<OfficialEvent id: 9242, type: "OfficialEvent", event_state_id: 1, activity_id: 5379, home_team_id: 2069, visiting_team_id: 2083, venue_id: nil, start: "2016-02-12 14:35:00", start_assigner_id: 1, start_assigned_at: "2016-02-12 13:34:36", most_recent_start: nil, most_recent_start_assigner_id: nil, most_recent_start_assigned_at: nil, original_start: "2016-02-17 05:00:00", original_start_assigner_id: 1, original_start_assigned_at: "2016-02-11 09:19:19", kind: "game", published: true, creator_id: 1, created_at: "2016-02-11 09:19:19", updated_at: "2016-02-12 13:34:36", last_reminder_at: "2016-02-12 10:57:39", name: "SALSA", description: "", location_id: nil, start_time_null: false, end: "2016-02-17 05:00:00", end_time_null: true, last_push_notification_at: "2016-02-12 10:52:45">]

ec680edab1fc609099b0d529266d950dae4af6ad9f3916b139a71ed71f888045

0,30 * * * * /bin/bash -l -c 'cd /var/www/html/Jenkins/workspace/LeaguerDemo_API && RAILS_ENV=staging bundle exec rake leaguer:events:remind_by_push_notification --silent >> /var/log/cron_log.log 2>&1'


push_notification_from_web
  
  
Leaguer Mobile - Milestone 10 complete - Request to signoff

  
Hi Carmen,

We have completed all the functionalities that comes under milestone-10. Pushed all the changes to "staging" branch.

Please find the status as follows:

GAME REMINDERS
  Game Reminders DONE
  Reminder Settings DONE
  
We have also added the feature, whenever user will post news from leaguerdemo.com, the  respective receipients will get push notification(Right now they will receive email, sms and push notification, as we have not restricted the sms for those who have mobile app installed)

We have pushed the changes to new branch "push_notification_web" and you can deploy the branch in jenkins to verify.
  
Note:
Make sure you logout from the mobile app and re-login before verifying push notification stuffs

Here is the diawi link to install the latest version of app,
http://install.diawi.com/2vn9Yu

Best,
Amit

activity_start >= Today - 7.days and activity_end >= Today - 7.days


>> existing rake task to uoload to s3
>> rake task for insert s3 links to DB
>> Test 

crm4beauty.mailgun.org
postmaster@crm4beauty.mailgun.org



curl -s --user 'api:key-8z6noq48bdqv0eqc474284zmvgbzepp4' -X DELETE \
    https://api.mailgun.net/v3/crm4beauty.mailgun.org
	
	
curl -s --user 'api:key-8z6noq48bdqv0eqc474284zmvgbzepp4' -X DELETE \
    https://api.mailgun.net/v3/crm4beauty.mailgun.org
	
	
curl -s --user 'api:key-8z6noq48bdqv0eqc474284zmvgbzepp4' -G \
    https://api.mailgun.net/v3/domains \
    -d skip=0 \
    -d limit=3
	
curl -s --user 'api:key-8z6noq48bdqv0eqc474284zmvgbzepp4' -G \
    https://api.mailgun.net/v3/domains/crm4beauty.mailgun.org
	
	
DT: Feb 15, 2016
=================
	
postmaster@sandboxf46db4614f434c1f895dbdd029f494e4.mailgun.org


Hi Max,

As per the new account setup, we need to forward all emails in "notify@4beauty.net" to "postmaster@sandboxf46db4614f434c1f895dbdd029f494e4.mailgun.org". You can get rid of old one 
"postmaster@crm4beauty.mailgun.org".

During verification you are supposed to give verification code, and we can help you get this one.

So please ping me once you come online.


match_recipient("postmaster@sandboxf46db4614f434c1f895dbdd029f494e4.mailgun.org")

forward("https://crm-4beauty-staging.herokuapp.com/store_incoming_emails")

DT: Feb 16, 2016
=================

yvy0818641

9937952675

Request to signoff milestone 7, 8 and 9


Cloud storage of assets
Gone through the existing photos upload functionality under photos section
Did R&D to explictly store photos on S3 bucket
Created a S3 bucket called "leaguer.staging-assets"
Modified the photo model to store photo in S3 bucket
Displayed the stored S3 photos under photos section
Created a rake task to upload existing files in "public/assets/" to S3 bucket
All the changes are in local branch "cloud_storage" only


Hi Carmen,

We successfully implemented cloud storage of assets and pushed the changes to "cloud_storage" branch only.

Here are the tasks involved,

Created a rake task to upload existing files in "public/assets/" to S3 bucket
Created rake task for inserting s3 url to DB
Modified the photo model to store photo in S3 bucket
Displayed the stored photos from S3 bucket under photos section
Modified the "app/views/utilities/_live_field_link_dialog.html.erb" to add custom attribute for S3 URL in select option
Modified the "app/assets/javascripts/tinymce/plugins/sorlink/editor_plugin.js" to display S3 URL for file/image in tinymce editor HTML view option
Modified the asset model to store, delete and display the file/image in S3 bucket
Modified the "app/views/administration/assets/_asset_row_item.html.erb" to display the stored S3 file/image in photos section
Deleted photo from S3 bucket while delete a photo/Album under photos section

Here are the commands,

Run the following command to add s3_url column to assets table
rake db:migrate

Run the following command to upload "public/assets" and "public/images" into S3 bucket
rake leaguer:deploy_public_assets_to_S3

Run the following command to upload s3 url to database
For assets table >> rake leaguer:updating_s3_url_in_db
For media assets table >> rake leaguer:updating_existing_media_assets_url

Note:
config/S3.yml => configuration file for s3 upload



Best,
Amit


https://crm-4beauty-staging.herokuapp.com/leads/56c330f86b0b9a0003000018



URGENT!!! Review of Milestone 4 and 5


Should we assume that all the functionalities looks good to you and signed off?

Please suggest.


Hi Carmen,

We always give you all the functionalities that need to test under specific Milestones in OrangeScrum.
However we have pasted all the details here too,

Already LIVE:

Milestone - 7  
 Enter Scores
 
Milestone - 8 
 Manage Schedules 3
	Create/Edit Events
 
 
Need to push to LIVE:

Milestone - 9

TEAM PAGES 2 
	Team Standings
	Team Roster (incl. Add Roster Member and add coordinator))
	Team Photos
	Team - Send a message
	Team – News (with news posts)

 
Milestone - 10
Site news
	Site News Listing Page
	Site News Detail Page
	Site News Posting


Milestone - 11
GAME REMINDERS
 Game Reminders
 Reminder Settings
 
 
 
Note:
We have already pushed the milestones(upto 8) to respective stores and you need to close the same tickets that requests to signoff these milestones in OS.
  
 
Best,
Amit


HTML tag is displaying in news details page. (Team page >> Carmen's Deposit Team)
Redirect issue in case of news push notification.
 >> I was in news detail page
 >> Got the push notification
 >> when i clicked "okay", loader displays for infinite time
 
Login as amit.mohanty@andolasoft.co.in/test1234 in mobile app
Go to soccer.leaguerdemo.com and login as admin@leaguer.org/leaguer123 and post news

DT: Feb 18, 2016
=================
match_recipient("postmaster@sandboxf46db4614f434c1f895dbdd029f494e4.mailgun.org")

forward("https://crm.4beauty.net/store_incoming_emails")

Use Promo Code PKAK1OR6616 and get recharge of Rs 10 free.
Offer valid on recharges above 100 and below 5000.
Promo code valid till Feb 28.
	

>> HTML tag
>> Condition to restrict
>> logout >> api call >> remove device token from db
>> check null entry issue for device token

http://192.237.170.38/api/v1/account/ODhmZTk4ZmEzMWMwZTZlYmQ5NWM4ZmYzYzAzNmY3Njg=/NDg=/logout?device_token=5d8c7725c7f7c9d595690bc6f72892bc893b879360815eeac9f0056a247732d9
{
"status": "error"
"error_ident": "invalid_request"
"message": "DeviceInfo not found!"
}

>> loader while user logs out
>>eror handoling


"5b547eafd8cf6e8d830a33fe7767ecbe73576e52b1aa01a08541909210c1778b"


["5b547eafd8cf6e8d830a33fe7767ecbe73576e52b1aa01a08541909210c1778b"]


"APA91bFagyt3Yqh-5voAVNjPA0_3psqz8sNVvIh7rjBEVGJ-8bZwb5-mpkILEuXa1sAPu0cFsqfxFACM_h7ZcvCfFxI6vK6hoLNtxtUdG44KhzR-qcX7oGhLKbtNE-0uq8YdrVDrKHk0kBMVhvv1j9Dz81ONBbNJYQ"


1200

320

220
5d8c7725c7f7c9d595690bc6f72892bc893b879360815eeac9f0056a247732d9


culprit:
c4a9dfa155c7be7233e8b60186f6a974b20e8e831d7fbd166e417a6b01585a4d


ar = ["ef88766b12fcca26f71e720c466968c0b2ae551b9502bd1010aaf42e26e857e5", "5b547eafd8cf6e8d830a33fe7767ecbe73576e52b1aa01a08541909210c1778b", "87cc6a1188a01a776ff24acdd83f5ed78b4e48eb34febbadb4b39eedaa8ab8ec", "25b6a538dc52aeeac978722e12d234828028f81a0f32e4255ceff79fab54cc07", "dsd" ]

ar = ["a7ecf42df22b9001ac4df9c4ff0141dff541b11595602865d9c9e3d30d2096e2", "ef88766b12fcca26f71e720c466968c0b2ae551b9502bd1010aaf42e26e857e5", "e19400e5acae6ff7fc891540b80f9b55bc037d60e11069b9e803e352482035b1", "6bce5a4d4df65a4c75a2f4e2474ea84d66b5ff0367539304afb312f4f9daadb7", "f5867211b87e9aecceac4a251340e27c4c4905acf27e00f3e44b87a017519eec", "ef62c7540a4736d7f51d4fcb61f1962f771872d343c04331d47da89eb83ed418", "be0cff4e4b75a52afdee19773067c48fc297413bb063cdf17f4cbcc24a1d201f", "f2649e59fa1db6354d546658f5025caa48ef7974be58d1877bd6476ef9e86eb3", "ec680edab1fc609099b0d529266d950dae4af6ad9f3916b139a71ed71f888045", "2e908b11aa722aec9c95646dfa300f96be4c080f4930aff3e1f9a4b08e78ec2a", "87cc6a1188a01a776ff24acdd83f5ed78b4e48eb34febbadb4b39eedaa8ab8ec", "5b547eafd8cf6e8d830a33fe7767ecbe73576e52b1aa01a08541909210c1778b", "c115802608d580509cd3cf9378576d85e1d9640445e25e292ed6be13702490c3"]




amit - "25b6a538dc52aeeac978722e12d234828028f81a0f32e4255ceff79fab54cc07"

sandeep - "APA91bFagyt3Yqh-5voAVNjPA0_3psqz8sNVvIh7rjBEVGJ-8bZwb5-mpkILEuXa1sAPu0cFsqfxFACM_h7ZcvCfFxI6vK6hoLNtxtUdG44KhzR-qcX7oGhLKbtNE-0uq8YdrVDrKHk0kBMVhvv1j9Dz81ONBbNJYQ"

ipad - "87cc6a1188a01a776ff24acdd83f5ed78b4e48eb34febbadb4b39eedaa8ab8ec"

ipod - "ef62c7540a4736d7f51d4fcb61f1962f771872d343c04331d47da89eb83ed418"



/api/v1/account/ODhmZTk4ZmEzMWMwZTZlYmQ5NWM4ZmYzYzAzNmY3Njg=/NDg=/logout?device_token=5d8c7725c7f7c9d595690bc6f72892bc893b879360815eeac9f0056a247732d9




Sandbox domains are meant for testing purposes only, and are restricted to 300 emails per day.


Hi Sir, 

Mailgun might recently changed daily limit to 300 emails per day for sandbox domain. 

"Sandbox domains are meant for testing purposes only, and are restricted to 300 emails per day."

We need to create a new custom domain and to add DNS records to verify our domain.

Note:
But in our previous sandbox account, we had not this 300 limit per day issue.


https://mailgun.com/app/domains

marketing@4beauty.net/CRMPassword

Best,
Amit

Leaguer mobile app milestones completed

Hi Sir,

We have completed last milestone of project Leaguer mobile app. Currently we are waiting for Client's feedback.
Sandeep and Madhusmita has been released from the project and they are currently working in following projects

SDP: RubyRibbon, Pesticides, BookBus.com (Estimation)
MDS: Merdeka eForm

Best,
Amit



>> Fetch unread mails
>> Save it to db
>> status changed email to read
>> Save under specific lead as note
>> truncate the table 


app/helpers/email_fetch.helper



5000




DT: Feb 22, 2016
=================

Cloud storage implementation - Ready to test


Hi Carmen,

We successfully implemented cloud storage of assets and pushed the changes to "cloud_storage" branch only.

Here are the tasks involved,

Created a rake task to upload existing files in "public/assets/" to S3 bucket
Created rake task for inserting s3 url to DB
Modified the photo model to store photo in S3 bucket
Displayed the stored photos from S3 bucket under photos section
Modified the "app/views/utilities/_live_field_link_dialog.html.erb" to add custom attribute for S3 URL in select option
Modified the "app/assets/javascripts/tinymce/plugins/sorlink/editor_plugin.js" to display S3 URL for file/image in tinymce editor HTML view option
Modified the asset model to store, delete and display the file/image in S3 bucket
Modified the "app/views/administration/assets/_asset_row_item.html.erb" to display the stored S3 file/image in photos section
Deleted photo from S3 bucket while delete a photo/Album under photos section

Here are the commands,

Run the following command to add s3_url column to assets table
rake db:migrate

Run the following command to upload "public/assets" and "public/images" into S3 bucket
rake leaguer:deploy_public_assets_to_S3

Run the following command to upload s3 url to database
For assets table >> rake leaguer:updating_s3_url_in_db
For media assets table >> rake leaguer:updating_existing_media_assets_url
For slide show images >> RAILS_ENV=staging rake leaguer:updating_existing_slide_show_images_url

Note:
config/S3.yml => configuration file for s3 upload

Please verify and let us know your feedback.

Best,
Amit



https://www.google.com/settings/security/lesssecureapps


Client ID:
360168326246-rpqam5lmoe1gf2s26jl2usmf7g89getr.apps.googleusercontent.com

Client Secret key:
swUmrNalqXyYPmHSuJXgFeAI







We might have one job for you.
 
There might come also other jobs, but first we like to pilot how well our possible co-operation would work.
 
Job:
We now have a commenting functionality in Powermemo which works so that when someone comment a task, file, etc,.. 
Powermemo sends a mail to all receivers mentioned. When receiver gets a mail and wants to comment back, he/she have to click a link in a mail, in order to get feedback
into Powermemo. 
 
What we like to have is, that when the receiver Reply the mail, the answer goes to the Powermemo also. (like it works e.g. in Basecamp)
Our guys have gone through the case, and there should not be any particular problems on that. We use Intercom.io and Mandrilla.
 
Is that something that your guys can do?
Hi,

I have recently worked on the similar functionality that your client asked for.

There are couple of options available,

If they have their own domain setup in mailgun, then there is an option available to redirect all incomming incommings to specific webhook, all we need to do send a token in the email that identifies a task, file etc... and then insert it into DB.

We can also use sandbox account that mandril provides, but they have limit of 300 emails per day.

Another approach is that we can also achieve it by reading gmail inbox, that means suppose all the emails are comming from say "notify@powermemo.com" to receivers. We need to setup new gmail account where all the incomming emails to "notify@powermemo.com" will forward a copy to the gmail account and we will read all the inbox emails, parse them with the token and save it to DB.

Please let me know if you have questions further.

Best,
Amit



Daily Update - 22/02/2016



Drag and drop of leads resolved in staging environemnt


Hi Max,

We have fixed the drag and drop of leads in case of pagination. Already pushed the changes to staging server.
Please verify and let us know your feedback.

Best,
Amit

Hi Sir,

Please find updates as follows:

Leaguer:
Done unit testing of cloud file storage in web application
Fixed some issues in site builder section where photos are not being pulled from s3 bucket in case of photo widget section
Created rake task for updating the record for existing records
Pushed the changes to staging server.
Follow up with Carmen on feedback of mobile app

CRM:
Follow up with Max regarding communication part and pagination issue

SALK:
Updated the latest data in excelsheet for various reports(Attached excelsheet)



Best,
Amit


Hi Max,

Did you get a chance to verify the communication stuff and drag drop issue of leads in staging server?
Are we ready to push it to production? Currently we are waiting for your feedback. 


Best,
Amit

DT: Feb 25, 2016,
==================
http://www.sitepoint.com/messaging-rails-mailboxer/
https://github.com/mailboxer/mailboxer
https://www.ruby-toolbox.com/categories/User_Messaging_Systems
https://github.com/LTe/acts-as-messageable


Here are two test leads - have a look at how the conversations are being saved. We should only have a note for each inbound or outbound email - and not store whole conversations. 


Hi Max,

Gmail is giving us email body in weird format with all the history as well in the same body, where as Mailgun was smart. 
However we are able to parse those ugly strings and displayed the exact reply under note section.

Please verify and let us know your feedback.


Best,
Amit



Hi Sir,

Please find updates as follows:

CRM:
Gone through the gmail email body to parse the exact reply on email threads
Task assignment and code review of Sambit
RnD to parse string using Nokogiri in ruby
Code push and testing in staging every scenario for communication part functionality
Meeting with Max

SALK:
Fixing the issue with weekly report chart associated with Deepak Sir


Best,
Amit


ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDowJJyShAeklYITpKtfym/fyyVHbPBhsa/VT52VMKgUKf9W1Vmb9xxx/PBWaulAUVEvuw+eg5Gh6QekLi7sCQjwNSotJJObSXUH3wM9PWjGbKibpjsq7/f/ntzUYyHguqIv
2bd+tZvXTFeg9X9vo6shF6Jm0sYEpIDeykz768FzJXvYol5yJdhDvYyaKnW/eeLRcJ5jTySD+ZUGWE+nmEGjNZI+yEDkhvY1Nx27YMYx9rIbpdEI6Lv00qq72szHGpsnDRncaGRZJXL5w4hVaVTSpom1lGualTlLk834AtF6J
39BogcxvAsr8JpRMO6sjhbNT ansuman.taria@andolasoft.co.in





DT: Feb 26, 2016
================
 5285.29
 4927


Hi Sir,

Please find updates as follows:

CRM:
Fix the unnecessary space that was comming under some emails for note section
Code push and testing in staging every scenario for communication part functionality
Email communication and meeting with Max

SALK:
Fixing the issue with weekly report chart associated with Deepak Sir

Regaex:
Asscoiated with Ansuman sir in fixing some issues while runnning the app locally

Leaguer:
Follow up with Carmen on feedback of mobile app

Best,
Amit


DT: Feb 29, 2016
================

Hi Sir,

Please find updates as follows:

CRM:
Gone through ssl stuffs
Email communication and meeting with Max

Regaex:
Pushed code to live server with Ansuman sir
Asscoiated with Ansuman sir in fixing jquery issues after deploying application to live server

Leaguer:
Email communication and meeting with Carmen
Going through the messaging architecture for web app

Auditnet:
Associated with Nasim in implementation of self signed ssl for staging environment


Best,
Amit

>> SSL update to Max
>> App feedback from Carmen



Cover Letter

My name is Nathalie Echeverria. I have two years of general manager experience. I have excellent customer service skills and would like to be a part of your team. I believe in 100% customer satisfaction and employee motivation. Building a strong team will help continous growth.





/var/www/html/regaexapp

/etc/init.d/httpd restart



Hi Max, looks like there is no SSL issue with Heroku, because the site is opening on Heroku domain - https://crm-4beauty.herokuapp.com/.

That means the 4beauty.net domain has some issues with SSL. Did you set up SSL on 4beauty.net? If so it seems it has been expired due to which it is not allowing. Please let me know.




Hi Max,

After thorough investigation, here are our findings

No SSL issue in Heroku
Need to create CSR in hosted server(4beauty.net) only
Need to place new ssl certificate in hosted server(4beauty.net), as the wild card ssl(*.4beauty.net) that you have purchased for "crm.4beauty.net" domain has beed expired



SSL Certificate information in 4beauty.net


For this we need ssh information for login to 4beauty.net server and will setup the ssl stuffs. You are also supposed to give us the ssl generate link where we will provide CSR information and place the new ssl certificates.


Please let me know if you need a call today morning to discuss in detail.


DT: Mar 1, 2016
================
22142

Auditnet:
>> Self signed ssl
>> ipn callback
>> 




Get Shopclues Vouchers worth Rs500 on Train Ticket bookings @ www.IRCTC.co.in . Valid till 31st Mar 16 TCA




Dear Hiring Manager,

With over 4years of experience, I will step in and make an immediate contribution to your company's contniued success. As Software Engineer at Andolasoft Pvt. Ltd., I collaborate closely with customers and other team members to develop robust software solutions. Additionaly, I am enthuastic, organized and willing to take ownership of core concepts.

I look forward to have interview soon and discussing the detail of this position. In the meantime, please find my resume attached. References are available upon request.

Sincerely,

Amit Mohanty






https://www.sandbox.paypal.com/in/cgi-bin/webscr?cmd=_flow&SESSION=oxeQHHSVu8_PSPuXCoTb1pmtbcnqgb_0V9qsGS6IcSxAYmiJbcc-FymJG0a&dispatch=50a222a57771920b6a3d7b606239e4d529b525e0b7e69bf0224adecfb0124e9b61f737ba21b08198a1cfd454fa474d16e3bed0f38ea80110



Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?amount=0.6&business=test_business%40andolasoft.com&

cancel_return=http%3A%2F%2F75.101.128.144%2F&cmd=_xclick&item_name=PayPal+Payment&no_shipping=1&

notify_url=http%3A%2F%2F75.101.128.144%2Fpayment_notifications%3Fid%3D3%26user%3D127103%26cid%3D126772%26authenticity_token%3DScsXw6fPY4M0OdkSthWgZHEktWiThgkceChpu6uaqgc%3D%26paypal%3D1&

return=http%3A%2F%2F75.101.128.144%2Fsubscription_plans%2Fcreate_subscription%3Fid%3D3%26user%3D127103%26cid%3D126772%26authenticity_token%3DScsXw6fPY4M0OdkSthWgZHEktWiThgkceChpu6uaqgc%3D%26paypal%3D1&rm=2&upload=1



http://75.101.128.144/subscription_plans/create_subscription

http://75.101.128.144/subscription_plans/create_subscription



Started POST "/subscription_plans/create_subscription?id=3&user=127103&cid=126772&authenticity_token=ScsXw6fPY4M0OdkSthWgZHEktWiThgkceChpu6uaqgc%3d&paypal=1" for 192.168.2.160 at 2016-03-01 08:49:02 -0500
  Processing by SubscriptionPlansController#create_subscription as HTML
  Parameters: {"mc_gross"=>"0.60", "protection_eligibility"=>"Ineligible", "payer_id"=>"A7XS963Z3AG36", "tax"=>"0.00", "payment_date"=>"05:48:39 Mar 01, 2016 PST", "payment_status"=>"Completed", "charset"=>"windows-1252", "first_name"=>"test", "mc_fee"=>"0.32", "notify_version"=>"3.8", "custom"=>"", "payer_status"=>"verified", "business"=>"test_business@andolasoft.com", "quantity"=>"1", "payer_email"=>"ansuman.taria@andolasoft.co.in", "verify_sign"=>"AgcDGYlhuFHsGOu7XGHikZCG2FuuABdODDuqofyT396TqKz.SW7-7WF9", "txn_id"=>"0E347772V50876218", "payment_type"=>"instant", "payer_business_name"=>"test facilitator's Test Store", "last_name"=>"facilitator", "receiver_email"=>"test_business@andolasoft.com", "payment_fee"=>"0.32", "receiver_id"=>"L9C9YE9KBY4ME", "txn_type"=>"web_accept", "item_name"=>"PayPal Payment", "mc_currency"=>"USD", "item_number"=>"", "residence_country"=>"US", "test_ipn"=>"1", "handling_amount"=>"0.00", "transaction_subject"=>"", "payment_gross"=>"0.60", "shipping"=>"0.00", "auth"=>"AOr3bXl5JSMqitTU4g8w8cp9kh1poIcWxObEGCuivD8clDEbmz4vKqbKaNyHDAcKSrn85AI3j2xd.4uHBZoxvOQ", "id"=>"3", "user"=>"127103", "cid"=>"126772", "authenticity_token"=>"ScsXw6fPY4M0OdkSthWgZHEktWiThgkceChpu6uaqgc=", "paypal"=>"1", "locale"=>:en}
  
https://www.paypal-knowledge.com/infocenter/index?page=content&widgetview=true&id=FAQ1766&viewlocale=en_US
sslv3 alert handshake failure + paypal



Hi Sir,

Please find updates as follows:

Auditnet:
Integrated self signed ssl in staging environment
Code push to live server with Ansuman sir
Going through the paypal tweak needed for application

Leaguer:
Email communication and meeting with Carmen
Going through the messaging architecture for web app

CRM:
Gone through ssl stuffs
Email communication and meeting with Max



Best,
Amit





Manage schedules wasn't visible on the app, but then I signed out and signed in again and it came back


Hi Carmen,

We verified the functionality in a real device by installing the app with diawi link(http://install.diawi.com/HUWwhL), we provided you earlier and seems to be working as expected.
Could you please verify this in mobile device rather than in simulator

Best,
Amit


DT: Mar 3, 2016
===============
/api/v1/schedules/event/ODhmZTk4ZmEzMWMwZTZlYmQ5NWM4ZmYzYzAzNmY3Njg=/NDg=/get_activity_events_by_month?activity_ids=all&month=3&year=2016

/api/v1/schedules/event/ODhmZTk4ZmEzMWMwZTZlYmQ5NWM4ZmYzYzAzNmY3Njg=/NDg=/get_activity_calendar
/api/v1/schedules/event/ODhmZTk4ZmEzMWMwZTZlYmQ5NWM4ZmYzYzAzNmY3Njg=/NDg=/get_activity_events?activity_ids=all&type=upcoming&per_page=10&page=1

Hi Sir,

Please find updates as follows:

Leaguer:
Task assigment and review of Sandeep
Created new migration file to remove the existing notification settings and add again as per the requirement
Pushed the changes to staging server
Email communication with Carmen

Fanzoos:
RnD to override URL helper(link_to) in order to customize turbolink attribute
Integrated the logic to display conditionallly data-no-turbolink attribute according to ad sense pages
Pushed the changes to staging and unit tested the same in staging server
Task assignment and code review of Sambit
Dicussed about the model architecture needed for fanpages like Organization, Team and Athlete

CRM:
Discussed with Anurag sir and Omkar about project MVP items for mobile application
Here are the items,
Login >> Forget password
Leads
Add new Lead
Search Lead
Lead sorting
Slide drawer
Task Listing

Best,
Amit



Processing by Api::V1::AccountController#update_notifications as JSON
  Parameters: {"notification_profile"=>{"one_hour_in_advance_push_notification"=>"1", "two_hours_in_advance_push_notification"=>"1", "one_day_in_advance_push_notification"=>"1", "two_days_in_advance_push_notification"=>"0", "one_week_in_advance_push_notification"=>"0", "event_rpc_push_notification"=>"1", "instant_msg_push_notification"=>"0", "team_news_push_notification"=>"1", "org_news_push_notification"=>"1"}, "auth_token"=>"YjZhODA0NjQ5YjMyNDBkZWUwMDQxZTYyZDg5MGQyOGI=", "org_id"=>"NDg="}


when I change my settings the whole screen refreshes.  This wouldn't be a problem except it looks like all the toggles get deselected and then re-selected, so it's a little off-putting to the user.
Also, the default settings should be slightly different.
The ones that should be enabled are:
1 hour in advance
1 day in advance
Game Cancellations/postponements
Team News Posts
Site News Posts

The rest should be disabled by default




Hi Carmen,

Currently we are displaying loader first avoiding toggles deselect/re-select issue, like other settings page. And also default notification settings has been added for users.

Please verify and let us know your feedback.
http://install.diawi.com/eVB1nZ

Best,
Amit




3600
2100

check in - 21 - 22
check in - 23 - 24


1318


Task assignment and review od Sambit
Associted with Sambit to add instance method in model to get related org, team and athlete

http://dev.fanzoos.com/search?utf8=%E2%9C%93&search=cricket



@posts = Post.search(search_text).records.order(order_column + " " + order_by).where(where).all_except(current_user.flag_videos).paginate(:page => params[:page], :per_page => 9)

@posts = Post.search(search_text).records.all_public_posts(current_user.id).all_except(current_user.flag_videos).order(order_column + " " + order_by).where(where).uniq{|p| p.id}.paginate(:page => params[:page], :per_page => 9)


How do I test mobile push notifications?  I posted news from the mobile app, but didn't receive it as a push notification even though I selected to send it via email/sms.  Can you make a video of it on the simulator? Or write up how I can verify push notifications come through, because I'm not getting game reminders, rescheduled game notifications or news posts via push notification, so it doesn't appear to be working.


Hi Carmen,

Push notification will not work in simulator as they do not return device token. We need to test push notification stuffs in real devices. 
However we have verified the news posting from mobile device and able to receive at other end mobile devices.

Scenario:
Logged in as admin@leaguer.org in mobile1
Logged in as carmen@bellaviacorp.com in mobile2
Posted news from mobile1 and successfully received push notification in mobile2 (As discussed in Skype)


Best,
Amit



 Can you give me the registration names where you couldn’t register for 2 of the 3 activities listed on the registration page
 
 
 
 
 ["d8dbe7068278fdf34f5e27fe214741bb2a9f55d74197dcf9f92430f6dcb359a0", "c4afed5032fef24c27d1db736d0cab9ab2974b32c331d2f62b37b585991eb32a", "025c5157182d463e32541f632a08d5ead0f15e78be24c99bccedeed1f0551895", "431ece7829a7da046836e09aeee1a4d8ee75213290a683215f06f3f133fbda89", "6bce5a4d4df65a4c75a2f4e2474ea84d66b5ff0367539304afb312f4f9daadb7", "b5185e26a42f1c329d6bd34aac94d888899404893bf2591ceaa4dea6aa1d7c83", "8394ab8a3873f37ad87b82922dffb00745a2bb40d486d9558c4e451606189e10", "3c4694642f75066326088cbe230d53a87887ed6939448cd517192efc705298d0", "5b547eafd8cf6e8d830a33fe7767ecbe73576e52b1aa01a08541909210c1778b", "13d12019c11b5c41000793e1e6a069c6ab8f208bebbf74fb679f9dce30c242da", "a8498e91fff6af2763bc37404051c7c652c3a2c9279da02c82ba3601c058b7ff", "9c98a04151cdd5da6de2487264da5bc72dddc64cb9ed17ea47e12612da78ac23", "ef62c7540a4736d7f51d4fcb61f1962f771872d343c04331d47da89eb83ed418", "bea50fb4b56f6c1865b5d1d88e20ed6470b92589a8103ec7fc33f8bfe68d2986", "null", "6e093869695edfc1cd48e0353ff55b90a1406677e6f46471ba3de24a03c8dca1", "32ee942512ed74d42ebc23c2f718676ac67616db7080a48ad3fcea6f85faec94", "e710379ed71fb7404c579b99fb80535f5184f73214f658d1e63aa1fbfc1d4f6a", "1e98e89bb41753ae8d6d1148b8180b7ce92f8754065e7de26a7e1225a5c891e4", "cdaf943cd6fcd48388b73d186452e1f79e37d6528929e6207f131e3d40b26280", "1ea185825bda6d2e8049afa70290c5b4e0038847070443b3121cc321efecef3a", "1384489b46df2052019b7c4f7205a441afb66b5f317988c5a80a08f5824fbfda", "a5a1dd089c842d9f734d7d085e0020c0026f72612080ddb3373533c728934207", "76e6e468de22f37bc189e6b4dfb24349fc25999aeaa63dab5da696e4f152207f", "ff0b5cd03e235f3ac30b961a98e77e95c5fa958adc804d2c169969535d810d0b"]
 
 
 ["d8dbe7068278fdf34f5e27fe214741bb2a9f55d74197dcf9f92430f6dcb359a0", "c4afed5032fef24c27d1db736d0cab9ab2974b32c331d2f62b37b585991eb32a", "025c5157182d463e32541f632a08d5ead0f15e78be24c99bccedeed1f0551895", "431ece7829a7da046836e09aeee1a4d8ee75213290a683215f06f3f133fbda89", "6bce5a4d4df65a4c75a2f4e2474ea84d66b5ff0367539304afb312f4f9daadb7", "b5185e26a42f1c329d6bd34aac94d888899404893bf2591ceaa4dea6aa1d7c83", "8394ab8a3873f37ad87b82922dffb00745a2bb40d486d9558c4e451606189e10", "3c4694642f75066326088cbe230d53a87887ed6939448cd517192efc705298d0", "5b547eafd8cf6e8d830a33fe7767ecbe73576e52b1aa01a08541909210c1778b", "13d12019c11b5c41000793e1e6a069c6ab8f208bebbf74fb679f9dce30c242da", "a8498e91fff6af2763bc37404051c7c652c3a2c9279da02c82ba3601c058b7ff", "9c98a04151cdd5da6de2487264da5bc72dddc64cb9ed17ea47e12612da78ac23"]


 
 
 
 
 ["d8dbe7068278fdf34f5e27fe214741bb2a9f55d74197dcf9f92430f6dcb359a0", "c4afed5032fef24c27d1db736d0cab9ab2974b32c331d2f62b37b585991eb32a", "025c5157182d463e32541f632a08d5ead0f15e78be24c99bccedeed1f0551895", "431ece7829a7da046836e09aeee1a4d8ee75213290a683215f06f3f133fbda89", "6bce5a4d4df65a4c75a2f4e2474ea84d66b5ff0367539304afb312f4f9daadb7", "b5185e26a42f1c329d6bd34aac94d888899404893bf2591ceaa4dea6aa1d7c83", "8394ab8a3873f37ad87b82922dffb00745a2bb40d486d9558c4e451606189e10", "3c4694642f75066326088cbe230d53a87887ed6939448cd517192efc705298d0", "5b547eafd8cf6e8d830a33fe7767ecbe73576e52b1aa01a08541909210c1778b", "13d12019c11b5c41000793e1e6a069c6ab8f208bebbf74fb679f9dce30c242da", "a8498e91fff6af2763bc37404051c7c652c3a2c9279da02c82ba3601c058b7ff", "9c98a04151cdd5da6de2487264da5bc72dddc64cb9ed17ea47e12612da78ac23"]
 
 
 
Hi Sir,

Please find updates as follows:

Auditnet:
Gone through the partner site 'KnowledgeLeader' of Auditnet to figure out the error while comming from the link

Fanzoos:
Task assignment and code review of Sambit
Modified the existing logic in FanPage models associated with Sambit
Fixed the search issue for logged in user if user chooses category as 'Any'
Going through the elastic search to fix the sorting issue with duration attribute
Code push to staging and unit testing the same in staging environment

Leaguer:
Email communication with Carmen
Verified the news item push notification stuffs in mobile app

Best,
Amit


New relic, gc tuning ,System Scaling, query optimization 


DT: March 9, 2016
=================
Event cancel/reschedule/postpone - 
Event reminder - 
News posting for sitenews/team news - Already working

DT: March 10, 2016
==================
4135

	Lorenzo Deraco

Would you guys be able to look at this issue. Where news is not being sent for this person.  I see that there are a lot of errors in the failed queue in sidekiq and I don’t understand why it would say that the news item wasn’t found when the ID exists in the DB.

The site that is having the issue is RamapoASA.   If you could figure out what’s going on, I’d greatly appreciate it and it will allow me to catch up on all the mobile testing I need to do as this is one of the issues I deal with that takes my time away from being able to focus on the new features we are building.


Hi Carmen, we tried to post news in test league 'Savvyleagues' and able to get emails in my inbox. And also when we looked into the db, news item ids(4135, 3978, 3938) do not exist.
We need to post some test news in RamapoASA website, that will help us to debug more precisely. Please let us know if we can do so.

Best,
Amit





Hi Sir,

Please find updates as follows:


Fanzoos:
Fixed issues in search page
Implemented onclick video tile from search box autosuggest it will redirect to video detail page
Fixed issue in search when user clicks sports from header menu section
Fixed refine results for more videos section of fan around your zone section
Verified search result for overall type of search
Code push to staging and unit testing the same in staging environment

CRM:
Task assignment and review of Sambit
Asscoiated with Sambit in fixing issues while running the app locally in production mode

leaguer:
Email communication with Carmen
Task assignment and review of Ansuman sir
Verification of news post functionality for RamapoASA Organization


Best,
Amit


mysqldump -h fanzoos-db.cerwkpyrki5y.us-east-1.rds.amazonaws.com -u postgres -p fanzoos_dev > fanzoos_dev.sql

 pg_dump --host fanzoos-db.cerwkpyrki5y.us-east-1.rds.amazonaws.com --username postgres
 
 
 http://dev.fanzoos.com/watch/QOVoLWpTd/new-video
 
 

 
 http://166.78.106.72:2812/

User : Pass  == admin : monit

Apache Config on Monit :
-----------------------------------
check process httpd with pidfile /var/run/httpd/httpd.pid
group apache
start program = "/etc/init.d/httpd start"
stop program = "/etc/init.d/httpd stop"
if failed host 127.0.0.1 port 80
protocol http then restart
if loadavg(5min) greater than 10 for 8 cycles then stop
if failed url http://www.leaguerdemo.com/monit_token and content == "App ok" timeout 35 seconds for 10 cycles then restart
if 3 restarts within 5 cycles then timeout

========================================================

Sidekiq Config on Monit :
--------------------------------
check process sidekiq
  with pidfile /var/run/sidekiq/sidekiq.pid
  start program = "/bin/bash -l -c 'cd /var/www/html/Jenkins/workspace/Leaguer_staging/ && bundle exec sidekiq -d -e staging --pidfile /var/run/sidekiq/sidekiq.pid -L log/sidekiq.log'"
  stop program = "/bin/bash -l -c 'cd /var/www/html/Jenkins/workspace/Leaguer_staging/ && pkill -f sidekiq'"
  if totalmem is greater than 512 MB for 3 cycles then restart
  if 3 restarts within 5 cycles then timeout
=================================================================

Please Let me know if anything else you need.



Hi Carmen,

we added the code for monit in place if the server(apache) and sidekiq is not responsive, then respective services will be automatically restarted.

URL of monit dashboard, http://166.78.106.72:2812/
Credentials: admin/monit

As discussed, please find the code snippet for monit as follows:

Apache Config on Monit :

check process httpd with pidfile /var/run/httpd/httpd.pid
group apache
start program = "/etc/init.d/httpd start"
stop program = "/etc/init.d/httpd stop"
if failed host 127.0.0.1 port 80
protocol http then restart
if loadavg(5min) greater than 10 for 8 cycles then stop
if failed url http://www.leaguerdemo.com/monit_token and content == "App ok" timeout 35 seconds for 10 cycles then restart
if 3 restarts within 5 cycles then timeout


Sidekiq Config on Monit :

check process sidekiq
  with pidfile /var/run/sidekiq/sidekiq.pid
  start program = "/bin/bash -l -c 'cd /var/www/html/Jenkins/workspace/Leaguer_staging/ && bundle exec sidekiq -d -e staging --pidfile /var/run/sidekiq/sidekiq.pid -L log/sidekiq.log'"
  stop program = "/bin/bash -l -c 'cd /var/www/html/Jenkins/workspace/Leaguer_staging/ && pkill -f sidekiq'"
  if totalmem is greater than 512 MB for 3 cycles then restart
  if 3 restarts within 5 cycles then timeout

  
Note:
We have added one recipient as 'monitor@bellaviacorp.com'
  
Best,
Amit


http://stackoverflow.com/questions/804115/when-do-you-use-git-rebase-instead-of-git-merge
https://help.github.com/articles/resolving-merge-conflicts-after-a-git-rebase/



DT: March 21, 2016
===================
>> Estimate of messaging and automatic scheduler
>> Merge push notification in andola-leaguer branch
>> create all_pending_branch and rebase from master


>> Amit - Push app to iTunes DONE
>> Amit - Merge push notification branch to staging 


	# modified:   Gemfile
	#       modified:   app/controllers/administration/events_controller.rb
	#       new file:   app/models/device_info.rb
	#       modified:   app/models/news_item.rb
	#       modified:   app/models/user.rb
	#       new file:   app/structs/event_update_push_notification_job.rb
	#       new file:   app/structs/news_item_push_notification_job.rb
	#       new file:   config/apns-Pro-cert.pem
	#       new file:   lib/tasks/event_reminders_push_notification.rake


>> Amit - Rebase from pending branches (see next line item)

>> All Pending Branches - CND, Remember Me, Capistrano 
	Amit - Merge into one branch, rebase from master and deploy to staging

 .gitignore                          |    2 +-
 Capfile                             |   41 ++-
 Gemfile                             |   10 +-
 Gemfile.lock                        |  476 +++++++++++++++++++++++++++++++++++
 README.rdoc                         |    2 +-
 app/assets/stylesheets/compiled.css |    1 -
 config/deploy.rb                    |  125 +++------
 config/deploy/production.rb         |   68 +++--
 config/deploy/staging.rb            |  109 ++++----
 config/deploy/stagingb.rb           |   93 +++++++




http://install.diawi.com/eVB1nZ


https://market.ionic.io/starters/ionic-starter-messenger
http://istarter.io/ionic-starter-messenger/#/login
https://market.ionic.io/starters/ionicsocketiostarter
http://codepen.io/rossmartin/pen/XJmpQr
https://www.airpair.com/ionic-framework/posts/ionic-socketio-chat-application-tutorial


pending_branches
	rememberme
	cloud_storage_v1
	cap_v3
	
	
remotes/origin/cap_v3
  remotes/origin/capistrano

	
	
DT: March 22, 2016
===================

>> Set rake task in api live server
>> update transfirst doc
>> prepare timeline for messaging


week1:
New message - individual
  search user after user typein
  search contacts by alphabetic letter 
Message listing page - only individual
Edit(delete, mark as read)
  
week2:
New message - Team
New message >> Contacts
	  - Teams
	  - All Contacts
	  - Search 
Message listing page - only individual and Team 

week3
New message >> Group
Message listing page - only individual, Team and Group
Search in messaging listing page
Location sharing in chat window

week4
Unit testing and bug fixing



current -> /var/www/html/project/SportsOnRails/releases/20160121131922


http://screencast.com/t/PmwsdsBIHVA





0,30 * * * * /bin/bash -l -c 'cd /var/www/html/Jenkins/workspace/LeaguerDemo_API && RAILS_ENV=staging bundle exec rake leaguer:events:remind_by_push_notification --silent >> /var/log/cron_log.log 2>&1'

"5b547eafd8cf6e8d830a33fe7767ecbe73576e52b1aa01a08541909210c1778b"
"e81be43979bed5e78b1fa9db36a2d0d4d2605ad7f2fa6d750582a5edffadfe77"

f5fd15683f37af16d4b6e3fc35494b7474da0cf22885e2354a751dd74afea7a3


0,5,10,15,20,25,30,35,40,45,50,55 * * * * /bin/bash -l -c 'cd /var/www/html/Jenkins/workspace/Production_background && RAILS_ENV=produ
ction bundle exec rake leaguer:events:remind --silent >> /var/log/cron_log.log 2>&1'



0,5,10,15,20,25,30,35,40,45,50,55 * * * * /bin/bash -l -c 'cd /var/www/html/Jenkins/workspace/Leaguer-api && RAILS_ENV=production bundle exec rake leaguer:events:remind_by_push_notification --silent >> /var/log/cron_log.log 2>&1'

Hi Sir,

Please find updates as follows:

Leaguer
Gone through the messaging spec provided by Carmen
Prepared timeline for weekly delivery
Set the crontab for push notification of event reminders in production api server
Unit tested the news post functionality for verifying push notification in staging server
Email communication with Carmen

Fanzoos
Associated with AMR sir in integrating new layout for fanpages
Pushed the changes to staging server and done unit testing.

Best,
Amit




development: &leaguerdemo
  adapter: mysql2
  database: sportsdev
  username: admin
  password: LegD#guer*!2
  port: 3306
  host: 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com
  encoding: utf8
  timeout: 15000
  #socket: /var/lib/mysql/mysql.sock

staging:
  <<: *leaguerdemo

production:
  <<: *leaguerdemo


http://stackoverflow.com/questions/22931722/mysql-error-lock-wait-timeout-exceeded-try-restarting-transaction-during-run

"5b547eafd8cf6e8d830a33fe7767ecbe73576e52b1aa01a08541909210c1778b"
"e81be43979bed5e78b1fa9db36a2d0d4d2605ad7f2fa6d750582a5edffadfe77"

f5fd15683f37af16d4b6e3fc35494b7474da0cf22885e2354a751dd74afea7a3

4bf62f8ce273fb3c075cce9c42ad4703a8b915300e5f7840456b7f013d9fdfda



Mysql2::Error: Lock wait timeout exceeded

mysql -h 40ef885468b8c6a4ee7c553e0a1c482b61184c8b.rackspaceclouddb.com -u admin -p

ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction

https://support.rackspace.com/how-to/managing-cloud-databases-configuration-groups-in-the-cloud-control-panel/


Hi Carmen,

After investigation we found that the issue was arising due to timeout limit in mysql enginge InnoDB and error was "ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction".
As we are using rackspace database, had to add one configuration in mysql for increasing 'innodb_lock_wait_timeout' from default 50 to 1000.

http://screencast.com/t/Myie9vYx

Best,
Amit



["e81be43979bed5e78b1fa9db36a2d0d4d2605ad7f2fa6d750582a5edffadfe77", "f5fd15683f37af16d4b6e3fc35494b7474da0cf22885e2354a751dd74afea7a3"]

5b547eafd8cf6e8d830a33fe7767ecbe73576e52b1aa01a08541909210c1778b


$0.48 / hr server
$0.16 / hr service
$0.64 / hr total


Upcoming Holiday on Thursday, 24th March

Sir,

Please find updates as follows:

FanZoos:
Did investigation about Google+ authorization issue with Client given google app
Created sample app in google+ and integrated the client id and secret key
Suuceesfully fixed the Google+ authorization issue in staging server
Associated with Amarajyoti sir in integrating layout for fanpages
Pushed all the changes to staging server and unit tested the same

Leaguer:
Investigated about the server crash issue while creating/updating Activity in staging server
Communicated with Rackspace support team to increase 'lock wait timeout' time
Task assignment and review of mobile app bugs posted by Carmen


Best,
Amit


bsnl - topup - 100


 Gemfile                                            |    1 +
 .../administration/events_controller.rb            |    3 +
 .../administration/news_items_controller.rb        |    3 +-
 app/models/device_info.rb                          |   79 ++++++
 app/models/news_item.rb                            |    1 +
 app/models/user.rb                                 |    2 +-
 app/structs/event_update_push_notification_job.rb  |  167 ++++++++++++
 app/structs/news_item_push_notification_job.rb     |  126 +++++++++
 config/apns-Pro-cert.pem                           |   66 +++++
 lib/tasks/event_reminders_push_notification.rake   |  271 ++++++++++++++++++++
 10 files changed, 717 insertions(+), 2 deletions(-)
 create mode 100644 app/models/device_info.rb
 create mode 100644 app/structs/event_update_push_notification_job.rb
 create mode 100644 app/structs/news_item_push_notification_job.rb
 create mode 100644 config/apns-Pro-cert.pem
 create mode 100644 lib/tasks/event_reminders_push_notification.rake


["aad015d9a057d77a0bacf77da9f3cf57e9f4d1b57041e5dea88724c1b4c2aec5", "5b547eafd8cf6e8d830a33fe7767ecbe73576e52b1aa01a08541909210c1778b"]
aad015d9a057d77a0bacf77da9f3cf57e9f4d1b57041e5dea88724c1b4c2aec5


Dear Mr. Mohanty,
 
Sorry I couldn’t meet you as I was in a meeting .
The discussion was very good as I heard from the team . Thanks for your arrival in a short notice .
 
I called you to discuss about the work , there is a pilot project which needs to be delivered 1st , its of 5-6 hrs, so if its getting delivered another work will come .
So wanted to know when you can give time for that , and the payment will be done after the completion of this pilot project . Our technical team wanted to start the work today but as you have already visited once our office today so I told them its not possible for you to again come down for the work .
 
Please let me know your concerns .


Hi Arundhati,

Thanks. I was too in a meeting. There are couple of things from my side
Visting your office is very risk for me as it might create problem in my current job(as some of my old colleagues are workig in Mindfire solutions). I would like to discuss most of the stuffs on skype or phone. Email communication is the best.

May i know what will be the payment for that 5-6hours? (I need to decide whether it is feasible for me or not, because i have other freelancing works on my hand too)
It would be great if we can have an aggreement/offer letter for parttime employment between you and your company about the freelancing terms and conditions. Being a freelancer i know how important is this?

I can also manage to give 6hours on this weekend if everything stands clear between you and me. I am sure we are going to deliver much more works together.

Nevermind..Please share your thoughts.


Best,
Amit




{:updt_recurr_prof_response=>{:cust_id=>"1459145887769189873", :pmt_id=>"1459145887785197000", :rsp_code=>"00", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}


{:updt_recurr_prof_response=>{:cust_id=>"1459145746558181902", :pmt_id=>"1459145746558154206", :rsp_code=>"00", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}




{:send_tran_response=>{:rsp_code=>"10", :auth_rsp=>{:aci=>"Y"}, :tran_data=>{:swch_key=>"0A100933153BBEA60890CDC7EFA7E2", :tran_nr=>"000017426941", :dt_tm=>#<DateTime: 2016-03-27T23:30:12-07:00 ((2457476j,23412s,0n),-25200s,2299161j)>, :amt=>"000000000555", :stan=>"000923", :auth=>"Lexc05"}, :card_type=>"1", :map_caid=>"300979940268000", :additional_amount=>{:account_type=>"00", :amount_type=>"57", :currency_code=>"840", :amount_sign=>"C", :amount=>"000000001110"}, :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}



{:send_tran_response=>{:rsp_code=>"00", :auth_rsp=>{:aci=>"Y"}, :tran_data=>{:swch_key=>"0A100933153BBF2276D2CDEC60746B", :tran_nr=>"000017427001", :dt_tm=>#<DateTime: 2016-03-27T23:38:42-07:00 ((2457476j,23922s,0n),-25200s,2299161j)>, :amt=>"000000000100", :stan=>"000929", :auth=>"Lexc05"}, :card_type=>"0", :map_caid=>"300979940268000", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}


{:send_tran_response=>{:rsp_code=>"00", :auth_rsp=>{:aci=>"Y"}, :tran_data=>{:swch_key=>"0A100933153BBF45040B58D2352AE7", :tran_nr=>"000017427021", :dt_tm=>#<DateTime: 2016-03-27T23:41:04-07:00 ((2457476j,24064s,0n),-25200s,2299161j)>, :amt=>"000000000131", :stan=>"000931", :auth=>"Lexc05"}, :card_type=>"1", :map_caid=>"300979940268000", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}



{:send_tran_response=>{:rsp_code=>"00", :auth_rsp=>{:aci=>"Y"}, :tran_data=>{:swch_key=>"0A100933153BBF5C3C9290FFED5427", :tran_nr=>"000017427051", :dt_tm=>#<DateTime: 2016-03-27T23:42:39-07:00 ((2457476j,24159s,0n),-25200s,2299161j)>, :amt=>"000000000300", :stan=>"000934", :auth=>"Lexc05"}, :card_type=>"0", :map_caid=>"300979940268000", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}


Visa 4485896261017708 
MasterCard 5499740000000057
Discover 6011000991001201 
American Express 371449635392376 


If a card starts with:
 
3 = AMEX
4 = Visa
5 = Master Card
6 = Discover


{:send_tran_response=>{:rsp_code=>"00", :auth_rsp=>{:aci=>"Y"}, :tran_data=>{:swch_key=>"0A100933153BC00E5F4D2D0CF9C078", :tran_nr=>"000017427161", :dt_tm=>#<DateTime: 2016-03-27T23:54:48-07:00 ((2457476j,24888s,0n),-25200s,2299161j)>, :amt=>"000000000000", :stan=>"000945", :auth=>"Lexc05"}, :card_type=>"0", :map_caid=>"300979940268000", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}


{:send_tran_response=>{:rsp_code=>"00", :auth_rsp=>{:aci=>"Y"}, :tran_data=>{:swch_key=>"0A100933153BC05D55F360B6710294", :tran_nr=>"000017427221", :dt_tm=>#<DateTime: 2016-03-28T00:00:12-07:00 ((2457476j,25212s,0n),-25200s,2299161j)>, :amt=>"000000000000", :stan=>"000951", :auth=>"Lexc05"}, :card_type=>"1", :map_caid=>"300979940268000", :@xmlns=>"http://postilion/realtime/portal/soa/xsd/Faults/2009/01", :"@xmlns:ns2"=>"http://postilion/realtime/merchantframework/xsd/v1/"}}

{"tranNr"=>["17427021"], "CustRefID"=>["TestWallet0309"], "Auth"=>["Lexc05"], "Status"=>["SettlementInProgress"], "Message"=>["Approved or completed successfully"]}




require 'rest_client'
require 'cgi'

endpoint_url = https://post.cert.transactionexpress.com/PostMerchantService.svc/TransactionStatus'
res = RestClient.post endpoint_url, {'GatewayID' => '7777778598', 'RegKey' => 'BLHP7DK5W385J6WZ, 'tranNr' => self.transaction_id,'PostDate' => self.order.processed_at.strftime("%m%d%Y")}
response = CGI::parse(res)  

res = RestClient.post endpoint_url, {'GatewayID' => '7777778598', 'RegKey' => 'BLHP7DK5W385J6WZ, 'tranNr' => "000017427021",'PostDate' => "03272016"}



{"tranNr"=>["17427051"], "CustRefID"=>["Second Profile Test"], "Auth"=>["Lexc05"], "Status"=>["SettlementInProgress"], "Message"=>["Approved or completed successfully"]}



36900

36949




Sir,

Please find updates as follows:

Leaguer:
Email communication with Client
Investigated about the server crash issue while creating/updating Activity in staging server
invoked various services through transfirst api for updating the certification spreadsheet and gave it to client
Gone through the automatic scheduler functionality

FanZoos:
Did investigation about Google+ authorization issue with Client given google app
Pushed all the changes to staging server and unit tested the same

Best,
Amit

CRM
=========
>> Fix the datepicker display issue for date fields in filter
>> Dynamic data display according to date range
>> Default date range is 1month
>> The email communication, the automatic storing the notes has stopped working, I think it stopped working when I pushed the design changes. Could you please let me know what we are doing that breaks certain development.









Due to some urgent work me and Amit both would be not available for our call today. Can we please schedule the call today to Friday same time. Please let us know.



2 root      20   0  419m 7476 2356 S  0.3  0.4   1:15.64 rackspace-monit
31058 root      20   0  742m  39m 3600 S  0.7  2.1 144:15.74 driveclient


set alert monitor@bellaviacorp.com


service monit restart
  770  service httpd stop
  771  pkill -f sidekiq
  772  vim /etc/monit.conf
  773  vim /etc/monit.d/apache.conf
  774  vim /etc/monit.d/sidekiq.conf

  
  
  
HoptoadNotifier.configure do |config|
	config.api_key = '3277ba6d6e34efb74ea8847acc0a02dd'
	# Custom ignored exceptions
	# Was receiving UnknownHttpMethod CONNECT from an aol im server for some reason.
	config.ignore << ActionController::UnknownHttpMethod
end


 Timeout while contacting the Hoptoad server
\\203.129.205.133\home\amit\dev\akselworks




Hi Max,

We have fixed merging data display issue with historic data upto February 2016 and dynamic data from March onwards. 
We are able to get dynamic data of few lables for future dates, but unsure about data like Appointments, Completed and Cancelled, No Show, Closing Rate, Cancel Rate...etc 

Here are our undestanding regarding the numbers, please have a look on it and let us know your feedback


Scheduled Surgeries
Understanding:
Total number of booked surgeries for a particular time frame.

Consultations
Understanding:
Total number of booked consults for a particular time frame.

Phone calls and emails
Understanding:
These are two different task types (Communication medium for task).

Appointments, Completed and Cancelled
Need more information about this.

Inquiry to Appointment
Understanding:
Inquiry: Total number of leads during a particular time frame
Appointment: We need more information for this.
(Percentage of appointments with respect to inquiries)
And what should be data for Colleen, Alejandra and Opticall ?

Email and Phone on right side of window
We need more information for this.

No Show
We need more information for this.

Closing Rate
Understanding:
Percentage of completed surgery with respect to Scheduled Surgeries, and same formula goes individually for Colleen, Marisol, Vivian and Camille

Cancel Rate
Understanding:
Percentage of cancelled surgery with respect to Scheduled Surgeries.

Earned Revenue and Lost Revenue
Need more information about this.

Best,
Amit


DROP DATABASE mydemo





>> Discussion on scheduler 
     I think we should build this as a separate app
	 
>> Creative payment arrangement

>> Discuss how we keep the rails api and rails app in sync
   Carmen Bellavia: I’m going to be making a big change to registration and we’re going to need to add that to the mobile app as well, when it launches
   
   
   
   
.col-xs-*: none (auto)
.col-sm-*: 750px
.col-md-*: 970px
.col-lg-*: 1170px



Sir,

Please find updates as follows:

Squadz:
Gone through the schedule allocation stuffs
Fixed the file delete issue with FileUtil class
Task assignment and review of Sambit

LEAGUER:
Email communication with Carmen
Task assignment and review of bug/enhancement reported by Carmen
Verified the event display issue in mobile with past dates

SALK:
Fixing the chat plotting issue in weekly pdf generation

Best,
Amit




#199: Team Page - Schedule and Results: Past events and their results are not listed

>> Discuss with Ansuman sir


#201: Main Menu: Registration link - change "Registration" to "Programs & Registration"
#200: Registration Screen Modification - Add second tab for activities by type





it was in production on the big city app.  You don't have access to it.  You should be able to test by 
- Add a team to a league (make sure the league is in progress, meaning the start date is in the past and the end date is in the future)
- Add yourself as a player to the team
- Add games for the team  and make all the dates in the past
- Add some scores to the games

Go to the mobile app and locate the team and you should see that the schedule doesn't have any games.


Hi Carmen,

Thanks for sending all the details to simulate the issue. However, We verified the process and able to find those past games with score(as per the spec - attached screenshot)

Here are the steps we followed:

Created a team 'Spartans' under activity '2016 Softball' whose start date in the past and the end date in the future
Added me(amit.mohanty@andolasoft.co.in) as a player to team 'Spartans'
Added game for the team with past dates 
Added scores 
Went to mobile app, found the team "Spartans" inside "Teams and Team Payments" menu
Clicked on "Schedule & Results", then scroll down(which will show you the past games) and able to see those past games with scores(as per the spec - see attached screenshot)


Can you please share with us some screenshots from production app where we are not able to see the past games

Best,
Amit





DT: April 7, 2016
=================

Can you switch leaguerdemo.com to the cap branch for me



Is it going to have BCV logo for the button? I thought you mentioned that?

The acknowledgment slide button does not work

There are no standings on schedule & standings for team page

Scores have been input correctly in our web site but scores wrong in the app.

The location button does not work

registrations are a long list. it should be broken down by activity

registration should not include past registration

its a little confusing when you click on a registration if you click by the register button it takes you to just pay. if you click near the name of the activity you get info. i think you need to have it just click to the info

should not registration order be from most recent upcoming to last?

links in registration area for leagues do not link to anything dont link at all

my schedule/upcoming events has gym name but when click on activity only has address should have gym in location too

my schedule/upcoming events details should list division below league not paran in team name should also add word date more like:

Date:
Time:
Location:
League:
Division:
Event type:
Home:
Visitor:

under teams when you click on teams and it has next game it should also include the location not just opponent and time

i would think under my teams schedule it should have similar format to my schedule all it has is 

dont understand my schedule purpose?





(See full trace by running task with --trace)
vagrant@precise32:/vagrant/new_dev/SportsOnRails$ cap -T
cap bundler:install                   # Install the current Bundler environment
cap bundler:map_bins                  # Maps all binaries to use `bundle exec` by default
cap deploy                            # Deploy a new release
cap deploy:check                      # Check required files and directories exist
cap deploy:check:directories          # Check shared and release directories exist
cap deploy:check:linked_dirs          # Check directories to be linked exist in shared
cap deploy:check:linked_files         # Check files to be linked exist in shared
cap deploy:check:make_linked_dirs     # Check directories of files to be linked exist in shared
cap deploy:check_revision             # Make sure local git is in sync with remote
cap deploy:cleanup                    # Clean up old releases
cap deploy:cleanup_rollback           # Remove and archive rolled-back release
cap deploy:finished                   # Finished
cap deploy:finishing                  # Finish the deployment, clean up server(s)
cap deploy:finishing_rollback         # Finish the rollback, clean up server(s)
cap deploy:link_persistent_resources  # Relink the persistent app server settings and resources
cap deploy:log_revision               # Log details of the deploy
cap deploy:migrate                    # Runs rake db:migrate if migrations are set
cap deploy:published                  # Published
cap deploy:publishing                 # Publish the release
cap deploy:revert_release             # Revert to previous release timestamp
cap deploy:reverted                   # Reverted
cap deploy:reverting                  # Revert server(s) to previous release
cap deploy:rollback                   # Rollback to previous release
cap deploy:set_current_revision       # Place a REVISION file with the current revision SHA in the current release path
cap deploy:started                    # Started
cap deploy:starting                   # Start a deployment, make sure server(s) ready
cap deploy:symlink:linked_dirs        # Symlink linked directories
cap deploy:symlink:linked_files       # Symlink linked files
cap deploy:symlink:release            # Symlink release to current
cap deploy:symlink:shared             # Symlink files and directories from shared to release
cap deploy:updated                    # Updated
cap deploy:updating                   # Update server(s) by setting up a new release
cap install                           # Install Capistrano, cap install STAGES=staging,production
cap rvm:check                         # Prints the RVM and Ruby version on the target ho







Parameters: {"registration"=>{"registration_product_id"=>"7087", "payment_type"=>"online", "participating"=>"true", "requested_team_name"=>"Teamna", "registration_target_person_attributes"=>{"emails_attributes"=>{"0"=>{"address"=>"carmen@bellaviacorp.com"}}, "first_name"=>"Carmen", "last_name"=>"Bellavia", "gender"=>"male", "birthdate"=>"1972-03-14", "address"=>"55 Ocean Ave", "city"=>"Monmouth Beach", "state"=>"NJ", "zip"=>"07750", "phone"=>"null"}, "emergency_contact_person_attributes"=>{"first_name"=>"Carmen", "last_name"=>"Bellavia", "phone"=>"2127215741", "emails_attributes"=>{"0"=>{"email_address"=>"carmen@bellaviacorp.com", "id"=>""}}, "id"=>""}, "founder_role"=>"Captain", "team_coordinators_attributes"=>{"0"=>{"person_attributes"=>{"emails_attributes"=>{"0"=>{"address"=>"carmen@bellaviacorp.com"}}}, "role"=>"Captain", "_destroy"=>"false"}}, "comment"=>""}, "team_invite_id"=>"", "custom_form_reply"=>{"extra_field_data"=>{"Your_Name_"=>"", "Additional_Info_To_Share_With_Us_"=>""}}, "commit"=>"Continue", "_"=>"", "auth_token"=>"NzVhYTE4Y2NmNjViYTNjMWFhMDg0ZTg2MTdhZTc4OTg=", "org_id"=>"NjI="}





Hi Carmen,

We have switched leaguerdemo.com to the path(/var/www/html/project/SportsOnRails/current) that cap deploys, with branch 'pending_branches'.

Here is the video instruction for switching the project conf file between jenkins and cap
http://screencast.com/t/mtwyIVKO

Please let me know if you have any questions.

Best,
Amit



TODO:
=========
Leaguer:
>> Net::SMTPFatalError (550 Unauthenticated senders not allowed): DONE
>> zurb foundation 
>> push update to iTunes DONE
>> feedback on mobile app
>> Bug fixes 

Squadz:


Is it going to have BCV logo for the button? I thought you mentioned that?
Need Discussion

The acknowledgment slide button does not work
Found to be working

There are no standings on schedule & standings for team page - 
Found to be working

Scores have been input correctly in our web site but scores wrong in the app.
Found to be working

The location button does not work
Currently location dropdown is active after selecting an Activity in ‘Create Event’ page

registrations are a long list. it should be broken down by activity 
Fixed and submitted to iTunes

registration should not include past registration
We will fix it

its a little confusing when you click on a registration if you click by the register button it takes you to just pay. if you click near the name of the activity you get info. i think you need to have it just click to the info
Currently the flow is developed as per the spec

should not registration order be from most recent upcoming to last?
Need Discussion

links in registration area for leagues do not link to anything dont link at all
Need Discussion
PS: Right now we are not allowing to click on sold out/upcoming registration

my schedule/upcoming events has gym name but when click on activity only has address should have gym in location too
Need Discussion

my schedule/upcoming events details should list division below league not paran in team name should also add word date more like:
Date:
Time:
Location:
League:
Division:
Event type:
Home:
Visitor:
Need Discussion


under teams when you click on teams and it has next game it should also include the location not just opponent and time
Need Discussion. 
PS: Right now implemented as per spec

i would think under my teams schedule it should have similar format to my schedule all it has is 
Need Discussion. 
PS: Currenltly implemented as per spec

dont understand my schedule purpose?
Need Discussion. 
PS: Currenltly implemented as per spec



http://railscasts.com/episodes/417-foundation?view=asciicast


DT: April 11, 2016
==================

Hi Amit.  So far my testing looks good and I've only added one minor ticket.  One question though is how will pictures work on my local environment now?  Will images upload to s3, meaning I'll need to be connected to the Internet in order to see/upload images or will they still upload locally?

Thanks,
Carmen



Hi Carmen, Thanks for verifying the CDN stuffs.
We already have a bucket 'dev.local.assets' for development environment. This has been configured in 'config/s3.yml'. Please make sure that you run the rake tasks that uploads the files/photos to s3 and update some Urls in DB.


Best,
Amit







>>QR code - downloaded => default null
>> show popup - available QR codes - condition (null - not assigned)
>> after downloaded => set flag 'downloaded' => true






aea8102958e5f2fb5c1d143a10c0d0e9d595fc0b


f1cf360f1309557e40b9e6df37e4c176ce43ba75
8a5da28ca3daef57a1df009250c96f7c09384859




b14ae420af45615a739d3a3ba0edb46868749cf8


if !Thread.current[:organization].reference_host.include?("#{DEFAULT_HOST}")
cookies[:xyz] = {
 :value => session['user'].remember_token,
 :expires => session['user'].remember_token_expires,
 :domain => Thread.current[:organization].reference_host.to_s
 }      
end



cookies[:auth_tokengvj] = { :value => session['user'].remember_token , :expires => session['user'].remember_token_expires,:domain => Thread.current[:organization].reference_host.to_s }




9a972a821894c490262a95aa6be7ee740d7c0fd6

9a972a821894c490262a95aa6be7ee740d7c0fd6




fbac72508c93bb29f544c5c56075752f8b06e64a


cookies[:recognition_token] = { :value => session['user'].update_recognition_token , :expires => 6.months.from_now }


Hi Carmen, We fixed the issue and pushed the changes to "pending_branches" branch.
http://screencast.com/t/7FmQQcCGRD

Please verify and let us know your feedback.

Best,
Amit


rackup private_pub.ru -s thin -E production


Sir,

Please find updates as follows:

Leaguer
Email communication with Client
Fixed the remember me issue in private domains
Pushed the changes to staging and unit tested the same

Squadz
Gone through the private_pub docs
Created sample application to verify publish/subscribe in a channel
Succesfully fixed the issue and implemented the pubsub inside a channel, server as local host
Need to test with remote server in private sub 

ZippyAR
Task assigment and review of download functionality of available QR Codes

Best,
Amit




Milestone1 (estimated time - 2 weeks):						

Database Architecture and design						
One time Super Admin user setup						
LungoJS setup					
Login page design & implementation using LungoJS	
Authentication using Parse		
	
Creating a prototype app on LungoJS	


Notice Management System						
      Add functionality of Notices via api call to the parse server						
      Edit functionality of Notices via api call to the parse server						
      Removal of notices on button click						
      Add notices page design with listing						
      Edit noticese page design with parse manipulation						
Photos Management System						
     Photo upload functionaity						
     Fetching corresponding photos from the server via the api call						
     Gridview photo listing page design						
     Functionality for listing the photos in grid view						
     Individual photo view page on clicking the items from the grid						
     Hiding the status of the photos on hold functionality						
     Individual photo page design						
Report Management System						
     Daily report generation in pdf format						
     Monthly report generation in pdf format						
     Weekly report generation in pdf format						
     Html page content design for the pdf display						
     Pdf conversion from html to javascript for all the reports						
Supervisor Dashboard 						
     Dashboard page design 						
     Dynamically fetching the Attendance of students and displaying in the dashboard column						
     Different reports section with fetching the requested reports						
     Upcoming events section and dynamically fetching data from the parse server						
Complete testing of milestone 2						
Client review and feedback						
Overall Testing and bug fixing of all the three milestones						
					





					
Sir,

Please find updates as follows:

Preschools:
Team discussion regarding the delivery plan and scope
Reviewed status of tasks assigned to Ashish and Pankaj
Prepared tentative timeline for the weekly milestone
Discussed with Prinyank Sir about the milestonewise tasks 

Leaguer
Email communication with Client
Task assignment and review of foundation implementation on a random page

Squadz
Successfully fixed the issue and implemented the pubsub with multiple channels, server as local host
Need to add/test by using remote server in private pub

Best,
Amit





Preschool - TODO - 04/12




Minicode - Today Target - 04/13




Pankaj
Branch Management System >> Add branch page design		Done	
Branch Management System >> Edit branch page design		Done
Branch Management System >> Listing page design	Done
Branch Management System >> Detail(Item) Branch page design	Done
Class Management System  >> Add classes page design	
Class Management System  >> Edit classes page design	
Class Management System  >> Listing classes page design	
Class Management System  >> Detail(Item) class page design	

Ashish
Branch Management System >> Add functionality of branches via api call to the parse server		
Branch Management System >> Edit functionality of branches via api call to the parse server	
Branch Management System >> Deletion of branches			
Branch Management System >> Listing page functionaity
Class Management System  >> Add functionality of classes via api call to the parse server	
	
Ashish/Pankaj, Please make sure that you guys revert back with status against each task EOD.

Please let me know if you have any questions.

Best,
Amit



Attendance Taking System											
      Add functionality of attendance via api call to the parse server							5				5
      Edit functionality ofattendance via api call to the parse server							5				5
      Removal of attendance on button click							3				3
      Add attendance page design with listing							4				4
      Edit attendance page design with parse manipulation							4				4
		



Preschool daily update - April 13, 2016

Sir,

Please find updates as follows:

Branch Management System >> Add branch page design	DONE		
Branch Management System >> Edit branch page design	DONE	
Branch Management System >> Listing page design	DONE
Branch Management System >> Detail(Item) Branch page design	DONE
Class Management System  >> Add classes page design	DONE
Class Management System  >> Edit classes page design	DONE
Class Management System  >> Listing classes page design	DONE
Class Management System  >> Detail(Item) class page design	DONE
Branch Management System >> Add functionality of branches via api call to the parse server	DONE
Branch Management System >> Listing page functionality DONE

Next plan of actions:
Branch Management System >> Edit functionality of branches via api call to the parse server	
Class Management System  >> Add functionality of classes via api call to the parse server	


Challenged faced:
Stuck on the form validation as it conflicts with the lungo js framework.
	Used the jquery form validation and validated the form.
Photo upload functionality using parse server via api.
	Gone through the video tutorial and completed the photo upload functionality.
In Edit functionality the router does not carry the id of current listing.
	Gone through the github repository and the issues section but till now didn't find any correct solutions.
	This functionality is under process.
In the Listing section the fetched values doesn't trigger in the listing page.
	Rnd on the lungo js framework and solved the problem

Best,
Amit




Branch Management System >> Edit functionality of Branch
Class Management System  >> Add functionality of class
Class Management System  >> Edit functionality of class
Branch Management System >> Branch individual view page functionality




Branch Management System >> Edit functionality of branches via api call to the parse server	
Class Management System  >> Add functionality of classes via api call to the parse server	



Preschool - Today Target - 04/14


Pankaj:
Add Student to Class
Add Child
Edit Child
Children Listing

Ashish:
Info functionality of Branch
Add functionality of class
Listing functionality of class




Registration - After filling all the informations in the form - "continue" button is not working

We found that the issue is arising for special character(like dot, comma, brackets...etc) entry in the name value attribute for custom fields.



Daily Update - Preschool - April 14, 2016


Sir,

Please find updates as follows:

Class Management System >> Add Student to Class DONE
Child Management System >> Add Child DONE
Child Management System >> Edit Child DONE
Child Management System >> Children Listing DONE
Branch Management System >> Info functionality of Branch DONE
Branch Management System >> Add functionality of class DONE
Class Management System >> Listing functionality of class DONE

Next plan of action:


Challenges faced in development:

In Edit functionality the router does not carry the id of current listing.
	1.Gone through the internal coding structure of lungo js.
	2.Rnd about the parameter(id) communication between different sections
	3.Finally succeeded to communicate the the id via a global variable(updated in each anchor click) being used throughout the app.
	
Indivisual data fetching from the Parse server :
	1.Implemented the custom sample query from the Javascript api tutorial in different app.
	2.Implemented the query in the application with dynamic id filter.

Challenges faced in design:


Lungo js dropdown not working
Gone through the lungo js github tutorial and implemennted the dropdown with appropriate tags and classes.

Filter icon addition next to the Plus sign in the head section.
Dynamically added a custom image to the header section

Next plan of action

Edit functionality of classes.
Edit functionality of branches.
Fetching students record from the parse server and displaying it in the filter list.
On filter change displaying list in ascending order
Add parent and Remove functionality in Add child section
Child Details
Add Branch Filter to child listing
Add Parent page
Add staff page design			
Edit staff page design
Staff listing	

Best,
Amit


Challenges in development:

In Edit functionality the router does not carry the id of current listing.
	1.Gone through the internal coding structure of lungo js.
	2.Rnd about the parameter(id) communication between different sections
	3.Finally succeeded to communicate the the id via a global variable(updated in each anchor click) being used throughout the app.
	
Indivisual data fetching from the Parse server :
	1.Implemented the custom sample query from the Javascript api tutorial in different app.
	2.Implemented the query in the application with dynamic id filter.
	
Challenges in design:

Lungo js dropdown not working
Gone through the lungo js github tutorial and implemennted the dropdown with appropriate tags and classes.

Filter icon addition next to the Plus sign in the head section.
Dynamically added a custom image to the header section

Next plan of action

Ashish:

Edit functionality of classes.
Edit functionality of branches.
Fetching students record from the parse server and displaying it in the filter list.
On filter change displaying list in ascending order

Pankaj:

Add parent and Remove functionality in Add child section
Child Details
Add Branch Filter to child listing
Add Parent page
Add staff page design			
Edit staff page design
Staff listing	


Parameters: {"end_time"=>"23:45", "location"=>"20.287806,85.823825", "skill_level"=>"Rookies", "title"=>"Basketball league", "start_time"=>"21:45",
type"=>"indoor", "address"=>"Kalinga Stadium, Nayapalli, Bhubaneswar, Odisha, India", "court_id"=>"570fb3d19270c0c726000021", "sport_id"=>"5649a0c9927
8000003", "geo_place_id"=>"ChIJU5JuGtwJGToRW5huVNj-jAE", "time_zone"=>"Asia/Kolkata", "visibility"=>"public", "court"=>"Kalinga Stadium", "play_date"=
-04-14", "auth_token"=>"f00aa711a51d4123cfebbc4afedd3526", "game"=>{"title"=>"Basketball league", "sport_id"=>"5649a0c99270c08728000003", "visibility"
lic", "address"=>"Kalinga Stadium, Nayapalli, Bhubaneswar, Odisha, India", "location"=>"20.287806,85.823825", "game_type"=>"indoor", "play_date"=>"201
4", "start_time"=>"21:45", "end_time"=>"23:45", "skill_level"=>"Rookies", "geo_place_id"=>"ChIJU5JuGtwJGToRW5huVNj-jAE"}}





Preschool - Today Target - 04/15

Here are the targets we have for today, 

Ashish:

Edit functionality of classes.
Edit functionality of branches.
Fetching students record from the parse server and displaying it in the filter list.
On filter change displaying list in ascending order

Pankaj:

Add parent and Remove functionality in Add child section
Child Details
Add Branch Filter to child listing
Add Parent page
Add staff page design			
Edit staff page design
Staff listing	

Ashish/Pankaj, Please make sure that you guys revert back with status against each task EOD.

Please let me know if you have any questions.

Best,
Amit


Class Management System >> Edit functionality of classes.
Branch Management System >> Edit functionality of branches.
Class Management System >> Fetching students record from the parse server and displaying it in the filter list.
Class Management System >> On filter change displaying list in ascending order



Staff Management System >> Add staff page design			
Staff Management System >> Edit staff page design
Staff Management System >> Staff listing
Child Management System >> Add parent and Remove functionality in Add child section
Child Management System >> Child Details
Child Management System >> Add Branch Filter to child listing
Child Management System >> Add Parent page




Ashish
Class Management System >> Class detail page
Class Management System >> Add Students to classes  functionality
Child Management System >> Add functionality of children via api call to the parse server
Child Management System >> Edit functionality of children via api call to the parse server
Child Management System >> Fetching branch list from the parse server and displaying it in the filter list

MDS
Staff Management System >> Deletion of staffs (functionality)
Staff Management System >> Filter By Branch functionality
Child Management System >> Multiple parent entry functionality

PNP







ASH:
Class Management System >> Class detail page
Child Management System >> Fetching branch list from the parse server and displaying it in the filter list



Child Management System >> Add functionality of children via api call to the parse server Done
Child Management System >> Edit functionality of children via api call to the parse server Done
Child Management System >> Child listing Done
Child Management System >> Child detail Done
Staff Management System >> Deletion of staffs (functionality) TBD

MDS:
Class Management System >> Add Students to classes  functionality 2
Staff Management System >> Filter By Branch functionality DONE 1
Child Management System >> Multiple parent entry functionality 








Ashish:

Child Management System >> Add functionality of children via api call to the parse server - Done
Child Management System >> Listing of children via api call to the parse server - Done
Child Management System >> Child details page functionality via api call to the parse server - Done
Child Management System >> Edit functionality of children via api call to the parse server  - Done
Delete User functionality - WIP
Child Management System >> Fetching branch list from the parse server and displaying it in the filter list - TBD

Madhusmita

Staff Management System >> Filter By Branch functionality - DONE
Class Management System >> Add Students to classes  functionality - WIP
Delete User functionality




Daily Update - Preschool - April 18, 2016

Sir,

Please find updates as follows:

Child Management System >> Add functionality of children via api call to the parse server  Done
Child Management System >> Listing of children via api call to the parse server Done
Child Management System >> Child details page functionality via api call to the parse server Done
Child Management System >> Edit functionality of children via api call to the parse server  Done
Staff Management System >> Filter By Branch functionality - DONE
Child Management System >> Filter by branch DONE
UI bug fixes of milestone1(code merging) DONE
Add attendance page design DONE
Attendance listing page design DONE


Challenges faced today:
In Staff listing page, unable to remove user data using parse destroy function.
Rnd on removing an user using parse cloud. 
In "Assign child to class" page, find query inside loop couldn't fetch corresponding record.
Gone through promises of parse to handle query inside loop.


Next plan of action:

Class Management System >> Class detail page
Child Management System >> Fetching branch list from the parse server and displaying it in the filter list
Staff Management System >> Deletion of staffs (functionality)
Child Management System >> Multiple parent entry functionality
UI clean of Branch/Class/Child/Staff management system


Best,
Amit









>> Report management System >> Need more clarification regarding the reporting stuffs  html to pdf
>> how the staff will get notified about the login creds and also how they do login, as we didnot find the password field in add staff page
>> User profile page >> how the user input the profile pic image




Branch Management System
Boundary value of “Branch name” textbox
Special character entry in "Branch name" textbox, if allowed then what are those special characters 


Staff Management System
How the staff will get notified about the login credentials after staff creation and also how they do login, as we did not find the password field in add staff page
How the user input the profile pic image
Do you have any limit in size for pic image and what are the mime types(png, jpeg, jpg...etc) allowed 
Boundary value of "NRIC Number" text field
Special character entry in "NRIC Number" text field, if allowed then what are those special characters(or, it should be alphanumeric only)

Report Management System
Need more clarification regarding the reporting stuffs








Ashish:
Delete User functionality
Child Management System >> Fetching branch list from the parse server and displaying it in the filter list.
Multiple parent entry functionality
Pankaj:

1.UI bug fixing for below modules
Branch
Class
Child
Staff
2.Add more parent form design in child module
3.Code optimization with uniform layout standard.


Madhusmita:
Add child to classes(rnd for only 30 mins)
Bug fixing in Staff edit section  and validation.
All the Bug fixing from the excel sheet shared by satyajeet for both branch and class module.
























Part - 1: (24 hours) 10hours

UI for Diagnostic panel. 2
Query for now and then calculation and coloring fonts by comparing now and then. 16 - 6
Unit testing & issue fixing. 2

Part - 2: (12 hours) - 6

Scheduled Surgeries & Consultations.
Phone calls, emails and No Show.
Appointments, Completed and Cancelled.
Inquiry to Appointment.
Email and Phone on right side of window.
Closing Rate including Colleen, Marisol, Vivian and Camille.
Cancel Rate, Earned Revenue and Lost Revenue.



Ashish:
Delete User functionality - WIP
Child Management System >> Fetching branch list from the parse server and displaying it in the filter list. - Done
Multiple parent entry functionality - WIP

Pankaj:
1.UI bug fixing for below modules WIP
Branch
Class
Child
Staff
2.Add more parent form design in child module - Done
3.Code optimization with uniform layout standard. WIP


Madhusmita:
Add child to classes(rnd for only 30 mins) WIP
Bug fixing in Staff edit section  and validation.  WIP
All the Bug fixing from the excel sheet shared by satyajeet for both branch and class module. WIP




http://screencast.com/t/hvt3uGjR
http://screencast.com/t/dvemxa5x3nfS
http://screencast.com/t/qdHYY9M0GyXl



Daily Update - Preschool - April 19, 2016

Sir,

Please find updates as follows:

Preschool

Child Management System >> Fetching branch list from the parse server and displaying it in the filter list Done
Child Management System >> Filter students by branch Done 
Multiple parent entry >> add functionality Done 
Multiple parent entry >> parent name listing in child details page functionality Done 
Multiple parent entry >> parent details page functionality Done 
Delete User functionality WIP

Challenges faced in development:

Stuck while implementing the Staff delete functionality
In delete staff section while researching, I found parse does not support deleting the users from client end without loging in with the same credential

I find it can be possible via parse cloud code through api call.For that we need to install cloud section in the parse dashboard
But it requires more RND.

Functionality of multiple parent entry dynamically with lungo js
Rnd on getting the input values dynamically and saving it to the database along with indivisual profile pictures

Next plan of action:

Multiple parent entry >> Edit functionality
Child Management Student assignment functionality


Best,
Amit



uri => "ws://192.168.2.150:3001/channel"


JAN
 >> 6
 >> 2
 >> 

SKL
 >> 
 >> 
 >> 
 
 meera
  3
 Sailendra
  2
 JAN
  3
 
 
 
Child Management Student assignment delete functionality
Refreshing pages with data in the listing section
Child Management Student assignment functionality
Fixing bugs, and push the latest changes to remote repository
 



ASH
Child Management >> Student assignment delete functionality
Refreshing pages with data in the listing section
Child Management >> Student assignment functionality
Fixing bugs, and push the latest changes to remote repository

MDS
Edit and listing parent section
Validation of add edit parent
Student search functionality
Display ajax loader wherever required
Bug fixing

PNP
Merge code of fixes and design changes.
Fix design issues regarding redundant spot on left menu bar
Do overall test of layout and fix bugs






 
1. DONE
 A NoMethodError occurred in games#playgrounds:
  undefined method `name' for nil:NilClass
  
2. DONE
 undefined method `name' for nil:NilClass
 app/controllers/api/v1/games_controller.rb:103:in `create' 
 
3. DONE
 It should say "iamakiri wants to be teammates!"
 
 
 Staging
 ["All", "Baseball", "Basketball", "Cricket", "Football", "Soccer", "Tennis", "Volleyball", "Custom", "None", "Golf", "Running", "Biking"]
 
 ["54180d2c6d05a668a4000001", "54180d2c6d05a668a4000002", "54180d2c6d05a668a4000003", "54180d2c6d05a668a4000004", "54180d2c6d05a668a4000005", "54180d2c6d05a668a4000006", "54180d2c6d05a668a4000007", "54180d2c6d05a668a4000008", "54180d2c6d05a668a4000009", "54180d2c6d05a668a400000a", "548edc126d05a61d9b000001", "548edc126d05a61d9b000002", "548edc126d05a61d9b000003"]
 
 Production
 ["All", "Baseball", "Basketball", "Cricket", "Football", "Soccer", "Tennis", "Volleyball", "Custom", "None", "Golf", "Running", "Biking"]
 ["5649a0c99270c08728000001", "5649a0c99270c08728000002", "5649a0c99270c08728000003", "5649a0c99270c08728000004", "5649a0c99270c08728000005", "5649a0c99270c08728000006", "5649a0c99270c08728000007", "5649a0c99270c08728000008", "5649a0c99270c08728000009", "5649a0c99270c0872800000a", "5649a0c99270c0872800000b", "5649a0c99270c0872800000c", "5649a0c99270c0872800000d"]
 
 
 
 
 
 
 #<Game _id: 5717fb0e9270c00cec00068b, created_at: 2016-04-20 21:56:30 UTC, updated_at: 2016-04-20 21:57:16 UTC, title: "A", created_by: "56bf9fed9270c08da0001c66", sport_id: "54180d2c6d05a668a4000009", custom_sport_name: "", visibility: "public", address: "Homewood Field\n111 West University Parkway, Baltimore", location: [39.333436, -76.620873], game_type: "indoor", play_date: 2016-04-20 00:00:00 UTC, start_time: "18:11", end_time: "20:11", skill_level: "studs", initial_note: nil, status: false, max_player: nil, place_id: "565df5316d05a6cc99000751", geo_place_id: "ChIJ96D2niEFyIkRP43ln4GhIHk", time_zone: "America/New_York", play_utc_date: 2016-04-20 22:11:00 UTC, play_end_utc_date: 2016-04-21 00:11:00 UTC, game_category: nil, geo_reference: "CnRhAAAAPtx-eCJSzcXUhoUEZUxcSaAJLzl2XwFlTnESLOgR1drYBrHoRL8U0wbJoe0XgfIPXAVaeKmcqzASupWZh7TZITUymVWNsdBMZCls1wDKslzah6R-aLlAwd8Xf2ISNgVXV4x5P59cCVJr3wSVoMcntBIQGPpXOf3axmHGltD-6ItLgRoUQ-ZraLe3Q2-B9ahpLmmfd-0vXQ0", geo_photo_reference: "CoQBcwAAAEwyTpk66--NZpOjyEJtJJxLFj8iKeJOT7AD4Dw820n3vQEBG4CZlMnE6w4kc4BVKQcoKRjwyNEkijDrSN6yzyF8QQbnv0C7CMaM5lvNlGIlatU_8o5j24IIhtrCmjG5feQJplQNns94eARJV7uwi7QFIEvpQpbpEdV5v9RucmnMEhAid9OycEIseuM3bDAw6B42GhTB_Z5zq5eq8i2cHxLTpbwhi9OFLw", original_owner: nil, is_recurring: nil, recurring_type: nil, recurring_game_id: nil, court_id: nil>

  
  
  
>> CDN end to end testing
>> Error Handling
>> Foundation framework
	>> pending_branches - foundation
	
	
	
	
1. Figure out why I am not receiving any nearby game notifications (iOS). - API

2. Search by username or part of full name when looking to add players.  - Mobile

3. When I receive a friend request, I should be able to click that person's name to view their profile if their profile is public so that I can see who it is.  - Mobile/Api

	>> Just to add user_id in push notification

4. When I try to create a Custom game and I go to pick venue, there are a lot of blank options that are clickable...but the app closes when I try to select them.  One, what are those blank options and why are they displaying like that?  Two, there shouldn't be any blank options.   (REFER TO SCREENSHOT I WILL SEND AFTER THIS EMAIL). -  API/Mobile

5 Make sure I can create a team in My Squadz and save it.  Whenever I click "edit teammates" I should still see everybody on the team on the right side so that I can add or remove players from an existing team in My Squadz.  This has been an issue for a while.  I should also be able to invite an entire team with one swipe in invite teammates.  That is the whole point of their existence.  - Mobile

6. One to one messaging (this includes any notes I have already sent you regarding this or that I am about to send you).  - API/Mobile
 >> I have to tap the screen and scroll up in order to see the messages I've sent.  
 >> When I am in Teammates and click a user and hit chat, it doesn't redirect me to the new message page.  
 >> In group chats, it should display the group name instead of null and it is not showing any of my messages.  When it does, it needs to say each persons username with the message like it does for iMessages group chats:
 >> The username should be above each message like it says "Austin Vasiliadis". `
 >> Why isn't it showing me my current conversations?
 >> I get chat notifications but I cannot see what they write!
	

	
Messaging:

API
Internal storage database design
Websocket server installation
Save chat history
API to get the chat history
Sending push notification to user in different scenarios

Mobile
Internal storage database design
Message - Listing page
listing with conversations only
search
Edit - Mark All as read/Delete
Contacts page
Teams
All Contacts
Search
Message Window
Group message
Team message
Individual message
location sharing





Scheduler:

Initial setup
	Model Architecture Design
	Zurb foundation installation
	Session sharing while coming from main site
	UI page design

Activities, Divisions/Pools and Teams
	Current Activities listing only with division and teams as accordion
	Lighting bolt actions for adding division and teams to activity(including reordering)
	Lighting bolt actions for adding teams to division(including reordering)
	Delete newly created team from lighting bolt action
	Game settings and blackout date for divisions
	Availability  and blackout dates for teams
	Reordering(Drag and Drop) of teams under division
	Filters by name, season, sport and type
	
Locations
	Location and venues as accordion
	Availability  and blackout dates for locations
	Availability  and blackout dates for venues
	Lighting bolt actions for creating location
	Lighting bolt actions for creating venues under location
	Filters by name

Game Settings
	save settings for game 
	Logic to create games according to game settings

Game Days and Times(M-W,Sat)
	Functionality to save game times
	Add more set of days and time
	Preview windows for confgured days and time
	Edit and delete from Preview configured days and time

Schedule
	Preview of all the given data
	Displaying of flat schedule according to selected data in preview,with logic to avoid schedule conflicts 
	Swap teams, locations in preview window 
	Schedule matrix implementation with Team listing
	Team listing with total number of home and away games info
	Game distribution with time
	Team home/away distribution
	Location distribution
	Opponent matrix
	Display certain matrix after selecting toggle buttons

	
	
Note:
Above task break down of scheduler do not include 'Create Activity' and 'Playoff/tournament settings', as Carmen do not have screen for these two modules




#<VirtualHost 209.20.68.40:80>
#        ServerName  tickets.bellaviacorp.com
#        DocumentRoot /var/www/vhosts/redmine-1.2.2/public

#        RewriteEngine On
#        RewriteCond %{HTTPS} off
#        RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}
#</VirtualHost>

#<VirtualHost 209.20.68.40:443>
#        ServerName  tickets.bellaviacorp.com
#        DocumentRoot /var/www/vhosts/redmine-1.2.2/public
#        RailsEnv production

#        # Explicitly keep at least 1 redmine instance running
#        PassengerMinInstances 1

#       <Directory "/var/www/vhosts/sor/current/public">
#                Options FollowSymlinks
#                AllowOverride None
#                Order allow,deny
#                Allow from all
#        </Directory>

#        # Deflate
#        AddOutputFilterByType DEFLATE text/html text/plain text/xml
#        BrowserMatch ^Mozilla/4 gzip-only-text/html
#        BrowserMatch ^Mozilla/4\.0[678] no-gzip
#        BrowserMatch \bMSIE !no-gzip !gzip-only-text/html


#        SSLEngine On

#        # SSL Cipher Suite:
#        SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
#        RequestHeader set X-Forwarded-Proto "https"
#        SSLCertificateFile /etc/apache2/ssl/sordemo/sordemo.pem

#        BrowserMatch ".*MSIE.*" \
#                nokeepalive ssl-unclean-shutdown \
#                downgrade-1.0 force-response-1.0
#</VirtualHost>



















In place of this dynamically changing text to branch name. - (done)
Branch listing should be alphabetical in child filter. - Done
Branch listing should be alphabetical in staff filter. - Done
Navigation change blinking text removal. - Done
Remove select all with functionality if no students are there in the  list. - Done
Phone number Limit in all the forms (only take 10 numbers) - DONE
After two clicking add child and remove, validation not working. - DONE
Branch drop-down alphabetically sorting.  - DONE
Add a clear filter functionality. DONE
Reset filter in staff.	DONE
Reset filter option in filter.DONE
Child clear filter option.	DONE
Filter reset when redirected from next page. DONE
Jpeg,Png file validation error message change. DONE
Space in parent 1 text. (DONE)
Image should be rounded in the left panel. (DONE)
Change(increase) font size in no results found. (DONE)
Add logo in branch Add section. (DONE)
Child text change to children in all sections.(DONE) 
Filter by birth year text change. (DONE)
Filter section class title update with branch name. Done

Filter should not jump - WIP
Site Navigation issue fixing. WIP
Add parent validation - WIP


http://107.170.30.100/preschool/




>> delete student from class
>> after adding 2nd parent..not displayed
>> change to parent profile pic --> add parent
>> address of student is missing in edit child
>> Profile image is not displayed correctly....I have added parent and visited detail page >> it changed the profile image






 Capfile                                            |   41 +-
 Gemfile                                            |   14 +-
 Gemfile.lock                                       |  494 ++++++++++++++++++++
 README.rdoc                                        |    2 +-
 app/assets/javascripts/custom_js.js                |    5 +
 .../tinymce/plugins/sorlink/editor_plugin.js       |  132 +++++-
 app/assets/stylesheets/compiled.css                |    1 -
 app/controllers/account_controller.rb              |    5 +-
 app/controllers/application_controller.rb          |    4 +
 app/models/assets/asset.rb                         |   51 +-
 app/models/assets/photo.rb                         |   21 +-
 app/models/organization.rb                         |   32 +-
 .../adapter/photo/leaguer_asset_adapter.rb         |    2 +-
 app/views/account/_login.html.erb                  |    2 +-
 .../administration/assets/_asset_row_item.html.erb |    4 +-
 app/views/shared/_logo.html.erb                    |    8 +-
 .../utilities/_live_field_link_dialog.html.erb     |    5 +-
 config/deploy.rb                                   |  127 ++---
 config/deploy/production.rb                        |   68 ++-
 config/deploy/staging.rb                           |  121 ++---
 config/deploy/stagingb.rb                          |   93 ++++
 config/initializers/redis.rb                       |    3 +-
 config/initializers/s3.rb                          |    2 +
 config/s3.yml                                      |   14 +
 db/migrate/20151202054947_add_s3_url_to_asset.rb   |    5 +
 lib/tasks/deploy_public_assets_to_S3.rake          |   47 ++
 lib/tasks/updating_s3_url_in_db.rake               |  134 ++++++
 27 files changed, 1229 insertions(+), 208 deletions(-)
 create mode 100644 Gemfile.lock
 create mode 100644 config/deploy/stagingb.rb
 create mode 100644 config/initializers/s3.rb
 create mode 100644 config/s3.yml
 create mode 100644 db/migrate/20151202054947_add_s3_url_to_asset.rb
 create mode 100644 lib/tasks/deploy_public_assets_to_S3.rake
 create mode 100644 lib/tasks/updating_s3_url_in_db.rake

 
 
 
 
 
 
 
Hi Amit,

I received an email from a customer that said none of his game reminder emails have been sent out this season.  Can you please check to make sure that game reminders and all scheduled jobs are running on the background server and that there aren’t any errors when the jobs are trying to run.

Also, can you please deploy the CDN code to production and do some testing to make sure it looks ok on the live sites.  If you look at bigcityvolleyball.com, skyhighvolleyball.com, prjrhawks.com, please make sure that all the images are present on those sites.

Thanks,
Carmen





Run the following command to add s3_url column to assets table
>> RAILS_ENV=production rake db:migrate

Run the following command to upload "public/assets" and "public/images" into S3 bucket
>> RAILS_ENV=production rake leaguer:deploy_public_assets_to_S3

Run the following command to upload s3 url to database
For assets table >> RAILS_ENV=production rake leaguer:updating_s3_url_in_db
For media assets table >> RAILS_ENV=production rake leaguer:updating_existing_media_assets_url
For slide show images >> RAILS_ENV=production rake leaguer:updating_existing_slide_show_images_url



63478

-------| assets type: "Photo" with sl no 31811 |-------


er.prod-assets/62/pho...", thumbnail_url: "https://s3.amazonaws.com/leaguer.prod-assets/62/pho...", title: "youtubeicon.jpg", description: "", height: nil, width: nil, widget_item_id: 1958, count: nil>
----- end update assets ---------
--------------- Coming for updating existing assets url in database -----------
---------- media_asset: 1078 with sl no 165-----------
{"id"=>1078, "service_account_id"=>532, "resource_id"=>"497", "resource_type"=>"photo", "album_id"=>"45", "resource_key"=>"", "url"=>"/assets/62/photos/497/standard.jpg?1310857180", "thumbnail_url"=>"/assets/62/photos/497/thumb.jpg?1310857180", "title"=>"club-getaway.jpg", "description"=>"", "height"=>nil, "width"=>nil, "widget_item_id"=>1991, "count"=>nil}
---------- start asset ------------
{"id"=>497, "type"=>"Photo", "target_file_name"=>"club-getaway.jpg", "description"=>"", "target_content_type"=>"image/jpeg", "target_file_size"=>66254, "uploader_id"=>1, "organization_id"=>62, "created_at"=>2011-07-16 22:59:41 UTC, "updated_at"=>2011-07-16 22:59:41 UTC, "target_updated_at"=>2011-07-16 22:59:40 UTC, "title"=>nil, "position"=>nil, "asset_group_id"=>45, "deleted_at"=>nil, "user_id"=>nil, "s3_url"=>"https://s3.amazonaws.com/leaguer.prod-assets/62/photos/497/standard.jpg"}
62
--------------- target -----------
"photos/497/standard.jpg"
----------- obj exists? - true


RAILS_ENV=production rake leaguer:updating_existing_slide_show_images_url








Hi Amit,

I Skyped you the below message.  I wanted to make sure you looked at it
[4/25/16, 6:47:49 AM] Carmen Bellavia: If you look at cyclones.leaguer.org on the home page there is a slide show with 17 images.  All 17 are the same image, which makes me think something got messed up with the CDN migration.
[4/25/16, 6:48:17 AM] Carmen Bellavia: Similar issue on dynamicssc.com at the bottom of the home page
[4/25/16, 6:48:56 AM] Carmen Bellavia: I fixed dynamicssc.com
[4/25/16, 6:49:15 AM] Carmen Bellavia: but didn’t change the cyclones home page yet.

http://screencast.com/t/Vt3WU6uysgG

Also.  How is the Foundation branch coming along?  I’m very interested to get the UI refactoring done quickly.

Thanks,
Carmen





2) Help with submission of form_tags from modals. There is some javascript errors that require a page reload for the submission to work. It could be related to turbolinks.

leads index, task index, and the lead show


Will the Organization registration include subscription plan in signup form?

I rememeber for the time being you only have one subscription plan...right?









[6:53:21 PM] Amit Mohanty: Hi Max...good morning
[6:58:15 PM] Max Rockwell: good morning
[6:58:46 PM] Amit Mohanty: I saw your email and couple of questions....can we chat for 2mins
[6:59:17 PM] Max Rockwell: yes sir
[6:59:55 PM] Amit Mohanty: 2) Help with submission of form_tags from modals. There is some javascript errors that require a page reload for the submission to work. It could be related to turbolinks.



Can you tell me the exact page where it is malfunctioning
[7:00:23 PM] Amit Mohanty: I just need a hint?
[7:00:59 PM] Max Rockwell: leads index, task index, and the lead show
[7:01:08 PM] Amit Mohanty: Okay
[7:01:20 PM] Max Rockwell: the modal are being generated on the listing partials
[7:02:01 PM] Amit Mohanty: Got it
[7:02:59 PM] Max Rockwell: whats next
[7:03:04 PM] Amit Mohanty: comming
[7:03:37 PM] Amit Mohanty: Will the Organization registration include subscription plan in signup form?
[7:03:49 PM] Max Rockwell: yes
[7:04:14 PM] Amit Mohanty: I rememeber for the time being you only have one subscription plan...right?
[7:04:21 PM] Max Rockwell: correct
[7:04:24 PM] Amit Mohanty: Okay
[7:05:16 PM] Amit Mohanty: Do you have subscription paln details with you?
[7:06:07 PM] Max Rockwell: yes, i can send those to you
[7:06:14 PM] Amit Mohanty: Okay...great
[7:06:49 PM] Amit Mohanty: then...organization signup will be from https://crm.4beauty.net/
[7:06:52 PM] Amit Mohanty: right?
[7:07:06 PM] Amit Mohanty: that signup link we have?
[7:07:06 PM] Max Rockwell: no
[7:07:19 PM] Max Rockwell: we are moving to a new domain exclusively for the app
[7:07:26 PM] Max Rockwell: theconversiondoctor.com
[7:08:14 PM] Max Rockwell: we will need to set up a new database and a heroku account. it is listed in the email
[7:08:26 PM] Amit Mohanty: Create new Heroku App for multiple practice code....right?
[7:08:33 PM] Max Rockwell: yes sir
[7:08:39 PM] Amit Mohanty: where the organizations will signup
[7:08:43 PM] Amit Mohanty: okay..fine
[7:09:07 PM] Max Rockwell: make sense?
[7:09:12 PM] Amit Mohanty: hmmm
[7:09:50 PM] Max Rockwell: what is confusing -
[7:10:41 PM] Amit Mohanty: no confuse..just confirming the stuffss...so that we are on the same page BOSS
[7:11:36 PM] Max Rockwell: sounds great.
[7:11:52 PM] Max Rockwell: is the rest of the email clear,
[7:12:55 PM] Amit Mohanty: 5) Need to be able to export in 2 different formats for 2 other applications that are going to be used. I will provide you with the formats. Format #1 is called Inform, and that format is attached.


This is for the sample csv export of leads..right?
[7:13:09 PM] Max Rockwell: yes
[7:13:30 PM] Max Rockwell: i attached a CSV for the Inform format
[7:13:36 PM] Amit Mohanty: yes
[7:14:44 PM] Amit Mohanty: Do you want the data migration like leads, tasks, users ....etc from existing application  to new db
[7:15:05 PM] Max Rockwell: we do not want our practice in their
[7:15:23 PM] Max Rockwell: it will be a stand alone - for new practices to sign up and utilize the app’s features
[7:18:02 PM] Amit Mohanty: Okay
[7:18:40 PM] Amit Mohanty: One last questions.....
1) work on the role to user association. ----> you need to fix this in the existing application
[7:19:00 PM] Amit Mohanty: so that user can have multiple roles
[7:19:11 PM] Max Rockwell: in the existing application it requires cleaning up all the existing data
[7:19:24 PM] Max Rockwell: for the ‘new’
[7:19:34 PM] Max Rockwell: app it would be easier to implement
[7:19:43 PM] Max Rockwell: since it is the right way to do it
[7:20:09 PM] Amit Mohanty: Cool
[7:20:28 PM] Amit Mohanty: OKay...thank you so much for your valuable time
[7:20:37 PM] Amit Mohanty: Have a nice day!!!
[7:20:42 PM] Max Rockwell: you also have Part 2
[7:20:53 PM] Amit Mohanty: yes
[7:21:07 PM] Max Rockwell: is everything ok - how are you doing?
[7:21:35 PM] Amit Mohanty: Yes...everything looks good
[7:22:16 PM] Max Rockwell: alright - let me know if we have any updates today. otherwise let’s touch base in the morning and go over what we have so far
[7:22:23 PM] Max Rockwell: Sounds like a plan
[7:22:43 PM] Amit Mohanty: We have not started working on part2...I will talk to Anurag
[7:22:59 PM] Max Rockwell: Anurag said that this week was realistic to complete Part 2 and 3
[7:23:18 PM] Max Rockwell: , Part 2 is to make the tables dynamic
[7:23:20 PM] Amit Mohanty: Anurag will give you tentative estimate of part3...
[7:23:28 PM] Max Rockwell: it was answers to your questions
[7:24:07 PM] Max Rockwell: and you should be able to make significant progress on part 3, some things will take longer than others,
[7:24:22 PM] Max Rockwell: Ok, I i will touch base with Anurag - is he busy today
[7:24:51 PM] Amit Mohanty: Can you ping Anurag
[7:25:13 PM] Max Rockwell: just sent him a Skype message
[7:25:25 PM] Amit Mohanty: Okay....i will let him know
[7:25:27 PM] Amit Mohanty: Bye





[7:31:15 PM] Max Rockwell: 2) Help with submission of form_tags from modals. There is some javascript errors that require a page reload for the submission to work. It could be related to turbolinks.
[7:31:42 PM] Max Rockwell: this part in particular if we could have completed by tomorrow - should be a real quick fix. and i will go over the rest with anurag
[7:31:49 PM] Max Rockwell: do you know if he has time today?




Part 3

2) Help with submission of form_tags from modals. There is some javascript errors that require a page reload for the submission to work. It could be related to turbolinks.










Part 3

1) work on the role to user association.  16hr

	- DB modifications
	- Functionality related changes in affected areas like role assignment, display...etc

2) Help with submission of form_tags from modals. There is some javascript errors that require a page reload for the submission to work. It could be related to turbolinks.

	This will be done simultaneously with part2 work and require 3hrs to fix
	After investigation we found that this is a browser cache issue(but investigation took 1hr)
 
3) For the MVP we still need the ability for Registration, Authentication, as well as accepting payments. 68hr
	Registration - 8hr
		Need to design db architecture keeping in mind subscription plan
	Authentication - 4hr
	Payment - 48hr
		
	Organization specific data in dashboard after authentication - 8hr

4) When new organization signs up, how are we going to store the emails communications the way we do currently with Notify@4beauty email account. We need a multi-tenet option.

5) Need to be able to export in 2 different formats for 2 other applications that are going to be used. I will provide you with the formats. Format #1 is called Inform, and that format is attached. 6hr
 
6) Ability to integrate Gmail/Yahoo or others so that users can email directly from the application - this may be the solution to the notify@4beauty question i had earlier.  56
	Highlighted tasks:
	- Integrate IMAP for email processing
	- Integrate editor for email composition.
	- Add functionality for email attachments.
	- Create UI for inbox
	- Fetch emails from inbox
	- Highlight unread emails
	- Mark read and unread emails
	- Delete inbox messages
	- Create UI for sent messages
	- Fetch emails from sent messages
	- Delete sent messages


7) Create new Heroku App for multiple practice code 1hr

	We will create brand new app as 'theconversiondoctor.herokuapp.com'

8) Create new repo or branch? for this code

	We will create new branch

9) New Database for the new app.

	Yes, We will create new db

10) Ability to integrate mailchimp. using there api so that we can use it through the application and track campaigns. 20hrs







created by CRM mean internal user...right?





http://screencast.com/t/cbvL4xFblA5B
http://screencast.com/t/buyIlOvd


remotes/origin/rails3_foundation_v1



Hi Carmen,

We have integrated basic items like footer, panels in account page(/account). You can have a look on the video below explaining the differences with(out) responsive.
We have already deployed the branch to leaguerdemo. All the foundation stuffs are in 'rails3_foundation_v1' branch only.
https://soccer.leaguerdemo.com/account



Here are the some of the screens,
http://screencast.com/t/cbvL4xFblA5B - ipad(768*1024)
http://screencast.com/t/buyIlOvd - iphone 6s plus(414*736)

Please verify and let us know your feedback.

Best,
Amit






Hi Amit,

I know you guys fixed the notification issue with the game reminders, but I need to understand what caused the problem and how you fixed it.  This kind of thing is not acceptable to our customers and I want to figure out how we can prevent it in the future.

Also.  One of my customer Ramapoasa.org - a girls softball league - called and said there were pictures of people drinking on their website.  When I looked, there were pictures from BigCityVolleyball.com on the ramapo site.  I don’t understand why these pictures appeared on the site today instead of last week.  Did you guys do anything this morning?

Also, I want to QA all the pictures on the site.  Is it possible to create a report that shows the Organization name, the slide show id/name and gives a thumbnail of each image in the slide show.  This way, I could quickly see any pictures that don’t belong on a site.

These are both big deals, because I got calls from angry on these two issues.

Thanks,
Carmen



Hi Carmen, There was an issue with same function name is being used in two different rake task(event_reminders_push_notification.rake, event_reminders.rake). But this is a weird issue because scope of the functions in always within the specific task namespace. This is what we never expected. In future we will take care of this and we apologize for this.

We did not pushed anything today or yesterday regarding the slideshow images. Can you make video for us on this, as we are not able to see the exact issue, to avoid miscommunication.

Best,
Amit



Hi Carmen,

I will be out of the office from April 29 to May 8. During my absence, your point of contact will be Anurag. 

Best,
Amit




positively






Hi Max, please find the tentative timelines for the development work of Part#3 development inline to yours on maroon color. As discussed, we have completed the Part#2 development and pushed it to the staging server. We will send you the invoice for part#2 development ($300) today.
 
We will start working on the Part#3 work and finish as much we can on this week.
 
The total tentative hours we have estimated is around 235 hours. We send you invoice as hourly basis as $30/hour once we complete the items. Please go through the our comments and let me know if you have any questions.



Hi Max,

Please find the status of completed tasks on GREEN color in part#3

Part 3

1) work on the role to user association. 20 hours DONE

2) Help with submission of form_tags from modals. There is some javascript errors that require a page reload for the submission to work. It could be related to turbolinks. Completed on Part#2

3) For the MVP we still need the ability for Registration, Authentication, as well as accepting payments. 100 Hours
Registration - 8hrs (Need to design the layout elements, db architecture keeping in mind subscription plan with unit testing)
		Authentication - 4hrs DONE
		Payment - 80hrs (Integration and unit testing)
        Organization specific data in dashboard after authentication - 10hrs DONE

4) When  new organization signs up, how are we going to store the emails communications the way we do currently with Notify@4beauty email account. We need a multi-tenet option.


5) Need to be able to export in 2 different formats for 2 other applications that are going to be used. I will provide you with the formats. Format #1 is called Inform, and that format is attached. 6 Hours (Need another format of export) COMPLETED 4hrs

Completed export of 1st format, and currently waiting for the 2nd format from you(We will start working as soon as we have the format)

6) Ability to integrate Gmail/Yahoo or others so that users can email directly from the application - this may be the solution to the notify@4beauty question i had earlier. 84 Hours

7) Create new Heroku App for multiple practice code 1 Hours DONE

8) Create new repo or branch? for this code DONE
 
9) New Database for the new app. DONE


The heroku app URL for the new app is - https://theconversiondoctor.herokuapp.com


Can you please verify the completed stuffs and let us know your feedback.
We will send you the invoice for part#3 completed tasks after your verification.


Best,
Amit










Ruby basic
OOPS concept usages
Conditional
Iteration

Development environment setup
Vagrant
GIT

Application server

Deployment

Test suit






Introduction to Ruby Programming
Getting Started with Ruby
Ruby Fundamentals – Datatypes
Classes, Modules & Objects
Flow Control & Statements
Classes, Modules & Objects
Methods, Attributes & Variables
Metaprogramming & Reflection
Reading and Writing Data / Files in Ruby


Ruby Basics
	Syntax
	Classes and Objects
	Variables, Constants and Literals
	Operators
	Comments
	Conditional statements and modifiers 
	Methods
	Blocks
	Modules and Mixins
	Strings
	Arrays
	Hashes
	Date & Time
	Ranges
	Iterators - each and collect
	Ruby File I/O, Directories
	Exceptions
Ruby Advanced
	Object Oriented Ruby
	Regular Expressions
	
	
	
>> Rake task to create default album "Mobile uploads" in organization

	album_id ="Mobile Uploads" => album bucket to be created in s3
		

>> Signup organization >> logic to auto create "Mobile uploads" album
>> save multiple image urls as per the album selected


>> Team page news post photo api >> normal user/admin user

	normal user >> only created by the user 
	Admin >> return all the album
 
Note: If the person is posting news to a team page AND the person is NOT an admin, then they should only be able to upload from their device to their own albums.  There is a user_id column on the asset_groups table, so if the user is not an admin, we can show only albums that have the user's user_id associated with it
	
	
	
12    Kimball Studio Demo	                       http://kimball.leaguer.org/
13    Mustangs Youth Football                   http://mustangs.leaguer.org/
14    Burlington Mudd Dawgs                     http://mudddawgs.leaguer.org/
32
37
42
47
70
105




https://www.wrhambrecht.com/

https://www.startupgrind.com/

	





Company create with profile
 save the data while investing

User >> sign on using gmail.com, yahoo.com, LinkedIn profile, angellist profile


After initial investigation we have found that response parameters from paypal IPN notification contatins invalid byte sequence which throwing error in application is such scenarios. 
Ex: last name of user "JOSE MANUEL" returns as "ACU\xD1A RODRIGUEZ" in paypal response parameters.


However, We found solution that needs change in paypal setting as mentioned in following link. We will look into more solutions to fix this issue.

http://stackoverflow.com/questions/13488227/rails-paypal-notify-validate-japanese/13504253#13504253





Features

 Adding Tiles for Deals on the homepage
 Details for Each deal offering
 Invest now / broker or Fund America backend
 User registration – sign on using gmail.com, yahoo.com, LinkedIn profile, angelist profile
 Design changes - favicon, logo, header, news section layout

Restructure News section

Pain Points/ Concerns
  Website doesn't render well on Mobile 
  Poor SEO experience design
  

  

  
  
  
  
  
  
Features

 Adding Tiles for Deals on the homepage - 10 hrs 16
 Details for Each deal offering - 8 hrs 12
 Invest now / broker or Fund America backend - 8 hrs 10
 User registration – sign on using gmail.com, yahoo.com, LinkedIn profile, angelist profile - 20 hrs  40
 Design changes - favicon, logo, header, news section layout - 12 hrs 16

 
 
 58
 
 94
 
 
 
 
 16
 
Restructure News section

Pain Points/ Concerns
  Website doesn't render well on Mobile - 8 hrs
  Poor SEO experience design - 8 hrs
  
  
  
  
Facebook sync
Messages friends list - WIP
Messages out of order - WIP
My Squadz Gone  
  
Q:
The admin dashboard has not been updated with all the data, as well. That information is in the Google sheet i shared - it has the numbers of leads per source data. 

Ans:
The data count are in lead source section in admin dashboard are same as per data in given excel sheet.



Admin vs super_admin bugs

Admin Page
 Should only be able to see the current organization's staff members.
 In previous version of application, there was a link to see all the staffs, but that link is hidden in current version of application.        However that page is accessible by the following link https://theconversiondoctor.herokuapp.com/staff . Currently the users page ( https://theconversiondoctor.herokuapp.com/admin/users ) is displaying all staffs for current organization.

Super Admin page
  Should see all organizations in the database
  This functionality has been implanted in site admin page.
  
  
Analytic Dashboard

Q.
We noticed that there are some inaccuracies in the data. 
for example
the scheduled surgeries should represent all surgeries scheduled within the given date range
currently it is returning the leads that were created in that date range that have booked surgeries.

Ans:


We have verified the functionality and all scheduled surgeries for the given time are being displayed. However we have modified the query to get lead stage count. As per commit code 3b437329bea5f7dbc6f6f085368b500616dc069e the lead stage is not being inserted in stage_lifecycle, so we matched with current lead stage at a given time to get the count.



https://theconversiondoctor.herokuapp.com/

Email: superadmin@theconversiondoctor.com
Password: SuperAdmin@12345$


Ashish:
#9: Profile Image links to blank page

Madhusmita:
#8:Deletion of a scheduled Medication
#7: Reset Temperature and Attendance on a daily basis
#6: Staff details showing wrong details
#5: Archive for Staff

Clear DB and verify all modules
#10:Clear database records



Hi Carmen, 

Hope everything is going well.

We are sure you're quite busy and reviewing the mobile app code, but that should not stop you making payment. Each payment is necessary to fuel our operations.
We would appreciate if you could take a moment and look at the invoices when you get a chance. 

If you have any questions, please let us know and we'd be happy to respond, else let's schedule a quick call to discuss.

Best,
Amit

eliminates the unnecessary merge commits required by git merge
perfectly linear project history

https://www.atlassian.com/git/tutorials/merging-vs-rebasing/the-golden-rule-of-rebasing


38435
1565


39944
1723





Hi Max,

here are the updates so far,

Admin dashboard has not been updated with all the data, as well. That information is in the Google sheet i shared - it has the numbers of leads per source data.

We found that the count is working is fine for historical data as per the excelsheet.We will discuss on this in our meeting


The Source Tracking feature DONE

:source_type
:start_date
:end_date
:cost
:name


This feature should allow us to track which sources are the most productive. 


Also, when a new users adds a Website source, the CRM must generate the snippet of code so that they can paste it on their webforms to access the Beauty Profile and CRM integration. 

We will discuss on this in our meeting

Admin vs super_admin bugs

Admin Page DONE

Should only be able to see the current organization's staff members.

Super Admin page DONE

Should see all organizations in the database 

Super Admin credentials: superadmin@theconversiondoctor.com/SuperAdmin@12345$

We have integrated admin panel for super admin which displays list of Organizations with block/unblock functionaity


New user invites DONE

All new user invites should include the new domain name in the link



Analytics Dashboard

We noticed that there are some inaccuracies in the data. 

for example

the scheduled surgeries should represent all surgeries scheduled within the given date range
currently it is returning the leads that were created in that date range that have booked surgeries.



We have verified the functionality and all scheduled surgeries for the given time are being displayed. We will discuss on this in our meeting


Part#3 Format 2 Lead export

We are still waiting for this.


Best,
Amit



Id: it@4beauty.net
Pass: !4beauty!-CRM



development 
test - mobile endpoint url change
	>> backup of current dev db 1
	>> restore dev db to test db 1
	>> s3 bucket config change 1
	>> Application specific config changes 2
	>> overall testing 3

production



6








Hi Max,

Based on our yesterday discussion, please find meeting summary as follows:

The admin dashboard has not been updated with all the data, as well. That information is in the Google sheet i shared - it has the numbers of leads per source data. 

Dashboard data for lead source is accurate up to April 2016 as per the shared historical data. This will be dynamic as per available source type after adding the source tracking functionaity

The scheduled surgeries should represent all surgeries scheduled within the given date range. Currently it is returning the leads that were created in that date range that have booked surgeries.

We will only consider the procedure date for calculation in the date range

Lead export in format #2
Max will send us the format #2

List of source types
Max will send us all the predefined source types

When a new users adds a Website source, the CRM must generate the snippet of code so that they can paste it on their web forms to access the Beauty Profile and CRM integration.

Here are the highlevel tasks as follows,
Generating html form(as in crm's beauty profile form) when organization signup
Html beauty profile form url will include a unique token that will identify the organization
Modifying the exisitng logic for sales coordinator rotation for the sales coordinators according to organizations

We realize this is a bit of extra work and will be chargeable on hourly basis. Tentative hours: 6-8hrs
After your approval we will start our work.

Note:
We also found that in crm4beauty, site token is maintained for 3rd party sites like 'buttsbymendieta.com' which is in 'sites' table. Do you want us to add this token in beautyprofile form too, so that we can keep track of leads coming from external site and organization.



Best,
Amit




https://doctor.zwivel.com/?__hstc=220458631.a55ea461cc3347bc0d8db9200d8c6ab7.1464095661540.1464095661540.1464095661540.1&__hssc=220458631.1.1464095661541&__hsfp=2848072611&_ga=1.127495246.2143606813.1464095660




CRM: Task Brakdown
-------------------
Admin Side:
>> Integrate paperclip and upload two images for male and female. 2 hr
>> Display seperate preview for two images based on gender and dropdown selected. 2 hrs
>> Tag(Face, Breast...etc) photo according to procedures. 16 hrs

Beauty Profile:
>> In beauty profile, display the image based on gender of lead where the lead can click on the body part to get available procedures. 1 hr
>> Fetch all available procedures based on lead's gender and map those procedures with the displayed image. 4 hr
>> Create popup containing available procedures for selected body part. 3 hrs
>> Add image upload functionality in beauty profile. 2 hrs


Tentative Timeline => 30-35hrs

Highlevel task breakdown are as follows:
Admin Side:
>> Integrate paperclip gem and upload two images for male and female
>> Display seperate preview for two images based on gender and dropdown selected
>> Tag(Face, Breast...etc) photo according to procedures 

Beauty Profile:
>> In beauty profile, display the image based on gender of lead where the lead can click on the body part to get available procedures
>> Fetch all available procedures based on lead's gender and map those procedures with the displayed image
>> Create popup containing available procedures for selected body part
>> Add image upload functionality in beauty profile







motivate him further to perform even better

Read more: How to write a unhappy salary increment letter to manager? - I have recently salary increment which is not up to the market level and i am totally unhappy so already i spoke to my manager regarding this, he advised me to send a mail :: Ask Me Fast at http://www.askmefast.com/How_to_write_a_unhappy_salary_increment_letter_to_manager-qna7851529.html#q5202377




http://blog.andolasoft.com/2013/04/4-simple-steps-to-implement-delayed-job-in-rails.html 

Findings:

1. Blog is written specifix to Rails 3.X Need to change the title

	4 Simple Steps to Implement “Delayed Job” in Rails	(TO)	4 Simple Steps to Implement “Delayed Job” in Rails 3.X

2. gem 'delayed_job_active_record', '0.4.3'	
	This gem is too old now and specific to Rails3. We need to write a new blog with version '4.1.0'
	
3. Case study example is wrong and broken url of Kurrentjobs
Here is what we have benefited by using “delayed_job”. – A case study:



http://blog.andolasoft.com/2013/07/how-to-install-and-configure-redis-server-on-centosfedora-server.html

Findings:
Need to add redis version and OS version in title
And also we need to update blog, as redis version mentioned is too old




["57443d7714c1810003000002", "574d56a58b9f030003000002", "574d56fd8b9f030003000005"]

CRM:

Discussion on sales coordinator rotation

>> Adding id into array become string when we update, which cause page break in beauty profile creation
Suggestion: http://bootsnipp.com/snippets/featured/bootstrap-dual-list

>> Source to be added in beautyprofile and lead creation form

>> source_type, waiting from Max
>> 



User.find(1)

User.where("id = #{id}")

User.where("id = ?", id)









the scheduled surgeries should represent all surgeries scheduled within the given date range
currently it is returning the leads that were created in that date range that have booked surgeries


Did you guys do anything to the background server?  I don’t see an application directory any more.
http://screencast.com/t/dk48YhwTp

I have a customer saying he’s not receiving game reminders, so I wanted to look at the logs and I couldn’t even find where the app is located.


You can tell that we have not done any changes. You can look into the commit history. Yes you can say that we will look into this, but do not write about the payment. After investigation you can tell about the payment.



Hi Carmen,

Recently we have not done any kind of changes in background server. Based on the commit history, I can assure you that this has not been happend by us. However, I will contact to Rackspace support guys. We will look into this issue and keep you posted.


Best,
Amit


happened




cd /var/www/html/Jenkins/workspace/Production_background


Can I use a Content Distribution Network (CDN) to distribute my media files?





Hi Carmen,

Thank you so much we've recieved the payments and would be glad to assist you in your future commitments.
However, we will look into the page break issue in staging server and keep you posted.


Best,
Amit





The single-table inheritance mechanism failed to locate the subclass: 'TransfirstPayment'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite OnlineTransaction.inheritance_column to use another column for that information.



The single-table inheritance mechanism failed to locate the subclass: 'Widgets::PictureTextItem'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite WidgetItem.inheritance_column to use another column for that information.


#<WidgetConfiguration id: 23, name: "Picture & Text", position: 7, slug: "picture_text", class_name: "Widgets::PictureText", item_class_name: "Widgets::PictureTextItem", description: "Provides a way to display a picture next to text e....", css_class: "widgets-picture-text", partial_path: "/widgets/picture_text/show", widget_settings_partial_path: "/widgets/shared/widget_settings_template", show_item_partial_path: "/widgets/picture_text_items/item", edit_item_partial_path: "/widgets/picture_text_items/edit", javascript: nil, has_many_items: true, auto_edit_mode: true, cache: false, supports_news_feed_item: true, news_feed_item_as_widget_item: true>


WidgetItem.find 6901
  WidgetItem Load (1.2ms)  SELECT `widget_items`.* FROM `widget_items` WHERE `widget_items`.`id` = 6901 LIMIT 1
ActiveRecord::SubclassNotFound: The single-table inheritance mechanism failed to locate the subclass: 'Widgets::PictureTextItem'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite WidgetItem.inheritance_column to use another column for that information.








Is the app target to one Pharmaceutical company, or will there be signup for Pharmaceutical companies?
What are the specific actions invoved with the roles physicians, Nurses and Pharmacists?
Will there be any payment functionality(in-app purchase)?
Who will entry the patient details mentioned in "Addendum" for generating digital form?
Who is the target for the Questionnaire?
What type of report the app is supposed to generate?
What type of Anonymised data, you want to generate?
Understanding: Is Nurse/Physician going to enter medical test results on bahalf of patients
What type of information will be emailed to 'pharmaceutical company' and who will do so?

Suggestion:

Data storage cannot be owned by the pharmaceutical company
| A third, independent, party should be the owner of the data storage (server)

We can use parse server to save/manipulate data

Anonymize data: Remove identifying particulars or details from (something, especially medical test results) for statistical or other purposes.


Free & outlook source, high-organization, distributed memory plan caching system, generic in natural world, but epoch-privileged for use in speeding happening vibrant web applications by alleviating database load. Memcached is a volatile in-memory key-value origin.It is rude, multithreaded and used primarily for caching objects, for that footnote reduces the response load going as regards for the databases. 





Memcached is easy yet powerful. Its manageable design promotes fast deployment, ease of exaggeration, and solves many problems facing large data caches. Its API is possible for most dexterously-liked languages.Free & outlook source, high-organization, distributed memory plan caching system, generic in natural world, but epoch-privileged for use in speeding happening vibrant web applications by alleviating database load. Memcached is a volatile in-memory key-value origin.It is rude, multithreaded and used primarily for caching objects, for that footnote reduces the response load going as regards for the databases. 







Redis is a data structure server. The powerful data types are particularly important. They come taking place considering the child support for entry redis to offer a wonderful shared queue (lists), a pleasant messaging unqualified (pub/sub), a pleasant place for storing sessions (hashes), and a compelling place for high score tracking (sorted sets). These are just a few examples that scrape the surface.


Let's discuss about the key points as follows:



Installation:

Comparing ease of Installation Redis is much easier. No dependencies required.

Memory Usage:

Memcached's internal memory supervision, while not as substitute as Redis, Memcached is more efficient because Memcached will consume comparatively less memory resources for metadata.For easy key-value pairs memcached is more memory efficient than Redis. If you use Redis hashes, after that Redis is more memory efficient.

Persistence:

If you are using Memcached then data is lost with a restart and rebuilding cache is a costly process. On the other hand, Redis can handle persistent data. By default, Redis syncs data to the disk at least every 2 seconds. Redis offers optional and tunable data persistence meant to bootstrap the cache after a planned shutdown or an unintentional failure. While we tend to regard the data in caches as volatile and transient, persisting data to disk can be quite valuable in caching scenarios



Replication:

Memcached does not supports replication. Whereas Redis supports master-slave replication. It allows slave Redis servers to be exact copies of master servers. Data from any Redis server can replicate to any number of slaves. Redis can replicate the data that it manages. Replication can be used for implementing a very to hand cache setup that can withstand failures and find the maintenance for uninterrupted facilitate to the application



Storage type:

Memcached stores variables in it’s memory. It retrieve any information directly from the servers memory instead of hitting the database again. On the other hand, Redis is like a database that resides in memory. It executes (read and write) a key/value pair from its database to return the resultset and all data resides in memory.Developers are using Redis also for real-time metrics, analytics.


Read/Write Speed:

Memcached is very good to handle high traffic websites. It can read lots of information at a time and give you back at a great response time. Redis can also handle high traffic on read but also can handle heavy writes as well.

Data Structure:

Memcached uses string and integer as data structure. Everything you save can be either one or the other. With integer, the only data manipulation you can do is adding or subtracting them. If you need to save arrays or objects, you will have to serialize them first and then save them. To read them back, you will need to un-serialize.

In comparison Redis has a stronger data structures. It can handle not only strings, integer but also binary-safe strings, lists of binary-safe strings, sets of binary-safe strings and sorted sets.

Key Length:

Memcached key length has a maximum of 250 bytes, whereas Redis key length has a maximum of 2GB.


Here is benchmarking result by DB-Engines, which clearly shows the winner






If you need advanced data structures or disk-backed persistence, you should look into Redis. On the other hand, you might want to stick to Memcached for its simplicity, reliability and speed.





My advice: if you need to cache database queries or REST round trips or numbers or page fragments, use memcached.  Most cached data types and caching needs are simple and straight forward.  This is 80% of all caching needs.  

If you need to do operations on cached datasets at once, or need to spread one enormous cache over a geographically challenged area, or read-write splitting against caching will enormously help performance and alleviate cache connection starvation, use redis.  



If you showing off to operate operations upon cached datasets at as soon as, or quirk to exasperate one earsplitting cache more than a geographically challenged place, or door-write splitting nearby caching will every one to the front happening deed and dispel cache association starvation, use redis.  

Use Redis, if you need to do operations on cached datasets at once, or need to spread one enormous cache over a geographically challenged area, or read-write splitting against caching will enormously help performance and alleviate cache connection starvation






memcached-vs-redis-which-one-to-pick-for-large-web-app






Register User
================

http://192.168.2.174:3001/api/v1/register_user.json?name=test&address=testaddress&location=20.122526,85.121517&forest_division=andola

=> auth_token 


Start Petrolling
================

http://192.168.2.174:3001/api/v1/auth_token/create_petroling.json?position=

=> Insert into 'Petroling' table and return 'petroling_id'


http://192.168.2.174:3001/api/v1/auth_token/create_petroling.json?position=&petroling_id=

=> petroling_id

>> Insert also in petroling_locations


Start Petroling
http://192.168.2.174:3001/api/v1/auth_token/start_petroling.json?petroling_type=&image_url=&petroling_id=&position=

For custom:

http://192.168.2.174:3001/api/v1/auth_token/start_petroling.json?petroling_type=custom&image_url=&petroling_id=&datetime=&position=&custom_petroling_name=

=> success response


Stop Petroling
=====================

http://192.168.2.174:3001/api/v1/auth_token/stop_petroling.json?petroling_id=&position=

is_finished => false/true


This is just a friendly reminder that there are few stuffs pending as follows:


Hi Max,

Hope you had a great weekend!

This is just a friendly reminder that we are still waiting for few items listed as follows:

List of source types
Static image(Male/Female) that will highlight list of procedures
List of procedures available for specific body parts
Amazon s3 credentials (For storing of lead images)
Confirmation of list box implementation in Lead WorkFlow page (As discussed in our previuos call)

Please try to provide us the information by today EOD, so that we can deliver the stuffs more precisely and in a timely manner.


Best,
Amit






synopsis

highlevel task breakdown



Flow chart diagram



The design and development of the app
	Approach and methodology
	Data
		Security
		Encryption
	PDF 
		Generation, with anonymised patient data
		Emailing the PDF (sending, changing email address
		
		
Timeline (milestones, interactions, testing, delivery, etc.)

Deployment
	How will the app be hosted? Where? Cost?
	Provide information on the type and cost of data storage
		
		
	
Signup
	Pharmaceutical company
	Physicians/nurses/pharmacists
	
Login 
	Pharmaceutical company
	Physicians/nurses/pharmacists
		
Pharmaceutical company - Admin 
	- bulk upload products
	- Add/Edit

Physicians/nurses/pharmacists
	- Choose pharmaceutical company in dashboard
	- Filling up "Adverse Event and Special Situation Reporting form" for particular pharmaceutical product
	- Send the completed form as pdf report format to particular pharmaceutical company 
	
	

	
	
Questions:
1. Is the Admin has ability to view list of reports generated by Physicians/nurses/pharmacists in Dashboard?
2. Should the product list in report form be auto-suggest (Addendum - 3, Section-4)
3. What are the criterias to validate for NIS, MAP and CUP sections (Addendum - 1 and 2)


Understanding:

Physicians/nurses/pharmacists will choose first the respective pharmaceutical company before filling up the report form
	
	
	
	
	
		definitely
		
		

Publish android app to Playstore
=========================================
All the steps that need to publish app in playstore given by ionic, can be maintained by eclipse.
We create signed in apk in eclipse using the following steps.
1. Import the platforms/android folder. 
2. Right click on project folder and choose Android Tools->Export Signed Application Package.
3. It will show a dialog box where we need browse the path where we want to store signed apk.
4. 'Keystore selection' dialog box will open, where 2 options are given as 
	- Use existing keystore
	- Create new keystore
5. Browse the location where we want to store your key if key is not created and enter a password or choose the key if already exist and enter the existing password.
6. In next window we have to given an alias name for project.Then the signed apk will be generated.
7. We upload current signed apk to playstore.


In ios, we are using the steps that are given in ionic http://ionicframework.com/docs/guide/publishing.html


KRS:
What is Mixpanel. Why we need this. How to implement it in Jquery and Ruby.
SMB:
Documenting rails application code and functionality



==========================================================================================================================
Findings:

1. Blog is written specifix to Rails 3.X Need to change the title

	4 Simple Steps to Implement “Delayed Job” in Rails    (TO)	4 Simple Steps to Implement “Delayed Job” in Rails 3.X

2. gem 'delayed_job_active_record', '0.4.3'	

	This gem is too old now and specific to Rails3. We need to write a new blog with version '4.1.0' that supports Rails4
	
3. Broken url of Kurrentjobs in case study example

        Here is what we have benefited by using “delayed_job”. – A case study:







>> blog on proc and lambada



Hi Veena,
 
Hope you are doing good. It was a great experience interacting with the technical team last week.
I will be happy to hear back from you for the further process.
 
Regards,
Amit

redirect_to root_path
redirect_to root_url




Hi Carmen,

We hope this email finds you well. We want to follow up on the invoice#lg-16. We have not received the payment from you yet, so we wanted to ensure that the email is not lost somewhere in your mailbox. Your prompt payment would be appreciated.

Please ignore the email if you have already initiated the payment.

Best,
Amit


Testimonial - Template - Video
 - Fanzoos
 - Leaguer - Payment reminder
 - CRMBeauty

Casestudy
 - Fanzoos - GLX
 - Leaguer - AMT
 - PRIMP - KRS

 
Requesting for a Testimonial 
 
Hi Max,

Thank you for your business. Happy clients are vital to the success of our business. We would appreciate if you could spare just a few moments to
write a testimonial on the services that we provided and your experience throughout the campaign including what you liked most about us. 

We sincerely appreciate your help and look forward to our relationship continuing well into the future.

Best,
Amit






Read and examine the case thoroughly
	Take notes, highlight relevant facts, underline key problems.
Focus your analysis
	Identify two to five key problems
	Why do they exist?
	How do they impact the organization?
	Who is responsible for them?
Uncover possible solutions
	Review course readings, discussions, outside research, your experience.
Select the best solution
	Consider strong supporting evidence, pros, and cons: is this solution realistic?
	
	
Leaguer is free, easy to use league management software that enables you to manage all aspects of your team, club or league.  Leaguer makes it easy to update the content on your website, manage online registration and broadcast game changes.  Leaguer also integrates with leading social websites, meaning you can post announcements on your website, facebook page and twitter feeds as well as send email and text messages simultaneously with a single click.
	
	
	
	
	
This case study narrates how Andolasoft helped Leaguer to monetize by delivering mobile application. AuditNet serves the
global audit community as the primary communications resource with an online digital network where auditors share resources, tools, and experiences including audit work programs and other audit documentation. The AuditNet web application is designed to handle larger user base and online payments for the subscription plans.



Our clients leaguer, wanted to build a system that enables potential buyers to visit shops, browse through products, and avail discounts on their mobile devices spanning iOS, Android, and BlackBerry platforms. This case study illustrates how we created the feature-rich, crossplatform mobile app using RhoMobile framework to help our clients reach their target audience of mobile users across these popular mobile platforms



Our client 'leaguer', wanted to build a mobile app that will reflect some of the core functionalities of the existing web application(that Andolasoft delivered). Leaguer is free, easy to use league management software that enables to manage all aspects of teams, clubs or leagues.  Leaguer makes it easy to  manage online registration and broadcast game changes.  Leaguer also integrates with leading social websites, meaning one can post announcements on the website, facebook page and twitter feeds as well as send email and text messages simultaneously with a single click.





Business Situation

Due to the growth of smartphone application usages, there was an opportunity for Leaguer to attract smartphone users looking for league management application. Also the smartphone application would help the existing users to seamlessly access the core functionalities like managing schedules, team management, registration, cart and make payment inside their smartphone application without need to browsing the website.





Our Solution & Customer Benefits


The app would
enable potential buyers to browse shops, categories, and products using their mobile devices and download discount coupons offered by shop owners. This
feature-rich app needed to reach a cross-platform target audience of mobile users spread across popular mobile platforms such as iOS, Android, and
Blackberry.
	
	
ionic framework, with its impressive suite of polished tools, was selected for building the cross-platform mobile app
	
	
	
	
Andolasoft developed the mobile app and the backend API endpoints which communicates with the Leaguer web platform, completed in 16 weeks of the timeframe. Andolasoft also helped Leaguer to place the smartphone application on the respective market places for iOS, Android. 







staging => multiple_practice 
multiple_practice => staging

16hrs


validate why country is nil
changes in the user location page
change color scheme to orange and green
last 1month => date wise
3months => weekwise
6months/1year => month wise 


https://i.diawi.com/eBWuCa



Hi Carmen,

We have pushed all our changes regarding the mobile app to "code_merging" branch. And also attached documents which describes, the steps we followed to make the code base same and also steps need to be followed while updating anything within the application.

here is the diawi link to install the app,
https://i.diawi.com/eBWuCa

Please verify and let us know your feedback.

Best,
Amit



Hi Max, 

After investigation we found that currently there are more than 50 conflicts in 29 files which also include modification in existing DB schema like roles, sales coordinator rotation, procedures...etc. So this would take tentatively 30-35hrs to merge 'multiple-practice' with 'staging' and vice versa. This timeline has been estimated for the entire changes made till today.

Please let us know if you want to proceed.

Best,
Amit






1157

http://stackoverflow.com/questions/38075634/show-results-based-on-experiment-type/38078890#38078890



Hi Max, did you get a chance to look into the payments(invoice#mr-010, mr-011 and mr-012). Can you please make the payments in this week. Please ignore the email if you already have initiated the payment.


Best,
Amit


Case-1 (Assuming app is is in foreground)



Case-2 





#<Game _id: 577524389270c0cffe003256, created_at: 2016-06-30 13:52:56 UTC, updated_at: 2016-06-30 13:58:01 UTC, title: "Rex boss", created_by: "56fb8f1f9270c0b8f6003e3c", sport_id: "5649a0c99270c08728000003", custom_sport_name: "null", visibility: "public", address: "Vani Vihar, Bhubaneswar, Odisha, India", location: [20.3039745, 85.8396655], game_type: "indoornull", play_date: 2016-06-30 00:00:00 UTC, start_time: "07:15 PM", end_time: "09:15 PM", skill_level: "rookies", initial_note: "", status: true, max_player: 0, place_id: "5732e6299270c06721000dad", geo_place_id: "", time_zone: "Asia/Calcutta", play_utc_date: 2016-06-30 13:45:00 UTC, play_end_utc_date: 2016-06-30 15:45:00 UTC, game_category: "", geo_reference: nil, geo_photo_reference: nil, original_owner: nil, is_recurring: false, recurring_type: nil, recurring_game_id: nil, court_id: nil, country: "India", state: "Odisha", city: "Bhubaneswar">




Hi Max, did you get a chance to look into the payments(invoice#mr-010, mr-011 and mr-012). Can you please make the payments in this week. Please ignore the email if you already have initiated the payment.

Best,
Amit


Good morning - I do apologize. Had two staff members resign this week - have a bit of work to do to make sure everything is in order. The invoices are with accounting and we will touch base this week. I will shoot you an email. Thank you.


Hi Max,

Hope you are doing good.

As per the schedule, we kept waiting for our call. Seems you are busy with your operations. Nevermind, we can reschedule our meeting for tomorrow @10:00AM EST. Please let us know your availability.

We checked with accounts dept. and your payment status is still showing overdue. Can you please take care of it asap. Please ignore if you have already initiated the payment.

Best,
Amit




Hi Nikhil,

We have verified the player count issue and found to be working fine. 

Here are the test scenarios we followed,


Player count issue

Scenario-1: While the App in foreground state (Assuming User-A is in Game detail page)

User-A created a new game and invited few teammates to the game.
User-B received the nearby push notification and joined that game.
User-A's game detail page is reloaded and updated the player count. 
User-B left that game.
User-A's game detail page is reloaded and updated the player count correctly. 


Scenario-2: While the App in foreground state (Assuming User-A is not in Game detail page)

User-A created a new game and invited few teammates to the game.
User-B received the nearby push notification and joined/left that game.
User-A clicked that particular game, page is getting reloaded and the player count is updated correctly

Scenario-3: While the App in background state 

User-A created a new game and invited few teammates to the game.
User-B received the nearby push notification and joined/left that game.
User-A received push notification regarding joining/leaving the game, After clicking the notification user-A is redirected to the players section with updated players

Possible cause of issue:

User-A created a new game and invited few teammates to the game.
User-B received the nearby push notification and joined/left that game.
User-A received push notification regarding joining/leaving the game, without clicking the notification user-A opened the app assuming the game detail page was already opened in background, then the counts are not being reflected correctly.


And another scenario is, if push notification was not received or might be delayed, then the game detail page not updating the player count

Sports filters issue in My Teammates section

We have verified the sports filter issue in My Teammate section by using your auth token and able to view all the sports filter(Attached Screenshot for reference) based on the teamamte's primary sport. 


Please let us know your feedback. Can you please let us know the build version you are using along with your iOS device version that will help us to debug precisely.


Hi Carmen,

Hope you are doing good.

We managed to do overall testing after the code merging in mobile app and found the following issues, 
Design break issue in Confirm message popups 
In all forms after entering data through mobile keyboard, page scrolling is not working as expected
Keyboard hide issue in registration form
Null value display issue in Team standings page

We have already fixed all the issues and pushed the changes to "code_merging" branch.

Here is the diawi link, https://i.diawi.com/1y3kZy
ᐧ
Please verify and let us know your feedback.

Best,
Amit











ios - 8
web - 2
android - 6



wus => 10-11 
primp - 11 -12


Andolasoft - Requesting for a Testimonial

Hi Carmen,

Thank you for your business. Happy clients are always vital to the success of our business. 

We would appreciate if you could spare just a few moments to write a testimonial on the services that we provided and your experience throughout the campaign including what you liked most about us. 

We sincerely appreciate your help and look forward to our relationship continuing well into the future.

Best,
Amit


Hi Sir,

As per your instruction, we have uploaded our latest code base to dropbox and here is the shared link,
https://www.dropbox.com/sh/5nqa5gpjy9rraig/AAAod6nB-Bh5lsE1Ra-e-RP3a?dl=0

Currently rails staging server is synced with live server. We have also created the new admin user with credentials(demo@squadz.com/uT8VzaUs)


Best,
Amit


15 00 * * *  /usr/local/rvm/gems/ruby-2.1.1@squad/bin/rake squad:calculate_rewards >> /var/log/calculate_reward.log;
15 00 * * *  /usr/local/rvm/gems/ruby-2.1.1@squad/bin/rake squad:add_recurring_games >> /var/log/recurring_game.log;




0,30 * * * * /bin/bash -l -c 'cd /var/www/html/Jenkins/workspace/LeaguerDemo_API && RAILS_ENV=staging bundle exec rake leaguer:events:remind_by_push_notification --silent >> /var/log/cron_log.log 2>&1'


1 * * * * /bin/bash -l -c 'cd /var/squad && bundle exec rake squad:test_task --silent >> /var/log/calculate_reward.log 2>&1'



1 * * * * cd /var/squad && /usr/local/rvm/gems/ruby-2.1.1@squad/bin/rake squad:add_recurring_games


Very Satisfied
Satisfied
Neutral
Unsatisfied


We are wondering if you would be able to help us out regarding a survey. Your assistance in this matter would really help Andolasoft better understand our customers' need and allow us to better survey in the future.

It only takes couple of minutes to complete, so if you could take a look and assist us, it would be most apprecaited.

Please use a 5-point scale where 1 is Not Satisfied and 5 is Completely Satisfied


Attentive to emails & chats
Articulation skills
Urgency
Email communication
Understanding ascent
Verbal communication
Technical sound
Solution oriented










Sir,

Here is the tentative timeline for mobile app development

Native:

API request & response object building. Basically how to build the API  and API development 1 week
It will take around 2 weeks to integrate all the API to the mobile app with proper testing
The UI layout design and the mobile app development will take 6 weeks
Other global development will take 3 weeks
Functionality testing will take 2 weeks
This project will be developed for Android environment and it will take tentatively 14 weeks.


Hybrid:

API request & response object building. Basically how to build the API  and API development 1 week
It will take around 2 weeks to integrate all the API to the mobile app with proper testing
The UI layout design and the mobile app development will take 4 weeks
Other global development will take 3 weeks
Functionality testing will take 2 weeks
This project will be developed for Android environment and it will take tentatively 12 weeks.





Image Streach issue
Emoji issue
Recurring game accept and reject
New Check in changes

I need a way to be able to contact through the app or email all users.  A lot of apps send you pop ups randomly with information when they have something to explain and what not.

In addition, if we had a company account, say "squadzteam", like snapchat has "Team Snapchat", would we be able to automatically be everyone's friend when they first sign up and automatically have a message in their inbox with information for first time users?  This is exactly what snapchat does and we see a lot of benefits in doing so.





I received this email from a client today. This is at least the 5th time this has happened since the upgrade and migration away from delayed job to redis. You wonder why I haven't paid for the CDN migration but I still have regular issues with all the work that was done previously and even though there are supposed to be monitors in place to make sure things are up and running the news posting service keeps breaking and my clients tell me.  Before the migration I remember one time in 5 years where there was an issue with the news.

This client and probably several others are  likely going to go to another competitor because we've had such stability issues and it's very hard to give a testimonial when I constantly have to worry about issues like this. You guys are very nice people but the quality of work just isn't what I need to have a competitive product.  And when I have to hire other consultants to review your code as in the mobile app you no longer are priced competitively because of the additional expense of these other consultants.
I would love to move on to new projects but I honestly don't know how to do that when there are still fundamental issues with the base product.



I logged into the server and started sidekiq again.  The questions are why does it crash and why didn't the monitoring we put in place restart it automatically?

===============================================================================================================================================


We investigated about the situation and here are our findings,

Sidekiq crash

When Memory Utilization is getting high in the production server, the sidekiq process is not getting enough memory to start/execute the process, hence the process is killed and sidekiq stops working.

Solution

To overcome this situation, monit is in place in staging server. We had already given you all the details regarding this in OS task#370, but after this we have not heard anything from your side like to integrate it in production. We had already followed up and requesting a meeting with you so many times earlier. We also realise that you are extremly busy with your operation, but if we could have few meetings earlier, then this issue might be fixed.

Regarding the mobile application, we have given you one codebase without any sort of extra charges. And also fixed some of the issues reported by you and founded by us. And now the app is running smoothly.

Lets schedule a one to one call to discuss your concerns.

=================================================================


Hi Carmen,

We investigated about the situation and here are details,

Sidekiq crash
When Memory Utilization is getting high in the production server, the sidekiq process is not getting enough memory to start/execute the process, hence the process is killed and sidekiq stops working.

Solution
We already built solution for this issue by implementation of the Monit. As per our earlier discussion you asked us to push this implementation to staging server for your review & asked us to send the script, which is also provided to you on task#370. But unfortunately we didn't heard anything from your side to integrate it in the production environment. So this was never pushed to production. After that we have been following up with you for a meeting but it didn't happen as you were tremendous busy.

Mobile app
Regarding the mobile application, we made the separate code base to one code base and already sent to you with no extra charges. Also fixed some of the issues reported by you and founded by us. And now the app is running smoothly. I do not know what you have heard from another consultant, but the pricing which we gave to you was very fair and we both agreed to that. Even though we never discussed about the bonus when we finished the app before the timeline.


Can we have a call schedule to discuss your concerns, so that we can clarify the stuffs.


Best,
Amit






Thanks Carmen for making the payment, the accounts department just confirmed about the payment done.
As discussed on Skype yesterday, let's setup a call next week and discuss.

Have a wonderful holiday!!!




CRM	600		
AI	950





Started GET "/get_funnel_chart?quarter=1-2016&lead_range=30-Days" for 10.0.2.2 at 2016-09-20 11:00:51 +0000
Processing by ReportsController#get_funnel_chart as */*
  Parameters: {"quarter"=>"1-2016", "lead_range"=>"30-Days"}
  User Load (1.1ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  Organization Load (2.4ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 2 LIMIT 1
   (3.8ms)  SELECT COUNT(DISTINCT `deals`.`id`) AS count_id, deal_statuses.original_id AS deal_statuses_original_id FROM `deals` LEFT OUTER JOIN `deal_statuses` ON `deal_statuses`.`id` = `deals`.`deal_status_id` WHERE `deals`.`organization_id` = 2 AND (deals.deal_status_id IS NOT NULL) AND (`deals`.`created_at` BETWEEN '2016-01-01 00:00:00' AND '2016-03-31 00:00:00') GROUP BY deal_statuses.original_id
Compiled funnel.js  (3ms)  (pid 6922)
Compiled exporting.js  (2ms)  (pid 6922)
  Widget Load (1.3ms)  SELECT `widgets`.* FROM `widgets` WHERE `widgets`.`user_id` = 2 LIMIT 1
  Rendered reports/_tag_chart_view.haml (7.1ms)
  Rendered reports/_sales_funnel_chart.haml (550.2ms)
Completed 200 OK in 10763ms (Views: 826.7ms | ActiveRecord: 8.6ms)


Started GET "/assets/funnel.js?body=1&_=1474369221241" for 10.0.2.2 at 2016-09-20 11:01:03 +0000
RailsDevTweaks: Skipping ActionDispatch::Reloader hooks for this request.
Served asset /funnel.js - 200 OK (23ms)


Started GET "/assets/exporting.js?body=1&_=1474369221242" for 10.0.2.2 at 2016-09-20 11:01:03 +0000
RailsDevTweaks: Skipping ActionDispatch::Reloader hooks for this request.
Served asset /exporting.js - 200 OK (11ms)
----------------- confirmation_required? ------------------
"girijalaxmi.mishra@andolasoft.com"


Started POST "/pie_tag_chart" for 10.0.2.2 at 2016-09-20 11:01:03 +0000
Processing by ReportsController#pie_tag_chart as */*
  Parameters: {"quarter"=>"1-2016"}
  User Load (1.5ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  Organization Load (3.2ms)  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 2 LIMIT 1
   (3.4ms)  Select tags.name as tag_name, Count(deals.id) as count,deal_statuses.name as deal_status,deal_status_id from deals inner join taggings,tags,deal_statuses where deals.organization_id = 2 and deals.id = taggings.taggable_id and deals.is_active=1 and deals.created_at between '2016-01-01' and '2016-03-31' and taggings.taggable_type='Deal' and tags.id = taggings.tag_id and deal_statuses.id = deals.deal_status_id Group by tag_id,deal_status_id,tags.name
   (3.1ms)  Select tags.name as tag_name, Count(deals.id) as count from deals inner join taggings,tags,deal_statuses where deals.organization_id = 2 and deals.id = taggings.taggable_id and deals.is_active=1 and deals.created_at between '2016-01-01' and '2016-03-31' and taggings.taggable_type='Deal' and tags.id = taggings.tag_id and deal_statuses.id = deals.deal_status_id Group by tag_id,tags.name order by count desc LIMIT 10
  Rendered reports/_pie_tag_chart.haml (2.5ms)
Completed 200 OK in 3021ms (Views: 266.1ms | ActiveRecord: 11.2ms)

===============================
Total billing informations
===================================================
1600
Cloud Database  - 149
Cloud Files - 10
Cloud Servers - 1186
Cloud Bandwidth - 10
Cloud Load Balancers - 45
Services - 232

===============================================
SUPPORT CHARGES
	Managed Operations - SysOps $500.00

PRODUCT CHARGES
	Cloud Bandwidth $10.47
	Cloud Databases $149.42
	Cloud Files  $9.94
	Cloud Load Balancers $45.41
	Cloud Load Balancer Connections $0.19
	Cloud Servers  $919.08 -> 595
		Staging API - 119 
		Production App (Rails3) - 476
		Production API - 119
		Production Background - 119
		Staging App - 119
		Staging Background & Jenkins - 119
	Server Image - 115
		

1600 - 324 - 500 



====================
cordova - 6.3



cordova - 5.X



http://eaz.andolasoft.co.in/timesheet_view.php?year=2016&month=10&day=03
http://eaz.andolasoft.co.in/back_date_entry.php


http://guides.rubyonrails.org/security.html#cross-site-request-forgery-csrf
http://blog.bigbinary.com/2012/05/10/xss-and-rails.html
https://www.netsparker.com/blog/web-security/ruby-on-rails-security-basics/

Have Knowledge in
- setting up server.
- Responsive Design(writing custom rules), Css, Scss
- Bootstrap
- mail Server setup.
- 3rd Party Api Integration(without Gems)
- Integrating Gems.
- Customizing and monkey patching gems.
- Metaprogramming.
- Rails (2.x - 4.x)
- Ruby (1.8.x - 2.x)
- PostgreSQl, Mysql, Mongo DB.
- Database Design.
- Agile Methodology.
- Writing Custom j-query plugins.
- Patterns.
- Optimization & Performance.
- Underscore.js, Jquery, Js, coffeescript
- Webservices, REST.
- AJAX
- HTML, HAML
- TDD Rspec
- Jenkins-ci integration
- Honey Badger Integration
- Spree commerce (overriding and customizing)


Ruby, Ruby On Rails, Rails (2.3.8, 3.0, 3.1, 4.1). Active Record.
Facebook, Twitter integration.
PostgreSQL, Mysql, MongoDB.
Paypal, Split payment, Paypal reference payment.
auth.net, Braintree Payments, PayUmoney,
Cron, Sidekiq, monit.
Capistrano deployment, 
Apache, Virtual Host Configurations,
Apache Passenger configuration,
Code refactoring, RubyCritic, RUBOCOP
PHP 5, CakePHP
HTML 5, CSS, SCSS, Jquery, AJAX, Bootstrap .
Rubymine, NetBeans, Aptana, Comodo.
Git, SVN
Linux(Ubuntu 9,11.04), CentOS, Windows XP.

SUMMARY OF PROFESSION: 
• Extensive Knowledge of Web development, from concept through implementation an optimization.
• Special concentration in RoR application framework and Ruby language.
• Having Experience in manager/team lead, held a team lead or management position for 
a number of years.
• Self-motivated worker with strong focus on business goals and end-user experience.
• working with multiple projects with rest of the team. Ability to try and do new things to 
Solve interesting problems.

•	Analysed system requirements specifications and involved in client interaction during requirements specifications.
•	Developed features in an agile environment using Ruby on Rails, HTML, CSS and JavaScript.
•	Planned and carried out daily scrums, weekly estimations and retrospectives and pair programming.
•	Coding using Ruby on Rails and also used JQUERY, HTML5 and advanced JS(KnockoutJS) for better look and feel.
•	Created API’S in Ruby on Rails application to respond for calls that are fired from UI. 
•	Interaction with client to handle change requests, trouble reports and requirements collection.
•	Managed code with unit tests and GitHub
•	Collaborate with Product Management and User Experience experts regarding product definition, schedule, scope and project-related decisions.
•	Manage, collaborate and coordinate the work of an offshore development team.
•	Used agile methodology and SCRUM.





  Error ID: a8e972f3
  Error details saved to: /tmp/passenger-error-lIwPzr.html
  Message from application: No such file or directory @ rb_sysopen - /var/www/html/project/SportsOnRails/releases/20161103020316/config/w
epay.yml (Errno::ENOENT)



https://aws.amazon.com/blogs/mobile/how-to-set-up-parse-server-on-aws-using-aws-elastic-beanstalk/






MongoLab Signin credential

https://mlab.com/login/
andola-parser / andola123

collection - parser-integration
user - andola
password - andola123


Configuration value
~~~~~~~~~~~~~~~~~~
App_id - parse-0e6140a01248
File_key - 8909bd2d-28f1-48e8-ad63-f349ef573ca0
MASTER_KEY - 88090a1a-85ac-481f-bc46-e416177e6099
DATABASE_URI - mongodb://andola:andola123@ds143717.mlab.com:43717/andola-parser
Elasticbeanstalk Url - http://parseserver-andola.us-east-1.elasticbeanstalk.com

pick your storage size requirement.  Mongo Lab offers up to 500 MB in its free tier


curl -X POST 
-H "X-Parse-Application-Id: parse-0e6140a01248" 
-H "Content-Type: application/json" 
-d '{"score":1337,"playerName":"John Doe","cheatMode":false}'
http://parseserver-andola.us-east-1.elasticbeanstalk.com/parse/classes/GameScore



curl -X GET 
-H "X-Parse-Application-Id: parse-0e6140a01248" 
-H "X-Parse-Master-Key: 88090a1a-85ac-481f-bc46-e416177e6099" 
http://parseserver-andola.us-east-1.elasticbeanstalk.com/parse/classes/GameScore

You can use the MongoLab console to verify that the record was created in your new database.


==========================================================================================================================================================
https://andykdocs.de/development/JavaScript/Migrating+from+PrototypeJS+to+jQuery/files/Andyk-Docs-Prototype-To-jQuery-Migration-Tool-Automated-Transformation-Version-1.html

================================
Website: Note: don’t do anything yet.  I need to check in the branch that I’ve been working on and you’ll need to branch off my add_bootstrap branch, make the changes and then I will merge your changes into the main add bootstrap branch .
- Fix Javascript in site builder
  - Page load - Page jumps on initial page load:  http://screencast.com/t/wpgPNrccPgaN
  - Drag and drop
	 - Can’t drop a widget from the widget menu on the side bar onto the page: http://screencast.com/t/kv6JHgsbJ
         - Can’t move a widget that is on the page:  http://screencast.com/t/2gjU6mQOs64

- Fix photo uploader Or better yet replace it with this JS library, which would be a much nicer interface  http://www.dropzonejs.com/ 




Hi Amit,

I pushed some new code to the add bootstrap branch that is the beginning refactoring of the menu widget and starts to make the menu responsive, so you should rebase from the add_bootstrap branch if you’ve already started work.

The second thing is that I dumped my database into dropbox.  There are some changes to the classes in the layout areas that are important and if you don’t have them, then the site builder will be completely messed up.

So use the database in the
Andolasoft - Leaguer\Database Backup folder  called: sportsdev_2016-11-16.sql
I think it will also be easiest if you use the soccer.lth.me subdomain for your development work.

Thanks,
Carmen



Hi Carmen, I hope this email finds you well!

Based on our last discussion, let me put all the stuffs together regarding the releases and invoicing strategy. We will be working on fixing the Javascript issues in SiteBuilder section from Monday - 21st Nov, 2016. 

Total tentative estimated timeline - 160hrs(@$25 = $4,000)

There will be 3 releases as follows,

Release#1 - ($1200)
Page load - Page jumps on initial page load


Release#2 - ($1200)
Drag and drop - Can’t drop a widget from the widget menu on the side bar onto the page


Release#3 - ($1600)
Drag and drop - Can’t move a widget that is on the page

Development Strategy:
We will branch off your "add_bootstrap" branch and will push all our changes to the new branch. After changes have been made, we will ask you for verification. Then you will take care of the merging of our changes into the main add_bootstrap branch.

Weekly meeting: 
I would suggest to opt for weekly meeting atlease once in a week to discuss on the progress and the remaining items. Please let us know a suitable day/time for the meeting. Wednesday/Thursday(7:AM - 8AM) EST works for us, please let us know if it suits you.

Please share your thoughts.


Note:
We have started working on creating API for uploading photo from mobile device, will provide you diawi link once it is completed.


Best,
Amit

"http://soccer.lth.me:3004" 

Fix photo uploader Or better yet replace it with this JS library, which would be a much nicer interface  http://www.dropzonejs.com/ 
 
 
Team member to be appraised – Sambit Mohanty
He worked with limited supervision on various projects except the client communication like Book bus, Urbandigs also associated in other projects like OS & Kiraya
He is a Quick learner. (Makes himself to build logic using new/updated iOS technology)
He is dedicated towards his work. 
He is a Team player and also has helping attitude for the team mate. (Helps the juniors and team mates when needed).



He quickly adopted our company culture like working in a very fast pace environment, reporting...etc
He worked with limited supervision on various projects except the client communication like CRM4Beauty, Squadz, Fanzoos, Primp, WakeUpSales
He possess the stamina to perform outstanding work and usually, work hard consistently
He has a positive attitude toward work responsibilities and colleagues
He is a Team player and also has helping attitude for the team mate. (Helps the juniors and team mates when needed)



>>He quickly adopted our company culture like working in a very fast pace environment, reporting...etc
>>He does not requires constant supervision on various projects except the client communication like CRM4Beauty, Squadz, Fanzoos, Primp, WakeUpSales
>>He possess the stamina to perform outstanding work and usually, work hard consistently
>>He has a positive attitude toward work responsibilities and colleagues.
>>He s
>>He is a Team player and also has helping attitude for the team mate. (Helps the juniors and team mates when needed)
>>Maintains good working relationships with coworkers.
>>Enthusiastic, energetic and displays positive behavior.
>band* copy/paste karidela kouthu?


Self-managed




#       modified:   app/assets/javascripts/photo_uploader.js
#       modified:   app/assets/stylesheets/dropzone.css
#       modified:   app/views/administration/photos/_new.html.erb
#       modified:   config/environments/development.rb



Details

We are currently looking at building a new marketplace website using Sharetribe's (www.sharetribe.com) open source software. 

An example which is similar to what we want is: http://www.studiotime.io/, however our website will be for a different industry.

The most important component would be the scheduling system. It would need to allow listers to set up specific availability on an hourly (or 75 min, 90 min, etc...) basis. They might only want to list certain hours of the day so it needs to be very easy to do that for them.

Project would involve:
Development of website, including building landing page
Hosting
Installing Stripe - connect managed account 
Chat box
Location Search

API Integration Required: Other, Social Media, Payment Processor






80-90hrs


Production API
166.78.241.142
 
Production App (Rails3)
162.209.0.220
 
Production Background
198.61.179.42
 
Staging API
192.237.170.38
 
Staging App
166.78.106.72
 
Staging Background & Jenkins
198.61.175.92

498  ausearch -i -k monitor-dir | less
499  pwd
500  cd /var/www/html/Jenkins/workspace/Production_background/
501  ls
502  crontab -l
503  RAILS_ENV=production bundle exec rake leaguer:registrations:send_payment_
reminder
504  history


ruby 2.1.5p273 (2014-11-13 revision 48405) [x86_64-linux]

/var/www/html/shared/config/amazon_fps.yml
/var/www/html/shared/config/bitly.yml
/var/www/html/shared/config/database.yml
/var/www/html/shared/config/facebook.yml
/var/www/html/shared/config/paypal_adaptive.yml
/var/www/html/shared/config/shutterfly.yml
/var/www/html/shared/config/twitter.yml

Hi Carmen, hope you are doing good.

We have gone through your case(regarding high RackSpace billing) and planned a strategy to get control on current cash flow.

Here are the current cloud servers present in RackSpace with charges in $/mo





Here is the plan to gradually move the servers to DigitalOcean.

Step-1
Let's first move the staging servers including production API too, as it is not extensively used now. We will keep the staging background server in RackSpace at this moment due to jenkins installed on this server. 

So in this strategy we will keep Production, Production Background and Staging Background in RackSpace and move other servers to DigitalOcean. I have also outlined the price per servers in the image.




Step-2
Then let's plan to move staging background server to DigitalOcean. We will configure and run the staging background server in production mode, so that it will become our new production background server. Now we can easily get rid of old production background server as sometimes project folders are getting spontaneouly deleted for some reason. And we can setup the new staging background server in DigitalOcean where it will work only for redis and cronjob. Jenkins server is very lightweight and can work smoothly with production background in RackSpace.

Here is the proposed final cloud servers in RackSpace and DigitalOcean


We also need to scale down the production server.  Lets plan for it when boostrap ready for production move.

Please share your thoughts.

























